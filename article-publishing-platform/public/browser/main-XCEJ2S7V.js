import{a as U,b as ve,c as i0,e as t$,g as Xs,h as I}from"./chunk-MG3ERZGY.js";function Ux(t,e){return Object.is(t,e)}var Jt=null,ed=!1,Jf=1,Jr=Symbol("SIGNAL");function Be(t){let e=Jt;return Jt=t,e}function jx(){return Jt}function n$(){return ed}var Tl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ep(t){if(ed)throw new Error("");if(Jt===null)return;Jt.consumerOnSignalRead(t);let e=Jt.nextProducerIndex++;if(sp(Jt),e<Jt.producerNode.length&&Jt.producerNode[e]!==t&&td(Jt)){let n=Jt.producerNode[e];ip(n,Jt.producerIndexOfThis[e])}Jt.producerNode[e]!==t&&(Jt.producerNode[e]=t,Jt.producerIndexOfThis[e]=td(Jt)?qx(t,Jt,e):0),Jt.producerLastReadVersion[e]=t.version}function r$(){Jf++}function Bx(t){if(!(td(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Jf)){if(!t.producerMustRecompute(t)&&!np(t)){t.dirty=!1,t.lastCleanEpoch=Jf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Jf}}function $x(t){if(t.liveConsumerNode===void 0)return;let e=ed;ed=!0;try{for(let n of t.liveConsumerNode)n.dirty||zx(n)}finally{ed=e}}function Hx(){return Jt?.consumerAllowSignalWrites!==!1}function zx(t){t.dirty=!0,$x(t),t.consumerMarkedDirty?.(t)}function nd(t){return t&&(t.nextProducerIndex=0),Be(t)}function tp(t,e){if(Be(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(td(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ip(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function np(t){sp(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Bx(n),r!==n.version))return!0}return!1}function rp(t){if(sp(t),td(t))for(let e=0;e<t.producerNode.length;e++)ip(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function qx(t,e,n){if(Gx(t),t.liveConsumerNode.length===0&&Wx(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=qx(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ip(t,e){if(Gx(t),t.liveConsumerNode.length===1&&Wx(t))for(let r=0;r<t.producerNode.length;r++)ip(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];sp(i),i.producerIndexOfThis[r]=e}}function td(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function sp(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Gx(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Wx(t){return t.producerNode!==void 0}function Kx(t){let e=Object.create(i$);e.computation=t;let n=()=>{if(Bx(e),ep(e),e.value===Xf)throw e.error;return e.value};return n[Jr]=e,n}var s0=Symbol("UNSET"),o0=Symbol("COMPUTING"),Xf=Symbol("ERRORED"),i$=ve(U({},Tl),{value:s0,dirty:!0,error:null,equal:Ux,producerMustRecompute(t){return t.value===s0||t.value===o0},producerRecomputeValue(t){if(t.value===o0)throw new Error("Detected cycle in computations.");let e=t.value;t.value=o0;let n=nd(t),r;try{r=t.computation()}catch(i){r=Xf,t.error=i}finally{tp(t,n)}if(e!==s0&&e!==Xf&&r!==Xf&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function s$(){throw new Error}var Qx=s$;function Yx(){Qx()}function Zx(t){Qx=t}var o$=null;function Jx(t){let e=Object.create(l0);e.value=t;let n=()=>(ep(e),e.value);return n[Jr]=e,n}function op(t,e){Hx()||Yx(),t.equal(t.value,e)||(t.value=e,a$(t))}function Xx(t,e){Hx()||Yx(),op(t,e(t.value))}var l0=ve(U({},Tl),{equal:Ux,value:void 0});function a$(t){t.version++,r$(),$x(t),o$?.()}function eR(t,e,n){let r=Object.create(l$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=l=>{r.cleanupFn=l};function s(l){return l.fn===null&&l.schedule===null}function o(l){s(l)||(rp(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=a0)}let a=()=>{if(r.fn===null)return;if(n$())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!np(r))return;r.hasRun=!0;let l=nd(r);try{r.cleanupFn(),r.cleanupFn=a0,r.fn(i)}finally{tp(r,l)}};return r.ref={notify:()=>zx(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>o(r),[Jr]:r},r.ref}var a0=()=>{},l$=ve(U({},Tl),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:a0});function ge(t){return typeof t=="function"}function Sl(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ap=Sl(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ta(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Tt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ge(r))try{r()}catch(s){e=s instanceof ap?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{tR(s)}catch(o){e=e??[],o instanceof ap?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ap(e)}}add(e){var n;if(e&&e!==this)if(this.closed)tR(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ta(n,e)}remove(e){let{_finalizers:n}=this;n&&ta(n,e),e instanceof t&&e._removeParent(this)}};Tt.EMPTY=(()=>{let t=new Tt;return t.closed=!0,t})();var c0=Tt.EMPTY;function lp(t){return t instanceof Tt||t&&"closed"in t&&ge(t.remove)&&ge(t.add)&&ge(t.unsubscribe)}function tR(t){ge(t)?t():t.unsubscribe()}var Xr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Dl={setTimeout(t,e,...n){let{delegate:r}=Dl;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Dl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function cp(t){Dl.setTimeout(()=>{let{onUnhandledError:e}=Xr;if(e)e(t);else throw t})}function na(){}var nR=u0("C",void 0,void 0);function rR(t){return u0("E",void 0,t)}function iR(t){return u0("N",t,void 0)}function u0(t,e,n){return{kind:t,value:e,error:n}}var ra=null;function Al(t){if(Xr.useDeprecatedSynchronousErrorHandling){let e=!ra;if(e&&(ra={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ra;if(ra=null,n)throw r}}else t()}function sR(t){Xr.useDeprecatedSynchronousErrorHandling&&ra&&(ra.errorThrown=!0,ra.error=t)}var ia=class extends Tt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,lp(e)&&e.add(this)):this.destination=d$}static create(e,n,r){return new ei(e,n,r)}next(e){this.isStopped?h0(iR(e),this):this._next(e)}error(e){this.isStopped?h0(rR(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?h0(nR,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},c$=Function.prototype.bind;function d0(t,e){return c$.call(t,e)}var f0=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){up(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){up(r)}else up(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){up(n)}}},ei=class extends ia{constructor(e,n,r){super();let i;if(ge(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Xr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&d0(e.next,s),error:e.error&&d0(e.error,s),complete:e.complete&&d0(e.complete,s)}):i=e}this.destination=new f0(i)}};function up(t){Xr.useDeprecatedSynchronousErrorHandling?sR(t):cp(t)}function u$(t){throw t}function h0(t,e){let{onStoppedNotification:n}=Xr;n&&Dl.setTimeout(()=>n(t,e))}var d$={closed:!0,next:na,error:u$,complete:na};var xl=typeof Symbol=="function"&&Symbol.observable||"@@observable";function hn(t){return t}function p0(...t){return m0(t)}function m0(t){return t.length===0?hn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var de=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=f$(n)?n:new ei(n,r,i);return Al(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=oR(r),new r((i,s)=>{let o=new ei({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[xl](){return this}pipe(...n){return m0(n)(this)}toPromise(n){return n=oR(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function oR(t){var e;return(e=t??Xr.Promise)!==null&&e!==void 0?e:Promise}function h$(t){return t&&ge(t.next)&&ge(t.error)&&ge(t.complete)}function f$(t){return t&&t instanceof ia||h$(t)&&lp(t)}function g0(t){return ge(t?.lift)}function Se(t){return e=>{if(g0(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(t,e,n,r,i){return new rd(t,e,n,r,i)}var rd=class extends ia{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Rl(){return Se((t,e)=>{let n=null;t._refCount++;let r=Ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Nl=class extends de{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,g0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tt;let n=this.getSubject();e.add(this.source.subscribe(Ie(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tt.EMPTY)}return e}refCount(){return Rl()(this)}};var aR=Sl(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class t extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new dp(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new aR}next(n){Al(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Al(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Al(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?c0:(this.currentObservers=null,s.push(n),new Tt(()=>{this.currentObservers=null,ta(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new de;return n.source=this,n}}return t.create=(e,n)=>new dp(e,n),t})(),dp=class extends ot{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:c0}};var St=class extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var id={now(){return(id.delegate||Date).now()},delegate:void 0};var sd=class extends ot{constructor(e=1/0,n=1/0,r=id){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}};var hp=class extends Tt{constructor(e,n){super()}schedule(e,n=0){return this}};var od={setInterval(t,e,...n){let{delegate:r}=od;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=od;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ml=class extends hp{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return od.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&od.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ta(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Pl=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Pl.now=id.now;var kl=class extends Pl{constructor(e,n=Pl.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ol=new kl(Ml),y0=Ol;var fp=class extends Ml{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var pp=class extends kl{};var ad=new pp(fp);var hr=new de(t=>t.complete());function mp(t){return t&&ge(t.schedule)}function lR(t){return t[t.length-1]}function Fl(t){return ge(lR(t))?t.pop():void 0}function eo(t){return mp(lR(t))?t.pop():void 0}function gp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function uR(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function cR(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sa(t){return this instanceof sa?(this.v=t,this):new sa(t)}function dR(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(_){return Promise.resolve(_).then(g,h)}}function a(g,_){r[g]&&(i[g]=function(T){return new Promise(function(A,L){s.push([g,T,A,L])>1||l(g,T)})},_&&(i[g]=_(i[g])))}function l(g,_){try{c(r[g](_))}catch(T){p(s[0][3],T)}}function c(g){g.value instanceof sa?Promise.resolve(g.value.v).then(d,h):p(s[0][2],g)}function d(g){l("next",g)}function h(g){l("throw",g)}function p(g,_){g(_),s.shift(),s.length&&l(s[0][0],s[0][1])}}function hR(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cR=="function"?cR(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var Ll=t=>t&&typeof t.length=="number"&&typeof t!="function";function yp(t){return ge(t?.then)}function vp(t){return ge(t[xl])}function _p(t){return Symbol.asyncIterator&&ge(t?.[Symbol.asyncIterator])}function wp(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function p$(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ep=p$();function Ip(t){return ge(t?.[Ep])}function bp(t){return dR(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield sa(n.read());if(i)return yield sa(void 0);yield yield sa(r)}}finally{n.releaseLock()}})}function Cp(t){return ge(t?.getReader)}function rt(t){if(t instanceof de)return t;if(t!=null){if(vp(t))return m$(t);if(Ll(t))return g$(t);if(yp(t))return y$(t);if(_p(t))return fR(t);if(Ip(t))return v$(t);if(Cp(t))return _$(t)}throw wp(t)}function m$(t){return new de(e=>{let n=t[xl]();if(ge(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function g$(t){return new de(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function y$(t){return new de(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,cp)})}function v$(t){return new de(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function fR(t){return new de(e=>{w$(t,e).catch(n=>e.error(n))})}function _$(t){return fR(bp(t))}function w$(t,e){var n,r,i,s;return uR(this,void 0,void 0,function*(){try{for(n=hR(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function er(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ti(t,e=0){return Se((n,r)=>{n.subscribe(Ie(r,i=>er(r,t,()=>r.next(i),e),()=>er(r,t,()=>r.complete(),e),i=>er(r,t,()=>r.error(i),e)))})}function to(t,e=0){return Se((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function pR(t,e){return rt(t).pipe(to(e),Ti(e))}function mR(t,e){return rt(t).pipe(to(e),Ti(e))}function gR(t,e){return new de(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function yR(t,e){return new de(n=>{let r;return er(n,e,()=>{r=t[Ep](),er(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ge(r?.return)&&r.return()})}function Tp(t,e){if(!t)throw new Error("Iterable cannot be null");return new de(n=>{er(n,e,()=>{let r=t[Symbol.asyncIterator]();er(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function vR(t,e){return Tp(bp(t),e)}function _R(t,e){if(t!=null){if(vp(t))return pR(t,e);if(Ll(t))return gR(t,e);if(yp(t))return mR(t,e);if(_p(t))return Tp(t,e);if(Ip(t))return yR(t,e);if(Cp(t))return vR(t,e)}throw wp(t)}function oe(t,e){return e?_R(t,e):rt(t)}function ue(...t){let e=eo(t);return oe(t,e)}function $n(t,e){let n=ge(t)?t:()=>t,r=i=>i.error(n());return new de(e?i=>e.schedule(r,0,i):r)}function ld(t){return!!t&&(t instanceof de||ge(t.lift)&&ge(t.subscribe))}var ti=Sl(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function v0(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let s=new ei({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new ti)}});t.subscribe(s)})}function wR(t){return t instanceof Date&&!isNaN(t)}function Z(t,e){return Se((n,r)=>{let i=0;n.subscribe(Ie(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:E$}=Array;function I$(t,e){return E$(e)?t(...e):t(e)}function Vl(t){return Z(e=>I$(t,e))}var{isArray:b$}=Array,{getPrototypeOf:C$,prototype:T$,keys:S$}=Object;function Sp(t){if(t.length===1){let e=t[0];if(b$(e))return{args:e,keys:null};if(D$(e)){let n=S$(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function D$(t){return t&&typeof t=="object"&&C$(t)===T$}function Dp(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function cd(...t){let e=eo(t),n=Fl(t),{args:r,keys:i}=Sp(t);if(r.length===0)return oe([],e);let s=new de(A$(r,e,i?o=>Dp(i,o):hn));return n?s.pipe(Vl(n)):s}function A$(t,e,n=hn){return r=>{ER(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)ER(e,()=>{let c=oe(t[l],e),d=!1;c.subscribe(Ie(r,h=>{s[l]=h,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function ER(t,e,n){t?er(n,t,e):e()}function IR(t,e,n,r,i,s,o,a){let l=[],c=0,d=0,h=!1,p=()=>{h&&!l.length&&!c&&e.complete()},g=T=>c<r?_(T):l.push(T),_=T=>{s&&e.next(T),c++;let A=!1;rt(n(T,d++)).subscribe(Ie(e,L=>{i?.(L),s?g(L):e.next(L)},()=>{A=!0},void 0,()=>{if(A)try{for(c--;l.length&&c<r;){let L=l.shift();o?er(e,o,()=>_(L)):_(L)}p()}catch(L){e.error(L)}}))};return t.subscribe(Ie(e,g,()=>{h=!0,p()})),()=>{a?.()}}function yt(t,e,n=1/0){return ge(e)?yt((r,i)=>Z((s,o)=>e(r,s,i,o))(rt(t(r,i))),n):(typeof e=="number"&&(n=e),Se((r,i)=>IR(r,i,t,n)))}function no(t=1/0){return yt(hn,t)}function bR(){return no(1)}function Ul(...t){return bR()(oe(t,eo(t)))}function jl(t){return new de(e=>{rt(t()).subscribe(e)})}function ud(...t){let e=Fl(t),{args:n,keys:r}=Sp(t),i=new de(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let d=0;d<o;d++){let h=!1;rt(n[d]).subscribe(Ie(s,p=>{h||(h=!0,c--),a[d]=p},()=>l--,void 0,()=>{(!l||!h)&&(c||s.next(r?Dp(r,a):a),s.complete())}))}});return e?i.pipe(Vl(e)):i}var x$=["addListener","removeListener"],R$=["addEventListener","removeEventListener"],N$=["on","off"];function oa(t,e,n,r){if(ge(n)&&(r=n,n=void 0),r)return oa(t,e,n).pipe(Vl(r));let[i,s]=k$(t)?R$.map(o=>a=>t[o](e,a,n)):M$(t)?x$.map(CR(t,e)):P$(t)?N$.map(CR(t,e)):[];if(!i&&Ll(t))return yt(o=>oa(o,e,n))(rt(t));if(!i)throw new TypeError("Invalid event target");return new de(o=>{let a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function CR(t,e){return n=>r=>t[n](e,r)}function M$(t){return ge(t.addListener)&&ge(t.removeListener)}function P$(t){return ge(t.on)&&ge(t.off)}function k$(t){return ge(t.addEventListener)&&ge(t.removeEventListener)}function Ap(t=0,e,n=y0){let r=-1;return e!=null&&(mp(e)?n=e:r=e),new de(i=>{let s=wR(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function fn(t,e){return Se((n,r)=>{let i=0;n.subscribe(Ie(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Xt(t){return Se((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Ie(n,void 0,void 0,o=>{s=rt(t(o,Xt(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function TR(t,e,n,r,i){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(Ie(o,d=>{let h=c++;l=a?t(l,d,h):(a=!0,d),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function Si(t,e){return ge(e)?yt(t,e,1):yt(t,1)}function xp(t,e=Ol){return Se((n,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let c=s;s=null,r.next(c)}};function l(){let c=o+t,d=e.now();if(d<c){i=this.schedule(void 0,c-d),r.add(i);return}a()}n.subscribe(Ie(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function ro(t){return Se((e,n)=>{let r=!1;e.subscribe(Ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function as(t){return t<=0?()=>hr:Se((e,n)=>{let r=0;e.subscribe(Ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function _0(t){return Z(()=>t)}function dd(t,e=hn){return t=t??O$,Se((n,r)=>{let i,s=!0;n.subscribe(Ie(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function O$(t,e){return t===e}function Rp(t=F$){return Se((e,n)=>{let r=!1;e.subscribe(Ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function F$(){return new ti}function Dn(t){return Se((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Di(t,e){let n=arguments.length>=2;return r=>r.pipe(t?fn((i,s)=>t(i,s,r)):hn,as(1),n?ro(e):Rp(()=>new ti))}function w0(t,e,n,r){return Se((i,s)=>{let o;!e||typeof e=="function"?o=e:{duration:n,element:o,connector:r}=e;let a=new Map,l=_=>{a.forEach(_),_(s)},c=_=>l(T=>T.error(_)),d=0,h=!1,p=new rd(s,_=>{try{let T=t(_),A=a.get(T);if(!A){a.set(T,A=r?r():new ot);let L=g(T,A);if(s.next(L),n){let H=Ie(A,()=>{A.complete(),H?.unsubscribe()},void 0,void 0,()=>a.delete(T));p.add(rt(n(L)).subscribe(H))}}A.next(o?o(_):_)}catch(T){c(T)}},()=>l(_=>_.complete()),c,()=>a.clear(),()=>(h=!0,d===0));i.subscribe(p);function g(_,T){let A=new de(L=>{d++;let H=T.subscribe(L);return()=>{H.unsubscribe(),--d===0&&h&&p.unsubscribe()}});return A.key=_,A}})}function Bl(t){return t<=0?()=>hr:Se((e,n)=>{let r=[];e.subscribe(Ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function E0(t,e){let n=arguments.length>=2;return r=>r.pipe(t?fn((i,s)=>t(i,s,r)):hn,Bl(1),n?ro(e):Rp(()=>new ti))}function I0(){return Se((t,e)=>{let n,r=!1;t.subscribe(Ie(e,i=>{let s=n;n=i,r&&e.next([s,i]),r=!0}))})}function b0(...t){let e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return Z(n=>{let r=n;for(let i=0;i<e;i++){let s=r?.[t[i]];if(typeof s<"u")r=s;else return}return r})}function hd(t,e){return Se(TR(t,e,arguments.length>=2,!0))}function SR(t={}){let{connector:e=()=>new ot,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,l,c=0,d=!1,h=!1,p=()=>{a?.unsubscribe(),a=void 0},g=()=>{p(),o=l=void 0,d=h=!1},_=()=>{let T=o;g(),T?.unsubscribe()};return Se((T,A)=>{c++,!h&&!d&&p();let L=l=l??e();A.add(()=>{c--,c===0&&!h&&!d&&(a=C0(_,i))}),L.subscribe(A),!o&&c>0&&(o=new ei({next:H=>L.next(H),error:H=>{h=!0,p(),a=C0(g,n,H),L.error(H)},complete:()=>{d=!0,p(),a=C0(g,r),L.complete()}}),rt(T).subscribe(o))})(s)}}function C0(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new ei({next:()=>{r.unsubscribe(),t()}});return rt(e(...n)).subscribe(r)}function T0(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,SR({connector:()=>new sd(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function fd(...t){let e=eo(t);return Se((n,r)=>{(e?Ul(t,n,e):Ul(t,n)).subscribe(r)})}function Fe(t,e){return Se((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(Ie(r,l=>{i?.unsubscribe();let c=0,d=s++;rt(t(l,d)).subscribe(i=Ie(r,h=>r.next(e?e(l,h,d,c++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function pd(t){return Se((e,n)=>{rt(t).subscribe(Ie(n,()=>n.complete(),na)),!n.closed&&e.subscribe(n)})}function tt(t,e,n){let r=ge(t)||e||n?{next:t,error:e,complete:n}:t;return r?Se((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Ie(s,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):hn}function S0(...t){let e=Fl(t);return Se((n,r)=>{let i=t.length,s=new Array(i),o=t.map(()=>!1),a=!1;for(let l=0;l<i;l++)rt(t[l]).subscribe(Ie(r,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(hn))&&(o=null))},na));n.subscribe(Ie(r,l=>{if(a){let c=[l,...s];r.next(e?e(...c):c)}}))})}var _N="https://g.co/ng/security#xss",B=class extends Error{constructor(e,n){super(pm(e,n)),this.code=e}};function pm(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var wN=Symbol("InputSignalNode#UNSET"),L$=ve(U({},l0),{transformFn:void 0,applyValueToInputSignal(t,e){op(t,e)}});function EN(t,e){let n=Object.create(L$);n.value=t,n.transformFn=e?.transform;function r(){if(ep(n),n.value===wN)throw new B(-950,!1);return n.value}return r[Jr]=n,r}function Cd(t){return{toString:t}.toString()}var Np="__parameters__";function V$(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Kw(t,e,n){return Cd(()=>{let r=V$(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(l,c,d){let h=l.hasOwnProperty(Np)?l[Np]:Object.defineProperty(l,Np,{value:[]})[Np];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ri=globalThis;function ht(t){for(let e in t)if(t[e]===ht)return e;throw Error("Could not find renamed property on target object.")}function U$(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function zn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(zn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function B0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var j$=ht({__forward_ref__:ht});function sr(t){return t.__forward_ref__=sr,t.toString=function(){return zn(this())},t}function Hn(t){return IN(t)?t():t}function IN(t){return typeof t=="function"&&t.hasOwnProperty(j$)&&t.__forward_ref__===sr}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function $t(t){return{providers:t.providers||[],imports:t.imports||[]}}function mm(t){return DR(t,CN)||DR(t,TN)}function bN(t){return mm(t)!==null}function DR(t,e){return t.hasOwnProperty(e)?t[e]:null}function B$(t){let e=t&&(t[CN]||t[TN]);return e||null}function AR(t){return t&&(t.hasOwnProperty(xR)||t.hasOwnProperty($$))?t[xR]:null}var CN=ht({\u0275prov:ht}),xR=ht({\u0275inj:ht}),TN=ht({ngInjectableDef:ht}),$$=ht({ngInjectorDef:ht}),$=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function SN(t){return t&&!!t.\u0275providers}var H$=ht({\u0275cmp:ht}),z$=ht({\u0275dir:ht}),q$=ht({\u0275pipe:ht}),G$=ht({\u0275mod:ht}),zp=ht({\u0275fac:ht}),md=ht({__NG_ELEMENT_ID__:ht}),RR=ht({__NG_ENV_ID__:ht});function Ri(t){return typeof t=="string"?t:t==null?"":String(t)}function W$(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ri(t)}function K$(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,t)}function Qw(t,e){throw new B(-201,!1)}var Oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Oe||{}),$0;function DN(){return $0}function tr(t){let e=$0;return $0=t,e}function AN(t,e,n){let r=mm(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Oe.Optional)return null;if(e!==void 0)return e;Qw(t,"Injector")}var Q$={},gd=Q$,H0="__NG_DI_FLAG__",qp="ngTempTokenPath",Y$="ngTokenPath",Z$=/\n/gm,J$="\u0275",NR="__source",ql;function X$(){return ql}function io(t){let e=ql;return ql=t,e}function e5(t,e=Oe.Default){if(ql===void 0)throw new B(-203,!1);return ql===null?AN(t,void 0,e):ql.get(t,e&Oe.Optional?null:void 0,e)}function q(t,e=Oe.Default){return(DN()||e5)(Hn(t),e)}function S(t,e=Oe.Default){return q(t,gm(e))}function gm(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function z0(t){let e=[];for(let n=0;n<t.length;n++){let r=Hn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,s=Oe.Default;for(let o=0;o<r.length;o++){let a=r[o],l=t5(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(q(i,s))}else e.push(q(r))}return e}function Yw(t,e){return t[H0]=e,t.prototype[H0]=e,t}function t5(t){return t[H0]}function n5(t,e,n,r){let i=t[qp];throw e[NR]&&i.unshift(e[NR]),t.message=r5(`
`+t.message,i,n,r),t[Y$]=i,t[qp]=null,t}function r5(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==J$?t.slice(2):t;let i=zn(e);if(Array.isArray(e))i=e.map(zn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):zn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Z$,`
  `)}`}var xN=Yw(Kw("Inject",t=>({token:t})),-1),bt=Yw(Kw("Optional"),8);var ym=Yw(Kw("SkipSelf"),4);function ua(t,e){let n=t.hasOwnProperty(zp);return n?t[zp]:null}function i5(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function s5(t){return t.flat(Number.POSITIVE_INFINITY)}function Zw(t,e){t.forEach(n=>Array.isArray(n)?Zw(n,e):e(n))}function RN(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Gp(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function o5(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function a5(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function vm(t,e,n){let r=Td(t,e);return r>=0?t[r|1]=n:(r=~r,a5(t,r,e,n)),r}function D0(t,e){let n=Td(t,e);if(n>=0)return t[n|1]}function Td(t,e){return l5(t,e,1)}function l5(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Wl={},nr=[],ao=new $(""),NN=new $("",-1),MN=new $(""),Wp=class{get(e,n=gd){if(n===gd){let r=new Error(`NullInjectorError: No provider for ${zn(e)}!`);throw r.name="NullInjectorError",r}return n}},PN=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(PN||{}),Ni=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ni||{}),lo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(lo||{});function c5(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function q0(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];u5(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function kN(t){return t===3||t===4||t===6}function u5(t){return t.charCodeAt(0)===64}function yd(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?MR(t,n,i,null,e[++r]):MR(t,n,i,null,null))}}return t}function MR(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var ON="ng-template";function d5(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&c5(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Jw(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Jw(t){return t.type===4&&t.value!==ON}function h5(t,e,n){let r=t.type===4&&!n?ON:t.value;return e===r}function f5(t,e,n){let r=4,i=t.attrs,s=i!==null?g5(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!ni(r)&&!ni(l))return!1;if(o&&ni(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!h5(t,l,n)||l===""&&e.length===1){if(ni(r))return!1;o=!0}}else if(r&8){if(i===null||!d5(t,i,l,n)){if(ni(r))return!1;o=!0}}else{let c=e[++a],d=p5(l,i,Jw(t),n);if(d===-1){if(ni(r))return!1;o=!0;continue}if(c!==""){let h;if(d>s?h="":h=i[d+1].toLowerCase(),r&2&&c!==h){if(ni(r))return!1;o=!0}}}}return ni(r)||o}function ni(t){return(t&1)===0}function p5(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return y5(e,t)}function FN(t,e,n=!1){for(let r=0;r<e.length;r++)if(f5(t,e[r],n))return!0;return!1}function m5(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function g5(t){for(let e=0;e<t.length;e++){let n=t[e];if(kN(n))return e}return t.length}function y5(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function v5(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function PR(t,e){return t?":not("+e.trim()+")":e}function _5(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!ni(o)&&(e+=PR(s,i),i=""),r=o,s=s||!ni(r);n++}return i!==""&&(e+=PR(s,i)),e}function w5(t){return t.map(_5).join(",")}function E5(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!ni(i))break;i=s}r++}return{attrs:e,classes:n}}function ne(t){return Cd(()=>{let e=BN(t),n=ve(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===PN.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ni.Emulated,styles:t.styles||nr,_:null,schemas:t.schemas||null,tView:null,id:""});$N(n);let r=t.dependencies;return n.directiveDefs=OR(r,!1),n.pipeDefs=OR(r,!0),n.id=C5(n),n})}function I5(t){return co(t)||LN(t)}function b5(t){return t!==null}function Ht(t){return Cd(()=>({type:t.type,bootstrap:t.bootstrap||nr,declarations:t.declarations||nr,imports:t.imports||nr,exports:t.exports||nr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function kR(t,e){if(t==null)return Wl;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=lo.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==lo.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ye(t){return Cd(()=>{let e=BN(t);return $N(e),e})}function Xw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function co(t){return t[H$]||null}function LN(t){return t[z$]||null}function VN(t){return t[q$]||null}function UN(t){let e=co(t)||LN(t)||VN(t);return e!==null?e.standalone:!1}function jN(t,e){let n=t[G$]||null;if(!n&&e===!0)throw new Error(`Type ${zn(t)} does not have '\u0275mod' property.`);return n}function BN(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Wl,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||nr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kR(t.inputs,e),outputs:kR(t.outputs),debugInfo:null}}function $N(t){t.features?.forEach(e=>e(t))}function OR(t,e){if(!t)return null;let n=e?VN:I5;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(b5)}function C5(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function zt(t){return{\u0275providers:t}}function T5(...t){return{\u0275providers:HN(!0,t),\u0275fromNgModule:!0}}function HN(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Zw(e,o=>{let a=o;G0(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&zN(i,s),n}function zN(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];eE(i,s=>{e(s,r)})}}function G0(t,e,n,r){if(t=Hn(t),!t)return!1;let i=null,s=AR(t),o=!s&&co(t);if(!s&&!o){let l=t.ngModule;if(s=AR(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)G0(c,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{Zw(s.imports,d=>{G0(d,e,n,r)&&(c||=[],c.push(d))})}finally{}c!==void 0&&zN(c,e)}if(!a){let c=ua(i)||(()=>new i);e({provide:i,useFactory:c,deps:nr},i),e({provide:MN,useValue:i,multi:!0},i),e({provide:ao,useValue:()=>q(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=t;eE(l,d=>{e(d,c)})}}else return!1;return i!==t&&t.providers!==void 0}function eE(t,e){for(let n of t)SN(n)&&(n=n.\u0275providers),Array.isArray(n)?eE(n,e):e(n)}var S5=ht({provide:String,useValue:ht});function qN(t){return t!==null&&typeof t=="object"&&S5 in t}function D5(t){return!!(t&&t.useExisting)}function A5(t){return!!(t&&t.useFactory)}function Kl(t){return typeof t=="function"}function x5(t){return!!t.useClass}var _m=new $(""),Lp={},R5={},A0;function tE(){return A0===void 0&&(A0=new Wp),A0}var qn=class{},vd=class extends qn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,K0(e,o=>this.processProvider(o)),this.records.set(NN,$l(void 0,this)),i.has("environment")&&this.records.set(qn,$l(void 0,this));let s=this.records.get(_m);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(MN,nr,Oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Be(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Be(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=io(this),r=tr(void 0),i;try{return e()}finally{io(n),tr(r)}}get(e,n=gd,r=Oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(RR))return e[RR](this);r=gm(r);let i,s=io(this),o=tr(void 0);try{if(!(r&Oe.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=O5(e)&&mm(e);c&&this.injectableDefInScope(c)?l=$l(W0(e),Lp):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&Oe.Self?tE():this.parent;return n=r&Oe.Optional&&n===gd?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[qp]=a[qp]||[]).unshift(zn(e)),s)throw a;return n5(a,e,"R3InjectorError",this.source)}else throw a}finally{tr(o),io(s)}}resolveInjectorInitializers(){let e=Be(null),n=io(this),r=tr(void 0),i;try{let s=this.get(ao,nr,Oe.Self);for(let o of s)o()}finally{io(n),tr(r),Be(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(zn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=Hn(e);let n=Kl(e)?e:Hn(e&&e.provide),r=M5(e);if(!Kl(e)&&e.multi===!0){let i=this.records.get(n);i||(i=$l(void 0,Lp,!0),i.factory=()=>z0(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Be(null);try{return n.value===Lp&&(n.value=R5,n.value=n.factory()),typeof n.value=="object"&&n.value&&k5(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Be(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Hn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function W0(t){let e=mm(t),n=e!==null?e.factory:ua(t);if(n!==null)return n;if(t instanceof $)throw new B(204,!1);if(t instanceof Function)return N5(t);throw new B(204,!1)}function N5(t){if(t.length>0)throw new B(204,!1);let n=B$(t);return n!==null?()=>n.factory(t):()=>new t}function M5(t){if(qN(t))return $l(void 0,t.useValue);{let e=GN(t);return $l(e,Lp)}}function GN(t,e,n){let r;if(Kl(t)){let i=Hn(t);return ua(i)||W0(i)}else if(qN(t))r=()=>Hn(t.useValue);else if(A5(t))r=()=>t.useFactory(...z0(t.deps||[]));else if(D5(t))r=()=>q(Hn(t.useExisting));else{let i=Hn(t&&(t.useClass||t.provide));if(P5(t))r=()=>new i(...z0(t.deps));else return ua(i)||W0(i)}return r}function $l(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function P5(t){return!!t.deps}function k5(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function O5(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function K0(t,e){for(let n of t)Array.isArray(n)?K0(n,e):n&&SN(n)?K0(n.\u0275providers,e):e(n)}function fr(t,e){t instanceof vd&&t.assertNotDestroyed();let n,r=io(t),i=tr(void 0);try{return e()}finally{io(r),tr(i)}}function WN(){return DN()!==void 0||X$()!=null}function Sd(t){if(!WN())throw new B(-203,!1)}function F5(t){return typeof t=="function"}var hs=0,Ae=1,be=2,An=3,ii=4,or=5,_d=6,Kp=7,Mr=8,Ql=9,Mi=10,Ot=11,wd=12,FR=13,rc=14,Pr=15,da=16,Hl=17,ls=18,wm=19,KN=20,so=21,Vp=22,Nr=23,pn=25,QN=1;var ha=7,Qp=8,Yl=9,ir=10,Yp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Yp||{});function oo(t){return Array.isArray(t)&&typeof t[QN]=="object"}function fs(t){return Array.isArray(t)&&t[QN]===!0}function nE(t){return(t.flags&4)!==0}function Em(t){return t.componentOffset>-1}function Im(t){return(t.flags&1)===1}function uo(t){return!!t.template}function Q0(t){return(t[be]&512)!==0}var Y0=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function YN(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ar(){return ZN}function ZN(t){return t.type.prototype.ngOnChanges&&(t.setInput=V5),L5}ar.ngInherit=!0;function L5(){let t=XN(this),e=t?.current;if(e){let n=t.previous;if(n===Wl)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function V5(t,e,n,r,i){let s=this.declaredInputs[r],o=XN(t)||U5(t,{previous:Wl,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new Y0(c&&c.currentValue,n,l===Wl),YN(t,e,i,n)}var JN="__ngSimpleChanges__";function XN(t){return t[JN]||null}function U5(t,e){return t[JN]=e}var LR=null;var Ai=function(t,e,n){LR?.(t,e,n)},eM="svg",j5="math";function Pi(t){for(;Array.isArray(t);)t=t[hs];return t}function tM(t,e){return Pi(e[t])}function kr(t,e){return Pi(e[t.index])}function rE(t,e){return t.data[e]}function iE(t,e){return t[e]}function go(t,e){let n=e[t];return oo(n)?n:n[hs]}function B5(t){return(t[be]&4)===4}function sE(t){return(t[be]&128)===128}function $5(t){return fs(t[An])}function Zl(t,e){return e==null?null:t[e]}function nM(t){t[Hl]=0}function rM(t){t[be]&1024||(t[be]|=1024,sE(t)&&bm(t))}function H5(t,e){for(;t>0;)e=e[rc],t--;return e}function Ed(t){return!!(t[be]&9216||t[Nr]?.dirty)}function Z0(t){t[Mi].changeDetectionScheduler?.notify(7),t[be]&64&&(t[be]|=1024),Ed(t)&&bm(t)}function bm(t){t[Mi].changeDetectionScheduler?.notify(0);let e=fa(t);for(;e!==null&&!(e[be]&8192||(e[be]|=8192,!sE(e)));)e=fa(e)}function iM(t,e){if((t[be]&256)===256)throw new B(911,!1);t[so]===null&&(t[so]=[]),t[so].push(e)}function z5(t,e){if(t[so]===null)return;let n=t[so].indexOf(e);n!==-1&&t[so].splice(n,1)}function fa(t){let e=t[An];return fs(e)?e[An]:e}var Me={lFrame:pM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var sM=!1;function q5(){return Me.lFrame.elementDepthCount}function G5(){Me.lFrame.elementDepthCount++}function W5(){Me.lFrame.elementDepthCount--}function oM(){return Me.bindingsEnabled}function aM(){return Me.skipHydrationRootTNode!==null}function K5(t){return Me.skipHydrationRootTNode===t}function Q5(){Me.skipHydrationRootTNode=null}function xe(){return Me.lFrame.lView}function jt(){return Me.lFrame.tView}function He(t){return Me.lFrame.contextLView=t,t[Mr]}function ze(t){return Me.lFrame.contextLView=null,t}function mn(){let t=lM();for(;t!==null&&t.type===64;)t=t.parent;return t}function lM(){return Me.lFrame.currentTNode}function Y5(){let t=Me.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function _a(t,e){let n=Me.lFrame;n.currentTNode=t,n.isParent=e}function oE(){return Me.lFrame.isParent}function aE(){Me.lFrame.isParent=!1}function Z5(){return Me.lFrame.contextLView}function cM(){return sM}function VR(t){sM=t}function ic(){let t=Me.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function uM(){return Me.lFrame.bindingIndex}function J5(t){return Me.lFrame.bindingIndex=t}function Dd(){return Me.lFrame.bindingIndex++}function Cm(t){let e=Me.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function X5(){return Me.lFrame.inI18n}function eH(t,e){let n=Me.lFrame;n.bindingIndex=n.bindingRootIndex=t,J0(e)}function tH(){return Me.lFrame.currentDirectiveIndex}function J0(t){Me.lFrame.currentDirectiveIndex=t}function nH(t){let e=Me.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function dM(){return Me.lFrame.currentQueryIndex}function lE(t){Me.lFrame.currentQueryIndex=t}function rH(t){let e=t[Ae];return e.type===2?e.declTNode:e.type===1?t[or]:null}function hM(t,e,n){if(n&Oe.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&Oe.Host);)if(i=rH(s),i===null||(s=s[rc],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=Me.lFrame=fM();return r.currentTNode=e,r.lView=t,!0}function cE(t){let e=fM(),n=t[Ae];Me.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fM(){let t=Me.lFrame,e=t===null?null:t.child;return e===null?pM(t):e}function pM(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function mM(){let t=Me.lFrame;return Me.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var gM=mM;function uE(){let t=mM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function iH(t){return(Me.lFrame.contextLView=H5(t,Me.lFrame.contextLView))[Mr]}function ps(){return Me.lFrame.selectedIndex}function pa(t){Me.lFrame.selectedIndex=t}function dE(){let t=Me.lFrame;return rE(t.tView,t.selectedIndex)}function he(){Me.lFrame.currentNamespace=eM}function _e(){sH()}function sH(){Me.lFrame.currentNamespace=null}function oH(){return Me.lFrame.currentNamespace}var yM=!0;function Tm(){return yM}function Sm(t){yM=t}function aH(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=ZN(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Dm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function Up(t,e,n){vM(t,e,3,n)}function jp(t,e,n,r){(t[be]&3)===n&&vM(t,e,n,r)}function x0(t,e){let n=t[be];(n&3)===e&&(n&=16383,n+=1,t[be]=n)}function vM(t,e,n,r){let i=r!==void 0?t[Hl]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Hl]+=65536),(a<s||s==-1)&&(lH(t,n,e,l),t[Hl]=(t[Hl]&4294901760)+l+2),l++}function UR(t,e){Ai(4,t,e);let n=Be(null);try{e.call(t)}finally{Be(n),Ai(5,t,e)}}function lH(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[be]>>14<t[Hl]>>16&&(t[be]&3)===e&&(t[be]+=16384,UR(a,s)):UR(a,s)}var Gl=-1,ma=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function cH(t){return t instanceof ma}function uH(t){return(t.flags&8)!==0}function dH(t){return(t.flags&16)!==0}var R0={},X0=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=gm(r);let i=this.injector.get(e,R0,r);return i!==R0||n===R0?i:this.parentInjector.get(e,n,r)}};function _M(t){return t!==Gl}function Zp(t){return t&32767}function hH(t){return t>>16}function Jp(t,e){let n=hH(t),r=e;for(;n>0;)r=r[rc],n--;return r}var ew=!0;function Xp(t){let e=ew;return ew=t,e}var fH=256,wM=fH-1,EM=5,pH=0,xi={};function mH(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(md)&&(r=n[md]),r==null&&(r=n[md]=pH++);let i=r&wM,s=1<<i;e.data[t+(i>>EM)]|=s}function em(t,e){let n=IM(t,e);if(n!==-1)return n;let r=e[Ae];r.firstCreatePass&&(t.injectorIndex=e.length,N0(r.data,t),N0(e,null),N0(r.blueprint,null));let i=hE(t,e),s=t.injectorIndex;if(_M(i)){let o=Zp(i),a=Jp(i,e),l=a[Ae].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function N0(t,e){t.push(0,0,0,0,0,0,0,0,e)}function IM(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function hE(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=DM(i),r===null)return Gl;if(n++,i=i[rc],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Gl}function tw(t,e,n){mH(t,e,n)}function gH(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(kN(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function bM(t,e,n){if(n&Oe.Optional||t!==void 0)return t;Qw(e,"NodeInjector")}function CM(t,e,n,r){if(n&Oe.Optional&&r===void 0&&(r=null),!(n&(Oe.Self|Oe.Host))){let i=t[Ql],s=tr(void 0);try{return i?i.get(e,r,n&Oe.Optional):AN(e,r,n&Oe.Optional)}finally{tr(s)}}return bM(r,e,n)}function TM(t,e,n,r=Oe.Default,i){if(t!==null){if(e[be]&2048&&!(r&Oe.Self)){let o=wH(t,e,n,r,xi);if(o!==xi)return o}let s=SM(t,e,n,r,xi);if(s!==xi)return s}return CM(e,n,r,i)}function SM(t,e,n,r,i){let s=vH(n);if(typeof s=="function"){if(!hM(e,t,r))return r&Oe.Host?bM(i,n,r):CM(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&Oe.Optional))Qw(n);else return o}finally{gM()}}else if(typeof s=="number"){let o=null,a=IM(t,e),l=Gl,c=r&Oe.Host?e[Pr][or]:null;for((a===-1||r&Oe.SkipSelf)&&(l=a===-1?hE(t,e):e[a+8],l===Gl||!BR(r,!1)?a=-1:(o=e[Ae],a=Zp(l),e=Jp(l,e)));a!==-1;){let d=e[Ae];if(jR(s,a,d.data)){let h=yH(a,e,n,o,r,c);if(h!==xi)return h}l=e[a+8],l!==Gl&&BR(r,e[Ae].data[a+8]===c)&&jR(s,a,e)?(o=d,a=Zp(l),e=Jp(l,e)):a=-1}}return i}function yH(t,e,n,r,i,s){let o=e[Ae],a=o.data[t+8],l=r==null?Em(a)&&ew:r!=o&&(a.type&3)!==0,c=i&Oe.Host&&s===a,d=Bp(a,o,n,l,c);return d!==null?ga(e,o,d,a):xi}function Bp(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,d=s>>20,h=r?a:a+d,p=i?a+d:c;for(let g=h;g<p;g++){let _=o[g];if(g<l&&n===_||g>=l&&_.type===n)return g}if(i){let g=o[l];if(g&&uo(g)&&g.type===n)return l}return null}function ga(t,e,n,r){let i=t[n],s=e.data;if(cH(i)){let o=i;o.resolving&&K$(W$(s[n]));let a=Xp(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?tr(o.injectImpl):null,d=hM(t,r,Oe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&aH(n,s[n],e)}finally{c!==null&&tr(c),Xp(a),o.resolving=!1,gM()}}return i}function vH(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(md)?t[md]:void 0;return typeof e=="number"?e>=0?e&wM:_H:e}function jR(t,e,n){let r=1<<t;return!!(n[e+(t>>EM)]&r)}function BR(t,e){return!(t&Oe.Self)&&!(t&Oe.Host&&e)}var ca=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return TM(this._tNode,this._lView,e,gm(r),n)}};function _H(){return new ca(mn(),xe())}function Gn(t){return Cd(()=>{let e=t.prototype.constructor,n=e[zp]||nw(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[zp]||nw(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function nw(t){return IN(t)?()=>{let e=nw(Hn(t));return e&&e()}:ua(t)}function wH(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[be]&2048&&!(o[be]&512);){let a=SM(s,o,n,r|Oe.Self,xi);if(a!==xi)return a;let l=s.parent;if(!l){let c=o[KN];if(c){let d=c.get(n,xi,r);if(d!==xi)return d}l=DM(o),o=o[rc]}s=l}return i}function DM(t){let e=t[Ae],n=e.type;return n===2?e.declTNode:n===1?t[or]:null}function fE(t){return gH(mn(),t)}function $R(t,e=null,n=null,r){let i=AM(t,e,n,r);return i.resolveInjectorInitializers(),i}function AM(t,e=null,n=null,r,i=new Set){let s=[n||nr,T5(t)];return r=r||(typeof t=="object"?void 0:zn(t)),new vd(s,e||tE(),r||null,i)}var la=class la{static create(e,n){if(Array.isArray(e))return $R({name:""},n,e,"");{let r=e.name??"";return $R({name:r},e.parent,e.providers,r)}}};la.THROW_IF_NOT_FOUND=gd,la.NULL=new Wp,la.\u0275prov=z({token:la,providedIn:"any",factory:()=>q(NN)}),la.__NG_ELEMENT_ID__=-1;var at=la;var EH=new $("");EH.__NG_ELEMENT_ID__=t=>{let e=mn();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&Oe.Optional)return null;throw new B(204,!1)};var IH="ngOriginalError";function M0(t){return t[IH]}var si=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&M0(e);for(;n&&M0(n);)n=M0(n);return n||null}},xM=new $("",{providedIn:"root",factory:()=>S(si).handleError.bind(void 0)}),Oi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=bH,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),rw=class extends Oi{constructor(e){super(),this._lView=e}onDestroy(e){return iM(this._lView,e),()=>z5(this._lView,e)}};function bH(){return new rw(xe())}function HR(t,e){return EN(t,e)}function CH(t){return EN(wN,t)}var pe=(HR.required=CH,HR);function TH(){return sc(mn(),xe())}function sc(t,e){return new At(kr(t,e))}var At=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=TH;let t=e;return t})();function SH(t){return t instanceof At?t.nativeElement:t}var ms=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new St(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var iw=class extends ot{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,WN()&&(this.destroyRef=S(Oi,{optional:!0})??void 0,this.pendingTasks=S(ms,{optional:!0})??void 0)}emit(e){let n=Be(null);try{super.next(e)}finally{Be(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Tt&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},De=iw;function DH(){return this._results[Symbol.iterator]()}var sw=class t{get changes(){return this._changes??=new De}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=DH)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=s5(e);(this._changesDetected=!i5(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function RM(t){return(t.flags&128)===128}var NM=new Map,AH=0;function xH(){return AH++}function RH(t){NM.set(t[wm],t)}function NH(t){NM.delete(t[wm])}var zR="__ngContext__";function ho(t,e){oo(e)?(t[zR]=e[wm],RH(e)):t[zR]=e}function MM(t){return kM(t[wd])}function PM(t){return kM(t[ii])}function kM(t){for(;t!==null&&!fs(t);)t=t[ii];return t}var ow;function OM(t){ow=t}function FM(){if(ow!==void 0)return ow;if(typeof document<"u")return document;throw new B(210,!1)}var pE=new $("",{providedIn:"root",factory:()=>MH}),MH="ng",mE=new $(""),xn=new $("",{providedIn:"platform",factory:()=>"unknown"});var gE=new $(""),yE=new $("",{providedIn:"root",factory:()=>FM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var PH="h",kH="b";var OH=()=>null;function vE(t,e,n=!1){return OH(t,e,n)}var LM=!1,FH=new $("",{providedIn:"root",factory:()=>LM});var Mp;function LH(){if(Mp===void 0&&(Mp=null,ri.trustedTypes))try{Mp=ri.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Mp}function Am(t){return LH()?.createHTML(t)||t}var Pp;function VM(){if(Pp===void 0&&(Pp=null,ri.trustedTypes))try{Pp=ri.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pp}function qR(t){return VM()?.createHTML(t)||t}function GR(t){return VM()?.createScriptURL(t)||t}var cs=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_N})`}},aw=class extends cs{getTypeName(){return"HTML"}},lw=class extends cs{getTypeName(){return"Style"}},cw=class extends cs{getTypeName(){return"Script"}},uw=class extends cs{getTypeName(){return"URL"}},dw=class extends cs{getTypeName(){return"ResourceURL"}};function pr(t){return t instanceof cs?t.changingThisBreaksApplicationSecurity:t}function gs(t,e){let n=VH(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${_N})`)}return n===e}function VH(t){return t instanceof cs&&t.getTypeName()||null}function UM(t){return new aw(t)}function jM(t){return new lw(t)}function BM(t){return new cw(t)}function $M(t){return new uw(t)}function HM(t){return new dw(t)}function UH(t){let e=new fw(t);return jH()?new hw(e):e}var hw=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Am(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},fw=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Am(e),n}};function jH(){try{return!!new window.DOMParser().parseFromString(Am(""),"text/html")}catch{return!1}}var BH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xm(t){return t=String(t),t.match(BH)?t:"unsafe:"+t}function ys(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Ad(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var zM=ys("area,br,col,hr,img,wbr"),qM=ys("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),GM=ys("rp,rt"),$H=Ad(GM,qM),HH=Ad(qM,ys("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zH=Ad(GM,ys("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),WR=Ad(zM,HH,zH,$H),WM=ys("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qH=ys("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),GH=ys("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),WH=Ad(WM,qH,GH),KH=ys("script,style,template"),pw=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=ZH(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=YH(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=KR(e).toLowerCase();if(!WR.hasOwnProperty(n))return this.sanitizedSomething=!0,!KH.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!WH.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;WM[a]&&(l=xm(l)),this.buf.push(" ",o,'="',QR(l),'"')}return this.buf.push(">"),!0}endElement(e){let n=KR(e).toLowerCase();WR.hasOwnProperty(n)&&!zM.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(QR(e))}};function QH(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function YH(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw KM(e);return e}function ZH(t){let e=t.firstChild;if(e&&QH(t,e))throw KM(e);return e}function KR(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function KM(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var JH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,XH=/([^\#-~ |!])/g;function QR(t){return t.replace(/&/g,"&amp;").replace(JH,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(XH,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var kp;function _E(t,e){let n=null;try{kp=kp||UH(t);let r=e?String(e):"";n=kp.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=kp.getInertBodyElement(r)}while(r!==s);let a=new pw().sanitizeChildren(YR(n)||n);return Am(a)}finally{if(n){let r=YR(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function YR(t){return"content"in t&&e6(t)?t.content:null}function e6(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var mr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(mr||{});function wE(t){let e=EE();return e?qR(e.sanitize(mr.HTML,t)||""):gs(t,"HTML")?qR(pr(t)):_E(FM(),Ri(t))}function ai(t){let e=EE();return e?e.sanitize(mr.URL,t)||"":gs(t,"URL")?pr(t):xm(Ri(t))}function t6(t){let e=EE();if(e)return GR(e.sanitize(mr.RESOURCE_URL,t)||"");if(gs(t,"ResourceURL"))return GR(pr(t));throw new B(904,!1)}function n6(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?t6:ai}function QM(t,e,n){return n6(e,n)(t)}function EE(){let t=xe();return t&&t[Mi].sanitizer}var r6=/^>|^->|<!--|-->|--!>|<!-$/g,i6=/(<|>)/g,s6="\u200B$1\u200B";function o6(t){return t.replace(r6,e=>e.replace(i6,s6))}function YM(t){return t instanceof Function?t():t}function a6(t){return(t??S(at)).get(xn)==="browser"}var ki=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ki||{}),l6;function IE(t,e){return l6(t,e)}function zl(t,e,n,r,i){if(r!=null){let s,o=!1;fs(r)?s=r:oo(r)&&(o=!0,r=r[hs]);let a=Pi(r);t===0&&n!==null?i==null?tP(e,n,a):nm(e,n,a,i||null,!0):t===1&&n!==null?nm(e,n,a,i||null,!0):t===2?b6(e,a,o):t===3&&e.destroyNode(a),s!=null&&T6(e,t,s,n,i)}}function c6(t,e){return t.createText(e)}function u6(t,e,n){t.setValue(e,n)}function d6(t,e){return t.createComment(o6(e))}function ZM(t,e,n){return t.createElement(e,n)}function h6(t,e){JM(t,e),e[hs]=null,e[or]=null}function f6(t,e,n,r,i,s){r[hs]=i,r[or]=e,Nm(t,r,n,1,i,s)}function JM(t,e){e[Mi].changeDetectionScheduler?.notify(8),Nm(t,e,e[Ot],2,null,null)}function p6(t){let e=t[wd];if(!e)return P0(t[Ae],t);for(;e;){let n=null;if(oo(e))n=e[wd];else{let r=e[ir];r&&(n=r)}if(!n){for(;e&&!e[ii]&&e!==t;)oo(e)&&P0(e[Ae],e),e=e[An];e===null&&(e=t),oo(e)&&P0(e[Ae],e),n=e&&e[ii]}e=n}}function m6(t,e,n,r){let i=ir+r,s=n.length;r>0&&(n[i-1][ii]=e),r<s-ir?(e[ii]=n[i],RN(n,ir+r,e)):(n.push(e),e[ii]=null),e[An]=n;let o=e[da];o!==null&&n!==o&&XM(o,e);let a=e[ls];a!==null&&a.insertView(t),Z0(e),e[be]|=128}function XM(t,e){let n=t[Yl],r=e[An];if(oo(r))t[be]|=Yp.HasTransplantedViews;else{let i=r[An][Pr];e[Pr]!==i&&(t[be]|=Yp.HasTransplantedViews)}n===null?t[Yl]=[e]:n.push(e)}function bE(t,e){let n=t[Yl],r=n.indexOf(e);n.splice(r,1)}function tm(t,e){if(t.length<=ir)return;let n=ir+e,r=t[n];if(r){let i=r[da];i!==null&&i!==t&&bE(i,r),e>0&&(t[n-1][ii]=r[ii]);let s=Gp(t,ir+e);h6(r[Ae],r);let o=s[ls];o!==null&&o.detachView(s[Ae]),r[An]=null,r[ii]=null,r[be]&=-129}return r}function CE(t,e){if(!(e[be]&256)){let n=e[Ot];n.destroyNode&&Nm(t,e,n,3,null,null),p6(e)}}function P0(t,e){if(e[be]&256)return;let n=Be(null);try{e[be]&=-129,e[be]|=256,e[Nr]&&rp(e[Nr]),y6(t,e),g6(t,e),e[Ae].type===1&&e[Ot].destroy();let r=e[da];if(r!==null&&fs(e[An])){r!==e[An]&&bE(r,e);let i=e[ls];i!==null&&i.detachView(t)}NH(e)}finally{Be(n)}}function g6(t,e){let n=t.cleanup,r=e[Kp];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Kp]=null);let i=e[so];if(i!==null){e[so]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function y6(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ma)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];Ai(4,a,l);try{l.call(a)}finally{Ai(5,a,l)}}else{Ai(4,i,s);try{s.call(i)}finally{Ai(5,i,s)}}}}}function eP(t,e,n){return v6(t,e.parent,n)}function v6(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[hs];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Ni.None||s===Ni.Emulated)return null}return kr(r,n)}}function nm(t,e,n,r,i){t.insertBefore(e,n,r,i)}function tP(t,e,n){t.appendChild(e,n)}function ZR(t,e,n,r,i){r!==null?nm(t,e,n,r,i):tP(t,e,n)}function _6(t,e,n,r){t.removeChild(e,n,r)}function TE(t,e){return t.parentNode(e)}function w6(t,e){return t.nextSibling(e)}function nP(t,e,n){return I6(t,e,n)}function E6(t,e,n){return t.type&40?kr(t,n):null}var I6=E6,JR;function Rm(t,e,n,r){let i=eP(t,r,e),s=e[Ot],o=r.parent||e[or],a=nP(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)ZR(s,i,n[l],a,!1);else ZR(s,i,n,a,!1);JR!==void 0&&JR(s,r,e,n,i)}function $p(t,e){if(e!==null){let n=e.type;if(n&3)return kr(e,t);if(n&4)return mw(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return $p(t,r);{let i=t[e.index];return fs(i)?mw(-1,i):Pi(i)}}else{if(n&32)return IE(e,t)()||Pi(t[e.index]);{let r=rP(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=fa(t[Pr]);return $p(i,r)}else return $p(t,e.next)}}}return null}function rP(t,e){if(e!==null){let r=t[Pr][or],i=e.projection;return r.projection[i]}return null}function mw(t,e){let n=ir+t+1;if(n<e.length){let r=e[n],i=r[Ae].firstChild;if(i!==null)return $p(r,i)}return e[ha]}function b6(t,e,n){let r=TE(t,e);r&&_6(t,r,e,n)}function SE(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(o&&e===0&&(a&&ho(Pi(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)SE(t,e,n.child,r,i,s,!1),zl(e,t,i,a,s);else if(l&32){let c=IE(n,r),d;for(;d=c();)zl(e,t,i,d,s);zl(e,t,i,a,s)}else l&16?iP(t,e,r,n,i,s):zl(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Nm(t,e,n,r,i,s){SE(n,r,t.firstChild,e,i,s,!1)}function C6(t,e,n){let r=e[Ot],i=eP(t,n,e),s=n.parent||e[or],o=nP(s,n,e);iP(r,0,e,n,i,o)}function iP(t,e,n,r,i,s){let o=n[Pr],l=o[or].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];zl(e,t,i,d,s)}else{let c=l,d=o[An];RM(r)&&(c.flags|=128),SE(t,e,c,d,i,s,!0)}}function T6(t,e,n,r,i){let s=n[ha],o=Pi(n);s!==o&&zl(e,t,r,s,i);for(let a=ir;a<n.length;a++){let l=n[a];Nm(l[Ae],l,t,e,r,s)}}function S6(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:ki.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ki.Important),t.setStyle(n,r,i,s))}}function D6(t,e,n){t.setAttribute(e,"style",n)}function sP(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function oP(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&q0(t,e,r),i!==null&&sP(t,e,i),s!==null&&D6(t,e,s)}var Wn={};function R(t=1){aP(jt(),xe(),ps()+t,!1)}function aP(t,e,n,r){if(!r)if((e[be]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Up(e,s,n)}else{let s=t.preOrderHooks;s!==null&&jp(e,s,0,n)}pa(n)}function X(t,e=Oe.Default){let n=xe();if(n===null)return q(t,e);let r=mn();return TM(r,n,Hn(t),e)}function lP(){let t="invalid";throw new Error(t)}function cP(t,e,n,r,i,s){let o=Be(null);try{let a=null;i&lo.SignalBased&&(a=e[r][Jr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&lo.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):YN(e,a,r,s)}finally{Be(o)}}function A6(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)pa(~i);else{let s=i,o=n[++r],a=n[++r];eH(o,s);let l=e[s];a(2,l)}}}finally{pa(-1)}}function Mm(t,e,n,r,i,s,o,a,l,c,d){let h=e.blueprint.slice();return h[hs]=i,h[be]=r|4|128|8|64,(c!==null||t&&t[be]&2048)&&(h[be]|=2048),nM(h),h[An]=h[rc]=t,h[Mr]=n,h[Mi]=o||t&&t[Mi],h[Ot]=a||t&&t[Ot],h[Ql]=l||t&&t[Ql]||null,h[or]=s,h[wm]=xH(),h[_d]=d,h[KN]=c,h[Pr]=e.type==2?t[Pr]:h,h}function oc(t,e,n,r,i){let s=t.data[e];if(s===null)s=x6(t,e,n,r,i),X5()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=Y5();s.injectorIndex=o===null?-1:o.injectorIndex}return _a(s,!0),s}function x6(t,e,n,r,i){let s=lM(),o=oE(),a=o?s:s&&s.parent,l=t.data[e]=O6(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function uP(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function dP(t,e,n,r,i){let s=ps(),o=r&2;try{pa(-1),o&&e.length>pn&&aP(t,e,pn,!1),Ai(o?2:0,i),n(r,i)}finally{pa(s),Ai(o?3:1,i)}}function DE(t,e,n){if(nE(e)){let r=Be(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{Be(r)}}}function AE(t,e,n){oM()&&(B6(t,e,n,kr(n,e)),(n.flags&64)===64&&mP(t,e,n))}function xE(t,e,n=kr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function hP(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=RE(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function RE(t,e,n,r,i,s,o,a,l,c,d){let h=pn+r,p=h+i,g=R6(h,p),_=typeof c=="function"?c():c;return g[Ae]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:d}}function R6(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Wn);return n}function N6(t,e,n,r){let s=r.get(FH,LM)||n===Ni.ShadowDom,o=t.selectRootElement(e,s);return M6(o),o}function M6(t){P6(t)}var P6=()=>null;function k6(t,e,n,r){let i=vP(e);i.push(n),t.firstCreatePass&&_P(t).push(r,i.length-1)}function O6(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return aM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function XR(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,l=lo.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(i!==null){if(!i.hasOwnProperty(s))continue;c=i[s]}t===0?eN(r,n,c,a,l):eN(r,n,c,a)}return r}function eN(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function F6(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let d=r;d<i;d++){let h=s[d],p=n?n.get(h):null,g=p?p.inputs:null,_=p?p.outputs:null;l=XR(0,h.inputs,d,l,g),c=XR(1,h.outputs,d,c,_);let T=l!==null&&o!==null&&!Jw(e)?J6(l,d,o):null;a.push(T)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function L6(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function fP(t,e,n,r,i,s,o,a){let l=kr(e,n),c=e.inputs,d;!a&&c!=null&&(d=c[r])?(ME(t,n,d,r,i),Em(e)&&V6(n,e.index)):e.type&3?(r=L6(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function V6(t,e){let n=go(e,t);n[be]&16||(n[be]|=64)}function NE(t,e,n,r){if(oM()){let i=r===null?null:{"":-1},s=H6(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&pP(t,e,n,o,i,a),i&&z6(n,r,i)}n.mergedAttrs=yd(n.mergedAttrs,n.attrs)}function pP(t,e,n,r,i,s){for(let c=0;c<r.length;c++)tw(em(n,e),t,r[c].type);G6(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let d=r[c];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=uP(t,e,r.length,null);for(let c=0;c<r.length;c++){let d=r[c];n.mergedAttrs=yd(n.mergedAttrs,d.hostAttrs),W6(t,n,e,l,d),q6(l,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let h=d.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}F6(t,n,s)}function U6(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;j6(o)!=a&&o.push(a),o.push(n,r,s)}}function j6(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function B6(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Em(n)&&K6(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||em(n,e),ho(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let l=t.data[a],c=ga(e,t,a,n);if(ho(c,e),o!==null&&Z6(e,a-i,c,l,n,o),uo(l)){let d=go(n.index,e);d[Mr]=ga(e,t,a,n)}}}function mP(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=tH();try{pa(s);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];J0(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&$6(l,c)}}finally{pa(-1),J0(o)}}function $6(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function H6(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(FN(e,o.selectors,!1))if(r||(r=[]),uo(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let l=a.length;gw(t,e,l)}else r.unshift(o),gw(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function gw(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function z6(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new B(-301,!1);r.push(e[i],s)}}}function q6(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;uo(e)&&(n[""]=t)}}function G6(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function W6(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ua(i.type,!0)),o=new ma(s,uo(i),X);t.blueprint[r]=o,n[r]=o,U6(t,e,r,uP(t,n,i.hostVars,Wn),i)}function K6(t,e,n){let r=kr(e,t),i=hP(n),s=t[Mi].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Pm(t,Mm(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function Q6(t,e,n,r,i,s){let o=kr(t,e);Y6(e[Ot],o,s,t.value,n,r,i)}function Y6(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Ri(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function Z6(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],d=o[a++],h=o[a++];cP(r,n,l,c,d,h)}}function J6(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function gP(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function yP(t,e){let n=t.contentQueries;if(n!==null){let r=Be(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];lE(s),a.contentQueries(2,e[o],o)}}}finally{Be(r)}}}function Pm(t,e){return t[wd]?t[FR][ii]=e:t[wd]=e,t[FR]=e,e}function yw(t,e,n){lE(0);let r=Be(null);try{e(t,n)}finally{Be(r)}}function vP(t){return t[Kp]??=[]}function _P(t){return t.cleanup??=[]}function wP(t,e){let n=t[Ql],r=n?n.get(si,null):null;r&&r.handleError(e)}function ME(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],c=e[o],d=t.data[o];cP(d,c,r,a,l,i)}}function PE(t,e,n){let r=tM(e,t);u6(t[Ot],r,n)}function X6(t,e){let n=go(e,t),r=n[Ae];ez(r,n);let i=n[hs];i!==null&&n[_d]===null&&(n[_d]=vE(i,n[Ql])),kE(r,n,n[Mr])}function ez(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function kE(t,e,n){cE(e);try{let r=t.viewQuery;r!==null&&yw(1,r,n);let i=t.template;i!==null&&dP(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ls]?.finishViewCreation(t),t.staticContentQueries&&yP(t,e),t.staticViewQueries&&yw(2,t.viewQuery,n);let s=t.components;s!==null&&tz(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[be]&=-5,uE()}}function tz(t,e){for(let n=0;n<e.length;n++)X6(t,e[n])}function OE(t,e,n,r){let i=Be(null);try{let s=e.tView,a=t[be]&4096?4096:16,l=Mm(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[da]=c;let d=t[ls];return d!==null&&(l[ls]=d.createEmbeddedView(s)),kE(s,l,n),l}finally{Be(i)}}function nz(t,e){let n=ir+e;if(n<t.length)return t[n]}function rm(t,e){return!e||e.firstChild===null||RM(t)}function FE(t,e,n,r=!0){let i=e[Ae];if(m6(i,e,t,n),r){let o=mw(n,t),a=e[Ot],l=TE(a,t[ha]);l!==null&&f6(i,t[or],a,e,l,o)}let s=e[_d];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function rz(t,e){let n=tm(t,e);return n!==void 0&&CE(n[Ae],n),n}function im(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Pi(s)),fs(s)&&iz(s,r);let o=n.type;if(o&8)im(t,e,n.child,r);else if(o&32){let a=IE(n,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=rP(e,n);if(Array.isArray(a))r.push(...a);else{let l=fa(e[Pr]);im(l[Ae],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function iz(t,e){for(let n=ir;n<t.length;n++){let r=t[n],i=r[Ae].firstChild;i!==null&&im(r[Ae],r,i,e)}t[ha]!==t[hs]&&e.push(t[ha])}var EP=[];function sz(t){return t[Nr]??oz(t)}function oz(t){let e=EP.pop()??Object.create(lz);return e.lView=t,e}function az(t){t.lView[Nr]!==t&&(t.lView=null,EP.push(t))}var lz=ve(U({},Tl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{bm(t.lView)},consumerOnSignalRead(){this.lView[Nr]=this}});function cz(t){let e=t[Nr]??Object.create(uz);return e.lView=t,e}var uz=ve(U({},Tl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=fa(t.lView);for(;e&&!IP(e[Ae]);)e=fa(e);e&&rM(e)},consumerOnSignalRead(){this.lView[Nr]=this}});function IP(t){return t.type!==2}var dz=100;function bP(t,e=!0,n=0){let r=t[Mi],i=r.rendererFactory,s=!1;s||i.begin?.();try{hz(t,n)}catch(o){throw e&&wP(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function hz(t,e){let n=cM();try{VR(!0),vw(t,e);let r=0;for(;Ed(t);){if(r===dz)throw new B(103,!1);r++,vw(t,1)}}finally{VR(n)}}function fz(t,e,n,r){let i=e[be];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Mi].inlineEffectRunner?.flush(),cE(e);let a=!0,l=null,c=null;s||(IP(t)?(c=sz(e),l=nd(c)):jx()===null?(a=!1,c=cz(e),l=nd(c)):e[Nr]&&(rp(e[Nr]),e[Nr]=null));try{nM(e),J5(t.bindingStartIndex),n!==null&&dP(t,e,n,2,r);let d=(i&3)===3;if(!s)if(d){let g=t.preOrderCheckHooks;g!==null&&Up(e,g,null)}else{let g=t.preOrderHooks;g!==null&&jp(e,g,0,null),x0(e,0)}if(o||pz(e),CP(e,0),t.contentQueries!==null&&yP(t,e),!s)if(d){let g=t.contentCheckHooks;g!==null&&Up(e,g)}else{let g=t.contentHooks;g!==null&&jp(e,g,1),x0(e,1)}A6(t,e);let h=t.components;h!==null&&SP(e,h,0);let p=t.viewQuery;if(p!==null&&yw(2,p,r),!s)if(d){let g=t.viewCheckHooks;g!==null&&Up(e,g)}else{let g=t.viewHooks;g!==null&&jp(e,g,2),x0(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Vp]){for(let g of e[Vp])g();e[Vp]=null}s||(e[be]&=-73)}catch(d){throw s||bm(e),d}finally{c!==null&&(tp(c,l),a&&az(c)),uE()}}function CP(t,e){for(let n=MM(t);n!==null;n=PM(n))for(let r=ir;r<n.length;r++){let i=n[r];TP(i,e)}}function pz(t){for(let e=MM(t);e!==null;e=PM(e)){if(!(e[be]&Yp.HasTransplantedViews))continue;let n=e[Yl];for(let r=0;r<n.length;r++){let i=n[r];rM(i)}}}function mz(t,e,n){let r=go(e,t);TP(r,n)}function TP(t,e){sE(t)&&vw(t,e)}function vw(t,e){let r=t[Ae],i=t[be],s=t[Nr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&np(s)),o||=!1,s&&(s.dirty=!1),t[be]&=-9217,o)fz(r,t,r.template,t[Mr]);else if(i&8192){CP(t,1);let a=r.components;a!==null&&SP(t,a,1)}}function SP(t,e,n){for(let r=0;r<e.length;r++)mz(t,e[r],n)}function LE(t,e){let n=cM()?64:1088;for(t[Mi].changeDetectionScheduler?.notify(e);t;){t[be]|=n;let r=fa(t);if(Q0(t)&&!r)return t;t=r}return null}var ya=class{get rootNodes(){let e=this._lView,n=e[Ae];return im(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mr]}set context(e){this._lView[Mr]=e}get destroyed(){return(this._lView[be]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[An];if(fs(e)){let n=e[Qp],r=n?n.indexOf(this):-1;r>-1&&(tm(e,r),Gp(n,r))}this._attachedToViewContainer=!1}CE(this._lView[Ae],this._lView)}onDestroy(e){iM(this._lView,e)}markForCheck(){LE(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[be]&=-129}reattach(){Z0(this._lView),this._lView[be]|=128}detectChanges(){this._lView[be]|=1024,bP(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Q0(this._lView),n=this._lView[da];n!==null&&!e&&bE(n,this._lView),JM(this._lView[Ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=Q0(this._lView),r=this._lView[da];r!==null&&!n&&XM(r,this._lView),Z0(this._lView)}},us=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=vz;let t=e;return t})(),gz=us,yz=class extends gz{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=OE(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ya(i)}};function vz(){return km(mn(),xe())}function km(t,e){return t.type&4?new yz(e,t,sc(t,e)):null}var qme=new RegExp(`^(\\d+)*(${kH}|${PH})*(.*)`);var _z=()=>null;function sm(t,e){return _z(t,e)}var Jl=class{},VE=new $("",{providedIn:"root",factory:()=>!1});var DP=new $(""),_w=class{},om=class{};function wz(t){let e=Error(`No component factory found for ${zn(t)}.`);return e[Ez]=t,e}var Ez="ngComponent";var ww=class{resolveComponentFactory(e){throw wz(e)}},YE=class YE{};YE.NULL=new ww;var fo=YE,po=class{},tn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Iz();let t=e;return t})();function Iz(){let t=xe(),e=mn(),n=go(e.index,t);return(oo(n)?n:t)[Ot]}var bz=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var tN=new Set;function li(t){tN.has(t)||(tN.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function AP(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof ri.requestAnimationFrame=="function"&&ri.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function nN(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function rN(...t){}var ye=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new De(!1),this.onMicrotaskEmpty=new De(!1),this.onStable=new De(!1),this.onError=new De(!1),typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,Sz(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Cz,rN,rN);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Cz={};function UE(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Tz(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{AP(()=>{t.callbackScheduled=!1,Ew(t),t.isCheckStableRunning=!0,UE(t),t.isCheckStableRunning=!1})}),Ew(t))}function Sz(t){let e=()=>{Tz(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(Dz(a))return n.invokeTask(i,s,o,a);try{return iN(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),sN(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return iN(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Az(a)&&e(),sN(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ew(t),UE(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ew(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function iN(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sN(t){t._nesting--,UE(t)}var Iw=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new De,this.onMicrotaskEmpty=new De,this.onStable=new De,this.onError=new De}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Dz(t){return xP(t,"__ignore_ng_zone__")}function Az(t){return xP(t,"__scheduler_tick__")}function xP(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var rr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(rr||{}),xz={destroy(){}};function jE(t,e){!e&&Sd(jE);let n=e?.injector??S(at);return a6(n)?(li("NgAfterNextRender"),Nz(t,n,!0,e?.phase??rr.MixedReadWrite)):xz}function Rz(t,e){if(t instanceof Function)switch(e){case rr.EarlyRead:return{earlyRead:t};case rr.Write:return{write:t};case rr.MixedReadWrite:return{mixedReadWrite:t};case rr.Read:return{read:t}}return t}function Nz(t,e,n,r){let i=Rz(t,r),s=e.get(BE),o=s.handler??=new Cw,a=[],l=[],c=()=>{for(let g of l)o.unregister(g);d()},d=e.get(Oi).onDestroy(c),h=0,p=(g,_)=>{if(!_)return;let T=n?(...L)=>(h--,h<1&&c(),_(...L)):_,A=fr(e,()=>new bw(g,a,T));o.register(A),l.push(A),h++};return p(rr.EarlyRead,i.earlyRead),p(rr.Write,i.write),p(rr.MixedReadWrite,i.mixedReadWrite),p(rr.Read,i.read),{destroy:c}}var bw=class{constructor(e,n,r){this.phase=e,this.pipelinedArgs=n,this.callbackFn=r,this.zone=S(ye),this.errorHandler=S(si,{optional:!0}),S(Jl,{optional:!0})?.notify(6)}invoke(){try{let e=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,e)}catch(e){this.errorHandler?.handleError(e)}}},Cw=class{constructor(){this.executingCallbacks=!1,this.buckets={[rr.EarlyRead]:new Set,[rr.Write]:new Set,[rr.MixedReadWrite]:new Set,[rr.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},BE=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function am(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=B0(i,a);else if(s==2){let l=a,c=e[++o];r=B0(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var lm=class extends fo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=co(e);return new Xl(n,this.ngModule)}};function oN(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:lo.None;e?n.push({propName:o,templateName:r,isSignal:(a&lo.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function Mz(t){let e=t.toLowerCase();return e==="svg"?eM:e==="math"?j5:null}var Xl=class extends om{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=oN(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return oN(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=w5(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Be(null);try{i=i||this.ngModule;let o=i instanceof qn?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new X0(e,o):e,l=a.get(po,null);if(l===null)throw new B(407,!1);let c=a.get(bz,null),d=a.get(BE,null),h=a.get(Jl,null),p={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:h},g=l.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",T=r?N6(g,r,this.componentDef.encapsulation,a):ZM(g,_,Mz(_)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let L=null;T!==null&&(L=vE(T,a,!0));let H=RE(0,null,null,1,0,null,null,null,null,null,null),W=Mm(null,H,null,A,null,null,p,g,a,null,L);cE(W);let ee,je;try{let le=this.componentDef,D,E=null;le.findHostDirectiveDefs?(D=[],E=new Map,le.findHostDirectiveDefs(le,D,E),D.push(le)):D=[le];let b=Pz(W,T),x=kz(b,T,le,D,W,p,g);je=rE(H,pn),T&&Lz(g,le,T,r),n!==void 0&&Vz(je,this.ngContentSelectors,n),ee=Fz(x,le,D,E,W,[Uz]),kE(H,W,null)}finally{uE()}return new Tw(this.componentType,ee,sc(je,W),W,je)}finally{Be(s)}}},Tw=class extends _w{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ya(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;ME(s[Ae],s,i,e,n),this.previousInputValues.set(e,n);let o=go(this._tNode.index,s);LE(o,1)}}get injector(){return new ca(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Pz(t,e){let n=t[Ae],r=pn;return t[r]=e,oc(n,r,2,"#host",null)}function kz(t,e,n,r,i,s,o){let a=i[Ae];Oz(r,t,e,o);let l=null;e!==null&&(l=vE(e,i[Ql]));let c=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let h=Mm(i,hP(n),null,d,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&gw(a,t,r.length-1),Pm(i,h),i[t.index]=h}function Oz(t,e,n,r){for(let i of t)e.mergedAttrs=yd(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(am(e,e.mergedAttrs,!0),n!==null&&oP(r,n,e))}function Fz(t,e,n,r,i,s){let o=mn(),a=i[Ae],l=kr(o,i);pP(a,i,o,n,null,r);for(let d=0;d<n.length;d++){let h=o.directiveStart+d,p=ga(i,a,h,o);ho(p,i)}mP(a,i,o),l&&ho(l,i);let c=ga(i,a,o.directiveStart+o.componentOffset,o);if(t[Mr]=i[Mr]=c,s!==null)for(let d of s)d(c,e);return DE(a,o,i),c}function Lz(t,e,n,r){if(r)q0(t,n,["ng-version","18.1.2"]);else{let{attrs:i,classes:s}=E5(e.selectors[0]);i&&q0(t,n,i),s&&s.length>0&&sP(t,n,s.join(" "))}}function Vz(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Uz(){let t=mn();Dm(xe()[Ae],t)}var vs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jz;let t=e;return t})();function jz(){let t=mn();return NP(t,xe())}var Bz=vs,RP=class extends Bz{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return sc(this._hostTNode,this._hostLView)}get injector(){return new ca(this._hostTNode,this._hostLView)}get parentInjector(){let e=hE(this._hostTNode,this._hostLView);if(_M(e)){let n=Jp(e,this._hostLView),r=Zp(e),i=n[Ae].data[r+8];return new ca(i,n)}else return new ca(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=aN(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ir}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=sm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,rm(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!F5(e),a;if(o)a=n;else{let _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,s=_.environmentInjector||_.ngModuleRef}let l=o?e:new Xl(co(e)),c=r||this.parentInjector;if(!s&&l.ngModule==null){let T=(o?c:this.parentInjector).get(qn,null);T&&(s=T)}let d=co(l.componentType??{}),h=sm(this._lContainer,d?.id??null),p=h?.firstChild??null,g=l.create(c,i,p,s);return this.insertImpl(g.hostView,a,rm(this._hostTNode,h)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if($5(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[An],c=new RP(l,l[or],l[An]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return FE(o,i,s,r),e.attachToViewContainerRef(),RN(k0(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=aN(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=tm(this._lContainer,n);r&&(Gp(k0(this._lContainer),n),CE(r[Ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=tm(this._lContainer,n);return r&&Gp(k0(this._lContainer),n)!=null?new ya(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function aN(t){return t[Qp]}function k0(t){return t[Qp]||(t[Qp]=[])}function NP(t,e){let n,r=e[t.index];return fs(r)?n=r:(n=gP(r,e,null,t),e[t.index]=n,Pm(e,n)),Hz(n,e,t,r),new RP(n,t,e)}function $z(t,e){let n=t[Ot],r=n.createComment(""),i=kr(e,t),s=TE(n,i);return nm(n,s,r,w6(n,i),!1),r}var Hz=Gz,zz=()=>!1;function qz(t,e,n){return zz(t,e,n)}function Gz(t,e,n,r){if(t[ha])return;let i;n.type&8?i=Pi(r):i=$z(e,n),t[ha]=i}var Sw=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Dw=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)$E(e,n).matches!==null&&this.queries[n].setDirty()}},cm=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=e9(e):this.predicate=e}},Aw=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},xw=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,Wz(n,s)),this.matchTNodeWithReadOption(e,n,Bp(n,e,s,!1,!1))}else r===us?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Bp(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===At||i===vs||i===us&&n.type&4)this.addMatch(n.index,-2);else{let s=Bp(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Wz(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Kz(t,e){return t.type&11?sc(t,e):t.type&4?km(t,e):null}function Qz(t,e,n,r){return n===-1?Kz(e,t):n===-2?Yz(t,e,r):ga(t,t[Ae],n,e)}function Yz(t,e,n){if(n===At)return sc(e,t);if(n===us)return km(e,t);if(n===vs)return NP(e,t)}function MP(t,e,n,r){let i=e[ls].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let d=s[c];a.push(Qz(e,d,o[l+1],n.metadata.read))}}i.matches=a}return i.matches}function Rw(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=MP(t,e,i,n);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)r.push(o[a/2]);else{let c=s[a+1],d=e[-l];for(let h=ir;h<d.length;h++){let p=d[h];p[da]===p[An]&&Rw(p[Ae],p,c,r)}if(d[Yl]!==null){let h=d[Yl];for(let p=0;p<h.length;p++){let g=h[p];Rw(g[Ae],g,c,r)}}}}}return r}function Zz(t,e){return t[ls].queries[e].queryList}function PP(t,e,n){let r=new sw((n&4)===4);return k6(t,e,r,r.destroy),(e[ls]??=new Dw).queries.push(new Sw(r))-1}function Jz(t,e,n){let r=jt();return r.firstCreatePass&&(kP(r,new cm(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),PP(r,xe(),e)}function Xz(t,e,n,r){let i=jt();if(i.firstCreatePass){let s=mn();kP(i,new cm(e,n,r),s.index),t9(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return PP(i,xe(),n)}function e9(t){return t.split(",").map(e=>e.trim())}function kP(t,e,n){t.queries===null&&(t.queries=new Aw),t.queries.track(new xw(e,n))}function t9(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function $E(t,e){return t.queries.getByIndex(e)}function n9(t,e){let n=t[Ae],r=$E(n,e);return r.crossesNgTemplate?Rw(n,t,e,[]):MP(n,t,r,e)}function r9(t){return typeof t=="function"&&t[Jr]!==void 0}function gn(t,e){li("NgSignals");let n=Jx(t),r=n[Jr];return e?.equal&&(r.equal=e.equal),n.set=i=>op(r,i),n.update=i=>Xx(r,i),n.asReadonly=i9.bind(n),n}function i9(){let t=this[Jr];if(t.readonlyFn===void 0){let e=()=>this();e[Jr]=t,t.readonlyFn=e}return t.readonlyFn}function OP(t){return r9(t)&&typeof t.set=="function"}function s9(t){return Object.getPrototypeOf(t.prototype).constructor}function yn(t){let e=s9(t.type),n=!0,r=[t];for(;e;){let i;if(uo(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Op(t.inputs),o.inputTransforms=Op(t.inputTransforms),o.declaredInputs=Op(t.declaredInputs),o.outputs=Op(t.outputs);let a=i.hostBindings;a&&u9(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&l9(t,l),c&&c9(t,c),o9(t,i),U$(t.outputs,i.outputs),uo(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===yn&&(n=!1)}}e=Object.getPrototypeOf(e)}a9(r)}function o9(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function a9(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=yd(i.hostAttrs,n=yd(n,i.hostAttrs))}}function Op(t){return t===Wl?{}:t===nr?[]:t}function l9(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function c9(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function u9(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function wa(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var mo=class{},Id=class{};var Nw=class extends mo{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new lm(this);let i=jN(e);this._bootstrapComponents=YM(i.bootstrap),this._r3Injector=AM(e,n,[{provide:mo,useValue:this},{provide:fo,useValue:this.componentFactoryResolver},...r],zn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Mw=class extends Id{constructor(e){super(),this.moduleType=e}create(e){return new Nw(this.moduleType,e,[])}};var um=class extends mo{constructor(e){super(),this.componentFactoryResolver=new lm(this),this.instance=null;let n=new vd([...e.providers,{provide:mo,useValue:this},{provide:fo,useValue:this.componentFactoryResolver}],e.parent||tE(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Om(t,e,n=null){return new um({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function FP(t){return HE(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function d9(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function HE(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Fm(t,e,n){return t[e]=n}function LP(t,e){return t[e]}function oi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ec(t,e,n,r){let i=oi(t,e,n);return oi(t,e+1,r)||i}function h9(t,e,n,r,i){let s=ec(t,e,n,r);return oi(t,e+2,i)||s}function f9(t,e,n,r,i,s){let o=ec(t,e,n,r);return ec(t,e+2,i,s)||o}function p9(t){return(t.flags&32)===32}function m9(t,e,n,r,i,s,o,a,l){let c=e.consts,d=oc(e,t,4,o||null,a||null);NE(e,n,d,Zl(c,l)),Dm(e,d);let h=d.tView=RE(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}function VP(t,e,n,r,i,s,o,a,l,c){let d=n+pn,h=e.firstCreatePass?m9(d,e,t,r,i,s,o,a,l):e.data[d];_a(h,!1);let p=g9(e,t,h,n);Tm()&&Rm(e,t,p,h),ho(p,t);let g=gP(p,t,p,h);return t[d]=g,Pm(t,g),qz(g,h,t),Im(h)&&AE(e,t,h),l!=null&&xE(t,h,c),h}function Q(t,e,n,r,i,s,o,a){let l=xe(),c=jt(),d=Zl(c.consts,s);return VP(l,c,t,e,n,r,i,d,o,a),Q}var g9=y9;function y9(t,e,n,r){return Sm(!0),e[Ot].createComment("")}function Rn(t,e,n,r){let i=xe(),s=Dd();if(oi(i,s,e)){let o=jt(),a=dE();Q6(a,i,t,e,n,r)}return Rn}function v9(t,e,n,r){return oi(t,Dd(),n)?e+Ri(n)+r:Wn}function _9(t,e,n,r,i,s){let o=uM(),a=ec(t,o,n,i);return Cm(2),a?e+Ri(n)+r+Ri(i)+s:Wn}function w9(t,e,n,r,i,s,o,a){let l=uM(),c=h9(t,l,n,i,o);return Cm(3),c?e+Ri(n)+r+Ri(i)+s+Ri(o)+a:Wn}function Fp(t,e){return t<<17|e<<2}function va(t){return t>>17&32767}function E9(t){return(t&2)==2}function I9(t,e){return t&131071|e<<17}function Pw(t){return t|2}function tc(t){return(t&131068)>>2}function O0(t,e){return t&-131069|e<<2}function b9(t){return(t&1)===1}function kw(t){return t|1}function C9(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=va(o),l=tc(o);t[r]=n;let c=!1,d;if(Array.isArray(n)){let h=n;d=h[1],(d===null||Td(h,d)>0)&&(c=!0)}else d=n;if(i)if(l!==0){let p=va(t[a+1]);t[r+1]=Fp(p,a),p!==0&&(t[p+1]=O0(t[p+1],r)),t[a+1]=I9(t[a+1],r)}else t[r+1]=Fp(a,0),a!==0&&(t[a+1]=O0(t[a+1],r)),a=r;else t[r+1]=Fp(l,0),a===0?a=r:t[l+1]=O0(t[l+1],r),l=r;c&&(t[r+1]=Pw(t[r+1])),lN(t,d,r,!0),lN(t,d,r,!1),T9(e,d,t,r,s),o=Fp(a,l),s?e.classBindings=o:e.styleBindings=o}function T9(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Td(s,e)>=0&&(n[r+1]=kw(n[r+1]))}function lN(t,e,n,r){let i=t[n+1],s=e===null,o=r?va(i):tc(i),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],c=t[o+1];S9(l,e)&&(a=!0,t[o+1]=r?kw(c):Pw(c)),o=r?va(c):tc(c)}a&&(t[n+1]=r?Pw(i):kw(i))}function S9(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Td(t,e)>=0:!1}var en={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function UP(t){return t.substring(en.key,en.keyEnd)}function D9(t){return t.substring(en.value,en.valueEnd)}function A9(t){return $P(t),jP(t,nc(t,0,en.textEnd))}function jP(t,e){let n=en.textEnd;return n===e?-1:(e=en.keyEnd=R9(t,en.key=e,n),nc(t,e,n))}function x9(t){return $P(t),BP(t,nc(t,0,en.textEnd))}function BP(t,e){let n=en.textEnd,r=en.key=nc(t,e,n);return n===r?-1:(r=en.keyEnd=N9(t,r,n),r=cN(t,r,n,58),r=en.value=nc(t,r,n),r=en.valueEnd=M9(t,r,n),cN(t,r,n,59))}function $P(t){en.key=0,en.keyEnd=0,en.value=0,en.valueEnd=0,en.textEnd=t.length}function nc(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function R9(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function N9(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function cN(t,e,n,r){return e=nc(t,e,n),e<n&&e++,e}function M9(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){let l=t.charCodeAt(o++);if(l===59)return a;l===34||l===39?a=o=uN(t,l,o,n):e===o-4&&s===85&&i===82&&r===76&&l===40?a=o=uN(t,41,o,n):l>32&&(a=o),s=i,i=r,r=l&-33}return a}function uN(t,e,n,r){let i=-1,s=n;for(;s<r;){let o=t.charCodeAt(s++);if(o==e&&i!==92)return s;o==92&&i===92?i=0:i=o}throw new Error}function O(t,e,n){let r=xe(),i=Dd();if(oi(r,i,e)){let s=jt(),o=dE();fP(s,o,r,t,e,r[Ot],n,!1)}return O}function Ow(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";ME(t,n,s[o],o,r)}function Ea(t,e){return O9(t,e,null,!0),Ea}function HP(t){zP(WP,P9,t,!1)}function P9(t,e){for(let n=x9(e);n>=0;n=BP(e,n))WP(t,UP(e),D9(e))}function Lm(t){zP(B9,k9,t,!0)}function k9(t,e){for(let n=A9(e);n>=0;n=jP(e,n))vm(t,UP(e),!0)}function O9(t,e,n,r){let i=xe(),s=jt(),o=Cm(2);if(s.firstUpdatePass&&GP(s,t,o,r),e!==Wn&&oi(i,o,e)){let a=s.data[ps()];KP(s,a,i,i[Ot],t,i[o+1]=H9(e,n),r,o)}}function zP(t,e,n,r){let i=jt(),s=Cm(2);i.firstUpdatePass&&GP(i,null,s,r);let o=xe();if(n!==Wn&&oi(o,s,n)){let a=i.data[ps()];if(QP(a,r)&&!qP(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=B0(l,n||"")),Ow(i,a,o,n,r)}else $9(i,a,o,o[Ot],o[s+1],o[s+1]=j9(t,e,n),r,s)}}function qP(t,e){return e>=t.expandoStartIndex}function GP(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ps()],o=qP(t,n);QP(s,r)&&e===null&&!o&&(e=!1),e=F9(i,s,e,r),C9(i,s,e,n,o,r)}}function F9(t,e,n,r){let i=nH(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=F0(null,t,e,n,r),n=bd(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=F0(i,t,e,n,r),s===null){let l=L9(t,e,r);l!==void 0&&Array.isArray(l)&&(l=F0(null,t,e,l[1],r),l=bd(l,e.attrs,r),V9(t,e,r,l))}else s=U9(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function L9(t,e,n){let r=n?e.classBindings:e.styleBindings;if(tc(r)!==0)return t[va(r)]}function V9(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[va(i)]=r}function U9(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=bd(r,o,n)}return bd(r,e.attrs,n)}function F0(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=bd(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function bd(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),vm(t,o,n?!0:e[++s]))}return t===void 0?null:t}function j9(t,e,n){if(n==null||n==="")return nr;let r=[],i=pr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function WP(t,e,n){vm(t,e,pr(n))}function B9(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&vm(t,r,n)}function $9(t,e,n,r,i,s,o,a){i===Wn&&(i=nr);let l=0,c=0,d=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;d!==null||h!==null;){let p=l<i.length?i[l+1]:void 0,g=c<s.length?s[c+1]:void 0,_=null,T;d===h?(l+=2,c+=2,p!==g&&(_=h,T=g)):h===null||d!==null&&d<h?(l+=2,_=d):(c+=2,_=h,T=g),_!==null&&KP(t,e,n,r,_,T,o,a),d=l<i.length?i[l]:null,h=c<s.length?s[c]:null}}function KP(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],d=b9(c)?dN(l,e,n,i,tc(c),o):void 0;if(!dm(d)){dm(s)||E9(c)&&(s=dN(l,null,n,i,a,o));let h=tM(ps(),n);S6(r,o,h,i,s)}}function dN(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),d=c?l[1]:l,h=d===null,p=n[i+1];p===Wn&&(p=h?nr:void 0);let g=h?D0(p,r):d===r?p:void 0;if(c&&!dm(g)&&(g=D0(l,r)),dm(g)&&(a=g,o))return a;let _=t[i+1];i=o?va(_):tc(_)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=D0(l,r))}return a}function dm(t){return t!==void 0}function H9(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=zn(pr(t)))),t}function QP(t,e){return(t.flags&(e?8:16))!==0}function zE(t,e){li("NgControlFlow");let n=xe(),r=Dd(),i=n[r]!==Wn?n[r]:-1,s=i!==-1?hN(n,pn+i):void 0,o=0;if(oi(n,r,t)){let a=Be(null);try{if(s!==void 0&&rz(s,o),t!==-1){let l=pn+t,c=hN(n,l),d=z9(n[Ae],l),h=sm(c,d.tView.ssrId),p=OE(n,d,e,{dehydratedView:h});FE(c,p,o,rm(d,h))}}finally{Be(a)}}else if(s!==void 0){let a=nz(s,o);a!==void 0&&(a[Mr]=e)}}function hN(t,e){return t[e]}function z9(t,e){return rE(t,e)}function q9(t,e,n,r,i,s){let o=e.consts,a=Zl(o,i),l=oc(e,t,2,r,a);return NE(e,n,l,Zl(o,s)),l.attrs!==null&&am(l,l.attrs,!1),l.mergedAttrs!==null&&am(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function y(t,e,n,r){let i=xe(),s=jt(),o=pn+t,a=i[Ot],l=s.firstCreatePass?q9(o,s,i,e,n,r):s.data[o],c=G9(s,i,l,a,e,t);i[o]=c;let d=Im(l);return _a(l,!0),oP(a,c,l),!p9(l)&&Tm()&&Rm(s,i,c,l),q5()===0&&ho(c,i),G5(),d&&(AE(s,i,l),DE(s,l,i)),r!==null&&xE(i,l),y}function w(){let t=mn();oE()?aE():(t=t.parent,_a(t,!1));let e=t;K5(e)&&Q5(),W5();let n=jt();return n.firstCreatePass&&(Dm(n,t),nE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&uH(e)&&Ow(n,e,xe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&dH(e)&&Ow(n,e,xe(),e.stylesWithoutHost,!1),w}function V(t,e,n,r){return y(t,e,n,r),w(),V}var G9=(t,e,n,r,i,s)=>(Sm(!0),ZM(r,i,oH()));function W9(t,e,n,r,i){let s=e.consts,o=Zl(s,r),a=oc(e,t,8,"ng-container",o);o!==null&&am(a,o,!0);let l=Zl(s,i);return NE(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function rn(t,e,n){let r=xe(),i=jt(),s=t+pn,o=i.firstCreatePass?W9(s,i,r,e,n):i.data[s];_a(o,!0);let a=K9(i,r,o,t);return r[s]=a,Tm()&&Rm(i,r,a,o),ho(a,r),Im(o)&&(AE(i,r,o),DE(i,o,r)),n!=null&&xE(r,o),rn}function sn(){let t=mn(),e=jt();return oE()?aE():(t=t.parent,_a(t,!1)),e.firstCreatePass&&(Dm(e,t),nE(t)&&e.queries.elementEnd(t)),sn}function ac(t,e,n){return rn(t,e,n),sn(),ac}var K9=(t,e,n,r)=>(Sm(!0),d6(e[Ot],""));function ft(){return xe()}var aa=void 0;function Q9(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var Y9=["en",[["a","p"],["AM","PM"],aa],[["AM","PM"],aa,aa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],aa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],aa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",aa,"{1} 'at' {0}",aa],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Q9],L0={};function Or(t){let e=Z9(t),n=fN(e);if(n)return n;let r=e.split("-")[0];if(n=fN(r),n)return n;if(r==="en")return Y9;throw new B(701,!1)}function fN(t){return t in L0||(L0[t]=ri.ng&&ri.ng.common&&ri.ng.common.locales&&ri.ng.common.locales[t]),L0[t]}var Bt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Bt||{});function Z9(t){return t.toLowerCase().replace(/_/g,"-")}var hm="en-US";var J9=hm;function X9(t){typeof t=="string"&&(J9=t.toLowerCase().replace(/_/g,"-"))}var e8=(t,e,n)=>{};function Y(t,e,n,r){let i=xe(),s=jt(),o=mn();return YP(s,i,i[Ot],o,t,e,r),Y}function t8(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Kp],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function YP(t,e,n,r,i,s,o){let a=Im(r),c=t.firstCreatePass&&_P(t),d=e[Mr],h=vP(e),p=!0;if(r.type&3||o){let T=kr(r,e),A=o?o(T):T,L=h.length,H=o?ee=>o(Pi(ee[r.index])):r.index,W=null;if(!o&&a&&(W=t8(t,e,i,r.index)),W!==null){let ee=W.__ngLastListenerFn__||W;ee.__ngNextListenerFn__=s,W.__ngLastListenerFn__=s,p=!1}else{s=mN(r,e,d,s),e8(T,i,s);let ee=n.listen(A,i,s);h.push(s,ee),c&&c.push(i,H,L,L+1)}}else s=mN(r,e,d,s);let g=r.outputs,_;if(p&&g!==null&&(_=g[i])){let T=_.length;if(T)for(let A=0;A<T;A+=2){let L=_[A],H=_[A+1],je=e[L][H].subscribe(s),le=h.length;h.push(s,je),c&&c.push(i,r.index,le,-(le+1))}}}function pN(t,e,n,r){let i=Be(null);try{return Ai(6,e,n),n(r)!==!1}catch(s){return wP(t,s),!1}finally{Ai(7,e,n),Be(i)}}function mN(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?go(t.index,e):e;LE(o,5);let a=pN(e,n,r,s),l=i.__ngNextListenerFn__;for(;l;)a=pN(e,n,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function ie(t=1){return iH(t)}function n8(t,e){let n=null,r=m5(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?FN(t,s,!0):v5(r,s))return i}return n}function Ia(t){let e=xe()[Pr][or];if(!e.projection){let n=t?t.length:1,r=e.projection=o5(n,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=t?n8(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function _s(t,e=0,n,r,i,s){let o=xe(),a=jt(),l=r?t+1:null;l!==null&&VP(o,a,l,r,i,s,null,n);let c=oc(a,pn+t,16,null,n||null);c.projection===null&&(c.projection=e),aE();let h=!o[_d]||aM();o[Pr][or].projection[c.projection]===null&&l!==null?r8(o,a,l):h&&(c.flags&32)!==32&&C6(a,o,c)}function r8(t,e,n){let r=pn+n,i=e.data[r],s=t[r],o=sm(s,i.tView.ssrId),a=OE(t,i,void 0,{dehydratedView:o});FE(s,a,0,rm(i,o))}function Vm(t,e,n,r){Xz(t,e,n,r)}function ZP(t,e,n){Jz(t,e,n)}function lc(t){let e=xe(),n=jt(),r=dM();lE(r+1);let i=$E(n,r);if(t.dirty&&B5(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=n9(e,r);t.reset(s,SH),t.notifyOnChanges()}return!0}return!1}function cc(){return Zz(xe(),dM())}function i8(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function uc(t){let e=Z5();return iE(e,pn+t)}function N(t,e=""){let n=xe(),r=jt(),i=t+pn,s=r.firstCreatePass?oc(r,i,1,e,null):r.data[i],o=s8(r,n,s,e,t);n[i]=o,Tm()&&Rm(r,n,o,s),_a(s,!1)}var s8=(t,e,n,r,i)=>(Sm(!0),c6(e[Ot],r));function Ft(t){return Ce("",t,""),Ft}function Ce(t,e,n){let r=xe(),i=v9(r,t,e,n);return i!==Wn&&PE(r,ps(),i),Ce}function ba(t,e,n,r,i){let s=xe(),o=_9(s,t,e,n,r,i);return o!==Wn&&PE(s,ps(),o),ba}function qE(t,e,n,r,i,s,o){let a=xe(),l=w9(a,t,e,n,r,i,s,o);return l!==Wn&&PE(a,ps(),l),qE}function Ca(t,e,n){OP(e)&&(e=e());let r=xe(),i=Dd();if(oi(r,i,e)){let s=jt(),o=dE();fP(s,o,r,t,e,r[Ot],n,!1)}return Ca}function dc(t,e){let n=OP(t);return n&&t.set(e),n}function Ta(t,e){let n=xe(),r=jt(),i=mn();return YP(r,n,n[Ot],i,t,e),Ta}function o8(t,e,n){let r=jt();if(r.firstCreatePass){let i=uo(t);Fw(n,r.data,r.blueprint,i,!0),Fw(e,r.data,r.blueprint,i,!1)}}function Fw(t,e,n,r,i){if(t=Hn(t),Array.isArray(t))for(let s=0;s<t.length;s++)Fw(t[s],e,n,r,i);else{let s=jt(),o=xe(),a=mn(),l=Kl(t)?t:Hn(t.provide),c=GN(t),d=a.providerIndexes&1048575,h=a.directiveStart,p=a.providerIndexes>>20;if(Kl(t)||!t.multi){let g=new ma(c,i,X),_=U0(l,e,i?d:d+p,h);_===-1?(tw(em(a,o),s,l),V0(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),o.push(g)):(n[_]=g,o[_]=g)}else{let g=U0(l,e,d+p,h),_=U0(l,e,d,d+p),T=g>=0&&n[g],A=_>=0&&n[_];if(i&&!A||!i&&!T){tw(em(a,o),s,l);let L=c8(i?l8:a8,n.length,i,r,c);!i&&A&&(n[_].providerFactory=L),V0(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(L),o.push(L)}else{let L=JP(n[i?_:g],c,!i&&r);V0(s,t,g>-1?g:_,L)}!i&&r&&A&&n[_].componentProviders++}}}function V0(t,e,n,r){let i=Kl(e),s=x5(e);if(i||s){let l=(s?Hn(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=c.indexOf(n);d===-1?c.push(n,[r,l]):c[d+1].push(r,l)}else c.push(n,l)}}}function JP(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function U0(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function a8(t,e,n,r){return Lw(this.multi,[])}function l8(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ga(n,n[Ae],this.providerFactory.index,r);s=a.slice(0,o),Lw(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Lw(i,s);return s}function Lw(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function c8(t,e,n,r,i){let s=new ma(t,n,X);return s.multi=[],s.index=e,s.componentProviders=0,JP(s,i,r&&!n),s}function ci(t,e=[]){return n=>{n.providersResolver=(r,i)=>o8(r,i?i(t):t,e)}}var u8=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=HN(!1,r.type),s=i.length>0?Om([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(q(qn))});let t=e;return t})();function se(t){li("NgStandalone"),t.getStandaloneInjector=e=>e.get(u8).getOrCreateStandaloneInjector(t)}function Fr(t,e,n){let r=ic()+t,i=xe();return i[r]===Wn?Fm(i,r,n?e.call(n):e()):LP(i,r)}function Kn(t,e,n,r){return nk(xe(),ic(),t,e,n,r)}function XP(t,e,n,r,i){return rk(xe(),ic(),t,e,n,r,i)}function ek(t,e,n,r,i,s,o,a,l){let c=ic()+t,d=xe(),h=f9(d,c,n,r,i,s);return ec(d,c+4,o,a)||h?Fm(d,c+6,l?e.call(l,n,r,i,s,o,a):e(n,r,i,s,o,a)):LP(d,c+6)}function tk(t,e){let n=t[e];return n===Wn?void 0:n}function nk(t,e,n,r,i,s){let o=e+n;return oi(t,o,i)?Fm(t,o+1,s?r.call(s,i):r(i)):tk(t,o+1)}function rk(t,e,n,r,i,s,o){let a=e+n;return ec(t,a,i,s)?Fm(t,a+2,o?r.call(o,i,s):r(i,s)):tk(t,a+2)}function Lr(t,e){let n=jt(),r,i=t+pn;n.firstCreatePass?(r=d8(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=ua(r.type,!0)),o,a=tr(X);try{let l=Xp(!1),c=s();return Xp(l),i8(n,xe(),i,c),c}finally{tr(a)}}function d8(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function hc(t,e,n){let r=t+pn,i=xe(),s=iE(i,r);return ik(i,r)?nk(i,ic(),e,s.transform,n,s):s.transform(n)}function fc(t,e,n,r){let i=t+pn,s=xe(),o=iE(s,i);return ik(s,i)?rk(s,ic(),e,o.transform,n,r,o):o.transform(n,r)}function ik(t,e){return t[Ae].data[e].pure}function pc(t,e){return km(t,e)}var ds=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},sk=new ds("18.1.2");var Um=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var ok=new $("");function yo(t){return!!t&&typeof t.then=="function"}function GE(t){return!!t&&typeof t.subscribe=="function"}var mc=new $(""),ak=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=S(mc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(yo(o))r.push(o);else if(GE(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xd=new $("");function h8(){Zx(()=>{throw new B(600,!1)})}function f8(t){return t.isBoundToModule}var p8=10;function m8(t,e,n){try{let r=n();return yo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Sa=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=S(xM),this.afterRenderEffectManager=S(BE),this.zonelessEnabled=S(VE),this.externalTestViews=new Set,this.beforeRender=new ot,this.afterTick=new ot,this.componentTypes=[],this.components=[],this.isStable=S(ms).hasPendingTasks.pipe(Z(r=>!r)),this._injector=S(qn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof om;if(!this._injector.get(ak).done){let g=!s&&UN(r),_=!1;throw new B(405,_)}let a;s?a=r:a=this._injector.get(fo).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=f8(a)?void 0:this._injector.get(mo),c=i||a.selector,d=a.create(at.NULL,[],c,l),h=d.location.nativeElement,p=d.injector.get(ok,null);return p?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),j0(this.components,d),p?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new B(101,!1);let i=Be(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,Be(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(po,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<p8;){let a=s===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:c}of this._views)g8(l,c,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:l})=>Ed(l))&&(o.execute(),!this.allViews.some(({_lView:l})=>Ed(l))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;j0(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(xd,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>j0(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new B(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function j0(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function g8(t,e,n,r){if(!n&&!Ed(t))return;bP(t,e,n&&!r?0:1)}var Vw=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},jm=(()=>{let e=class e{compileModuleSync(r){return new Mw(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=jN(r),o=YM(s.declarations).reduce((a,l)=>{let c=co(l);return c&&a.push(new Xl(c)),a},[]);return new Vw(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var y8=(()=>{let e=class e{constructor(){this.zone=S(ye),this.changeDetectionScheduler=S(Jl),this.applicationRef=S(Sa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),v8=new $("",{factory:()=>!1});function lk({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new ye(uk()),[{provide:ye,useFactory:t},{provide:ao,multi:!0,useFactory:()=>{let n=S(y8,{optional:!0});return()=>n.initialize()}},{provide:ao,multi:!0,useFactory:()=>{let n=S(w8);return()=>{n.initialize()}}},{provide:xM,useFactory:_8},e===!0?{provide:DP,useValue:!0}:[]]}function _8(){let t=S(ye),e=S(si);return n=>t.runOutsideAngular(()=>e.handleError(n))}function ck(t){let e=t?.ignoreChangesOutsideZone,n=lk({ngZoneFactory:()=>{let r=uk(t);return r.shouldCoalesceEventChangeDetection&&li("NgZone_CoalesceEvent"),new ye(r)},ignoreChangesOutsideZone:e});return zt([{provide:v8,useValue:!0},{provide:VE,useValue:!1},n])}function uk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var w8=(()=>{let e=class e{constructor(){this.subscription=new Tt,this.initialized=!1,this.zone=S(ye),this.pendingTasks=S(ms)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var E8=(()=>{let e=class e{constructor(){this.appRef=S(Sa),this.taskService=S(ms),this.ngZone=S(ye),this.zonelessEnabled=S(VE),this.disableScheduling=S(DP,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Tt,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Iw||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?nN:AP;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&ye.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,nN(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function I8(){return typeof $localize<"u"&&$localize.locale||hm}var Bm=new $("",{providedIn:"root",factory:()=>S(Bm,Oe.Optional|Oe.SkipSelf)||I8()});var dk=new $("");var Hp=null;function b8(t=[],e){return at.create({name:e,providers:[{provide:_m,useValue:"platform"},{provide:dk,useValue:new Set([()=>Hp=null])},...t]})}function C8(t=[]){if(Hp)return Hp;let e=b8(t);return Hp=e,h8(),T8(e),e}function T8(t){t.get(mE,null)?.forEach(n=>n())}function hk(){return!1}var Nn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=S8;let t=e;return t})();function S8(t){return D8(mn(),xe(),(t&16)===16)}function D8(t,e,n){if(Em(t)&&!n){let r=go(t.index,e);return new ya(r,r)}else if(t.type&175){let r=e[Pr];return new ya(r,e)}return null}var Uw=class{constructor(){}supports(e){return FP(e)}create(e){return new jw(e)}},A8=(t,e)=>e,jw=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||A8}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<gN(r,i,s)?n:r,a=gN(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let c=a-i,d=l-i;if(c!=d){for(let p=0;p<c;p++){let g=p<s.length?s[p]:s[p]=0,_=g+p;d<=_&&_<c&&(s[p]=g+1)}let h=o.previousIndex;s[h]=d-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!FP(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,d9(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Bw(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new fm),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new fm),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Bw=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},$w=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},fm=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new $w,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function gN(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Hw=class{constructor(){}supports(e){return e instanceof Map||HE(e)}create(){return new zw}},zw=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||HE(e)))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new qw(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},qw=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function yN(){return new WE([new Uw])}var WE=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||yN()),deps:[[e,new ym,new bt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new B(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:yN});let t=e;return t})();function vN(){return new KE([new Hw])}var KE=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||vN()),deps:[[e,new ym,new bt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new B(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:vN});let t=e;return t})();function fk(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=C8(r),s=[lk({}),{provide:Jl,useExisting:E8},...n||[]],a=new um({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(ye);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(si,null),d;l.runOutsideAngular(()=>{d=l.onError.subscribe({next:g=>{c.handleError(g)}})});let h=()=>a.destroy(),p=i.get(dk);return p.add(h),a.onDestroy(()=>{d.unsubscribe(),p.delete(h)}),m8(c,l,()=>{let g=a.get(ak);return g.runInitializers(),g.donePromise.then(()=>{let _=a.get(Bm,hm);X9(_||hm);let T=a.get(Sa);return e!==void 0&&T.bootstrap(e),T})})})}catch(e){return Promise.reject(e)}}var pk=new $("");function vn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function QE(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function ws(t,e){li("NgSignals");let n=Kx(t);return e?.equal&&(n[Jr].equal=e.equal),n}function Vr(t){let e=Be(null);try{return t()}finally{Be(e)}}var x8=new $("",{providedIn:"root",factory:()=>S(R8)}),R8=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new Gw});let t=e;return t})(),Gw=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=S(ms),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Ww=class{constructor(e,n,r,i,s,o){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=s,this.watcher=eR(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(si,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Mn(t,e){li("NgSignals"),!e?.injector&&Sd(Mn);let n=e?.injector??S(at),r=e?.manualCleanup!==!0?n.get(Oi):null,i=new Ww(n.get(x8),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(Nn,null,{optional:!0});return!s||!(s._lView[be]&8)?i.watcher.notify():(s._lView[Vp]??=[]).push(i.watcher.notify),i}function mk(t){let e=co(t);if(!e)return null;let n=new Xl(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ik=null;function Cs(){return Ik}function bk(t){Ik??=t}var Ym=class{};var mt=new $(""),aI=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>S(M8),providedIn:"platform"});let t=e;return t})(),Ck=new $(""),M8=(()=>{let e=class e extends aI{constructor(){super(),this._doc=S(mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cs().getBaseHref(this._doc)}onPopState(r){let i=Cs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Cs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function lI(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function gk(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Is(t){return t&&t[0]!=="?"?"?"+t:t}var Ts=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>S(cI),providedIn:"root"});let t=e;return t})(),Tk=new $(""),cI=(()=>{let e=class e extends Ts{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??S(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return lI(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Is(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Is(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Is(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(q(aI),q(Tk,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sk=(()=>{let e=class e extends Ts{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=lI(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Is(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Is(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(q(aI),q(Tk,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),yc=(()=>{let e=class e{constructor(r){this._subject=new De,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=O8(gk(yk(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Is(i))}normalize(r){return e.stripTrailingSlash(k8(this._basePath,yk(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Is(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Is(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Is,e.joinWithSlash=lI,e.stripTrailingSlash=gk,e.\u0275fac=function(i){return new(i||e)(q(Ts))},e.\u0275prov=z({token:e,factory:()=>P8(),providedIn:"root"});let t=e;return t})();function P8(){return new yc(q(Ts))}function k8(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function yk(t){return t.replace(/\/index.html$/,"")}function O8(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Qn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Qn||{}),pt=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(pt||{}),gr=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(gr||{}),vo={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function F8(t){return Or(t)[Bt.LocaleId]}function L8(t,e,n){let r=Or(t),i=[r[Bt.DayPeriodsFormat],r[Bt.DayPeriodsStandalone]],s=Ur(i,e);return Ur(s,n)}function V8(t,e,n){let r=Or(t),i=[r[Bt.DaysFormat],r[Bt.DaysStandalone]],s=Ur(i,e);return Ur(s,n)}function U8(t,e,n){let r=Or(t),i=[r[Bt.MonthsFormat],r[Bt.MonthsStandalone]],s=Ur(i,e);return Ur(s,n)}function j8(t,e){let r=Or(t)[Bt.Eras];return Ur(r,e)}function $m(t,e){let n=Or(t);return Ur(n[Bt.DateFormat],e)}function Hm(t,e){let n=Or(t);return Ur(n[Bt.TimeFormat],e)}function zm(t,e){let r=Or(t)[Bt.DateTimeFormat];return Ur(r,e)}function Jm(t,e){let n=Or(t),r=n[Bt.NumberSymbols][e];if(typeof r>"u"){if(e===vo.CurrencyDecimal)return n[Bt.NumberSymbols][vo.Decimal];if(e===vo.CurrencyGroup)return n[Bt.NumberSymbols][vo.Group]}return r}function Dk(t){if(!t[Bt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Bt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function B8(t){let e=Or(t);return Dk(e),(e[Bt.ExtraData][2]||[]).map(r=>typeof r=="string"?ZE(r):[ZE(r[0]),ZE(r[1])])}function $8(t,e,n){let r=Or(t);Dk(r);let i=[r[Bt.ExtraData][0],r[Bt.ExtraData][1]],s=Ur(i,e)||[];return Ur(s,n)||[]}function Ur(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function ZE(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var H8=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,qm={},z8=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,bs=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(bs||{}),Xe=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Xe||{}),Je=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Je||{});function q8(t,e,n,r){let i=eq(t);e=Es(n,e)||e;let o=[],a;for(;e;)if(a=z8.exec(e),a){o=o.concat(a.slice(1));let d=o.pop();if(!d)break;e=d}else{o.push(e);break}let l=i.getTimezoneOffset();r&&(l=xk(r,l),i=X8(i,r,!0));let c="";return o.forEach(d=>{let h=Z8(d);c+=h?h(i,n,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Zm(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Es(t,e){let n=F8(t);if(qm[n]??={},qm[n][e])return qm[n][e];let r="";switch(e){case"shortDate":r=$m(t,gr.Short);break;case"mediumDate":r=$m(t,gr.Medium);break;case"longDate":r=$m(t,gr.Long);break;case"fullDate":r=$m(t,gr.Full);break;case"shortTime":r=Hm(t,gr.Short);break;case"mediumTime":r=Hm(t,gr.Medium);break;case"longTime":r=Hm(t,gr.Long);break;case"fullTime":r=Hm(t,gr.Full);break;case"short":let i=Es(t,"shortTime"),s=Es(t,"shortDate");r=Gm(zm(t,gr.Short),[i,s]);break;case"medium":let o=Es(t,"mediumTime"),a=Es(t,"mediumDate");r=Gm(zm(t,gr.Medium),[o,a]);break;case"long":let l=Es(t,"longTime"),c=Es(t,"longDate");r=Gm(zm(t,gr.Long),[l,c]);break;case"full":let d=Es(t,"fullTime"),h=Es(t,"fullDate");r=Gm(zm(t,gr.Full),[d,h]);break}return r&&(qm[n][e]=r),r}function Gm(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function ui(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function G8(t,e){return ui(t,3).substring(0,e)}function qt(t,e,n=0,r=!1,i=!1){return function(s,o){let a=W8(t,s);if((n>0||a>-n)&&(a+=n),t===Xe.Hours)a===0&&n===-12&&(a=12);else if(t===Xe.FractionalSeconds)return G8(a,e);let l=Jm(o,vo.MinusSign);return ui(a,e,l,r,i)}}function W8(t,e){switch(t){case Xe.FullYear:return e.getFullYear();case Xe.Month:return e.getMonth();case Xe.Date:return e.getDate();case Xe.Hours:return e.getHours();case Xe.Minutes:return e.getMinutes();case Xe.Seconds:return e.getSeconds();case Xe.FractionalSeconds:return e.getMilliseconds();case Xe.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function vt(t,e,n=Qn.Format,r=!1){return function(i,s){return K8(i,s,t,e,n,r)}}function K8(t,e,n,r,i,s){switch(n){case Je.Months:return U8(e,i,r)[t.getMonth()];case Je.Days:return V8(e,i,r)[t.getDay()];case Je.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let c=B8(e),d=$8(e,i,r),h=c.findIndex(p=>{if(Array.isArray(p)){let[g,_]=p,T=o>=g.hours&&a>=g.minutes,A=o<_.hours||o===_.hours&&a<_.minutes;if(g.hours<_.hours){if(T&&A)return!0}else if(T||A)return!0}else if(p.hours===o&&p.minutes===a)return!0;return!1});if(h!==-1)return d[h]}return L8(e,i,r)[o<12?0:1];case Je.Eras:return j8(e,r)[t.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function Wm(t){return function(e,n,r){let i=-1*r,s=Jm(n,vo.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case bs.Short:return(i>=0?"+":"")+ui(o,2,s)+ui(Math.abs(i%60),2,s);case bs.ShortGMT:return"GMT"+(i>=0?"+":"")+ui(o,1,s);case bs.Long:return"GMT"+(i>=0?"+":"")+ui(o,2,s)+":"+ui(Math.abs(i%60),2,s);case bs.Extended:return r===0?"Z":(i>=0?"+":"")+ui(o,2,s)+":"+ui(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var Q8=0,Qm=4;function Y8(t){let e=Zm(t,Q8,1).getDay();return Zm(t,0,1+(e<=Qm?Qm:Qm+7)-e)}function Ak(t){let e=t.getDay(),n=e===0?-3:Qm-e;return Zm(t.getFullYear(),t.getMonth(),t.getDate()+n)}function JE(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=Ak(n),o=Y8(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return ui(i,t,Jm(r,vo.MinusSign))}}function Km(t,e=!1){return function(n,r){let s=Ak(n).getFullYear();return ui(s,t,Jm(r,vo.MinusSign),e)}}var XE={};function Z8(t){if(XE[t])return XE[t];let e;switch(t){case"G":case"GG":case"GGG":e=vt(Je.Eras,pt.Abbreviated);break;case"GGGG":e=vt(Je.Eras,pt.Wide);break;case"GGGGG":e=vt(Je.Eras,pt.Narrow);break;case"y":e=qt(Xe.FullYear,1,0,!1,!0);break;case"yy":e=qt(Xe.FullYear,2,0,!0,!0);break;case"yyy":e=qt(Xe.FullYear,3,0,!1,!0);break;case"yyyy":e=qt(Xe.FullYear,4,0,!1,!0);break;case"Y":e=Km(1);break;case"YY":e=Km(2,!0);break;case"YYY":e=Km(3);break;case"YYYY":e=Km(4);break;case"M":case"L":e=qt(Xe.Month,1,1);break;case"MM":case"LL":e=qt(Xe.Month,2,1);break;case"MMM":e=vt(Je.Months,pt.Abbreviated);break;case"MMMM":e=vt(Je.Months,pt.Wide);break;case"MMMMM":e=vt(Je.Months,pt.Narrow);break;case"LLL":e=vt(Je.Months,pt.Abbreviated,Qn.Standalone);break;case"LLLL":e=vt(Je.Months,pt.Wide,Qn.Standalone);break;case"LLLLL":e=vt(Je.Months,pt.Narrow,Qn.Standalone);break;case"w":e=JE(1);break;case"ww":e=JE(2);break;case"W":e=JE(1,!0);break;case"d":e=qt(Xe.Date,1);break;case"dd":e=qt(Xe.Date,2);break;case"c":case"cc":e=qt(Xe.Day,1);break;case"ccc":e=vt(Je.Days,pt.Abbreviated,Qn.Standalone);break;case"cccc":e=vt(Je.Days,pt.Wide,Qn.Standalone);break;case"ccccc":e=vt(Je.Days,pt.Narrow,Qn.Standalone);break;case"cccccc":e=vt(Je.Days,pt.Short,Qn.Standalone);break;case"E":case"EE":case"EEE":e=vt(Je.Days,pt.Abbreviated);break;case"EEEE":e=vt(Je.Days,pt.Wide);break;case"EEEEE":e=vt(Je.Days,pt.Narrow);break;case"EEEEEE":e=vt(Je.Days,pt.Short);break;case"a":case"aa":case"aaa":e=vt(Je.DayPeriods,pt.Abbreviated);break;case"aaaa":e=vt(Je.DayPeriods,pt.Wide);break;case"aaaaa":e=vt(Je.DayPeriods,pt.Narrow);break;case"b":case"bb":case"bbb":e=vt(Je.DayPeriods,pt.Abbreviated,Qn.Standalone,!0);break;case"bbbb":e=vt(Je.DayPeriods,pt.Wide,Qn.Standalone,!0);break;case"bbbbb":e=vt(Je.DayPeriods,pt.Narrow,Qn.Standalone,!0);break;case"B":case"BB":case"BBB":e=vt(Je.DayPeriods,pt.Abbreviated,Qn.Format,!0);break;case"BBBB":e=vt(Je.DayPeriods,pt.Wide,Qn.Format,!0);break;case"BBBBB":e=vt(Je.DayPeriods,pt.Narrow,Qn.Format,!0);break;case"h":e=qt(Xe.Hours,1,-12);break;case"hh":e=qt(Xe.Hours,2,-12);break;case"H":e=qt(Xe.Hours,1);break;case"HH":e=qt(Xe.Hours,2);break;case"m":e=qt(Xe.Minutes,1);break;case"mm":e=qt(Xe.Minutes,2);break;case"s":e=qt(Xe.Seconds,1);break;case"ss":e=qt(Xe.Seconds,2);break;case"S":e=qt(Xe.FractionalSeconds,1);break;case"SS":e=qt(Xe.FractionalSeconds,2);break;case"SSS":e=qt(Xe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Wm(bs.Short);break;case"ZZZZZ":e=Wm(bs.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Wm(bs.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Wm(bs.Long);break;default:return null}return XE[t]=e,e}function xk(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function J8(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function X8(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=xk(e,i);return J8(t,r*(s-i))}function eq(t){if(vk(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return Zm(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(H8))return tq(r)}let e=new Date(t);if(!vk(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function tq(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,l,c),e}function vk(t){return t instanceof Date&&!isNaN(t.valueOf())}function Xm(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var eI=/\s+/,_k=[],_n=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=_k,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(eI):_k}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(eI):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(eI).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(X(At),X(tn))},e.\u0275dir=Ye({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var tI=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Gt=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new tI(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let l=i.get(o);i.move(l,a),wk(l,s)}});for(let s=0,o=i.length;s<o;s++){let l=i.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);wk(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(X(vs),X(us),X(WE))},e.\u0275dir=Ye({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function wk(t,e){t.context.$implicit=e.item}var lt=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new nI,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Ek("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Ek("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(X(vs),X(us))},e.\u0275dir=Ye({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),nI=class{constructor(){this.$implicit=null,this.ngIf=null}};function Ek(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${zn(e)}'.`)}var eg=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:ki.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(X(At),X(KE),X(tn))},e.\u0275dir=Ye({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})(),Rk=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,s):!1,get:(r,i,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,s)}})}};e.\u0275fac=function(i){return new(i||e)(X(vs))},e.\u0275dir=Ye({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ar]});let t=e;return t})();function Nk(t,e){return new B(2100,!1)}var rI=class{createSubscription(e,n){return Vr(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Vr(()=>e.unsubscribe())}},iI=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},nq=new iI,rq=new rI,Mk=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(yo(r))return nq;if(GE(r))return rq;throw Nk(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(X(Nn,16))},e.\u0275pipe=Xw({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var iq="mediumDate",sq=new $(""),oq=new $(""),Fi=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??iq,l=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return q8(r,a,o||this.locale,l)}catch(a){throw Nk(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(X(Bm,16),X(sq,24),X(oq,24))},e.\u0275pipe=Xw({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var Ss=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=$t({});let t=e;return t})(),uI="browser",aq="server";function dI(t){return t===uI}function vc(t){return t===aq}var hI=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>dI(S(xn))?new sI(S(mt),window):new oI});let t=e;return t})(),sI=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=lq(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function lq(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var oI=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},gc=class{};var Nd=class{},Md=class{},Ds=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var pI=class{encodeKey(e){return Pk(e)}encodeValue(e){return Pk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function cq(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}var uq=/%(\d[a-f0-9])/gi,dq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Pk(t){return encodeURIComponent(t).replace(uq,(e,n)=>dq[n]??e)}function tg(t){return`${t}`}var wo=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new pI,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=cq(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(tg):[tg(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(tg(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(tg(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var mI=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function hq(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function kk(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Ok(t){return typeof Blob<"u"&&t instanceof Blob}function Fk(t){return typeof FormData<"u"&&t instanceof FormData}function fq(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Rd=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(hq(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Ds,this.context??=new mI,!this.params)this.params=new wo,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||kk(this.body)||Ok(this.body)||Fk(this.body)||fq(this.body)?this.body:this.body instanceof wo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Fk(this.body)?null:Ok(this.body)?this.body.type||null:kk(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof wo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,d=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),d)),new t(n,r,o,{params:d,headers:c,context:h,reportProgress:l,responseType:i,withCredentials:a,transferCache:s})}},Eo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Eo||{}),Pd=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ds,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ng=class t extends Pd{constructor(e={}){super(e),this.type=Eo.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},kd=class t extends Pd{constructor(e={}){super(e),this.type=Eo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},_o=class extends Pd{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},jk=200,pq=204;function fI(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var _I=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Rd)o=r;else{let c;s.headers instanceof Ds?c=s.headers:c=new Ds(s.headers);let d;s.params&&(s.params instanceof wo?d=s.params:d=new wo({fromObject:s.params})),o=new Rd(r,i,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=ue(o).pipe(Si(c=>this.handler.handle(c)));if(r instanceof Rd||s.observe==="events")return a;let l=a.pipe(fn(c=>c instanceof kd));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(Z(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(Z(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(Z(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(Z(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new wo().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,fI(s,i))}post(r,i,s={}){return this.request("POST",r,fI(s,i))}put(r,i,s={}){return this.request("PUT",r,fI(s,i))}};e.\u0275fac=function(i){return new(i||e)(q(Nd))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),mq=/^\)\]\}',?\n/,gq="X-Request-URL";function Lk(t){if(t.url)return t.url;let e=gq.toLocaleLowerCase();return t.headers.get(e)}var gI=(()=>{let e=class e{constructor(){this.fetchImpl=S(yI,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=S(ye)}handle(r){return new de(i=>{let s=new AbortController;return this.doRequest(r,s.signal,i).then(vI,o=>i.error(new _o({error:o}))),()=>s.abort()})}doRequest(r,i,s){return I(this,null,function*(){let o=this.createRequestInit(r),a;try{let _=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,U({signal:i},o)));yq(_),s.next({type:Eo.Sent}),a=yield _}catch(_){s.error(new _o({error:_,status:_.status??0,statusText:_.statusText,url:r.urlWithParams,headers:_.headers}));return}let l=new Ds(a.headers),c=a.statusText,d=Lk(a)??r.urlWithParams,h=a.status,p=null;if(r.reportProgress&&s.next(new ng({headers:l,status:h,statusText:c,url:d})),a.body){let _=a.headers.get("content-length"),T=[],A=a.body.getReader(),L=0,H,W,ee=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>I(this,null,function*(){for(;;){let{done:le,value:D}=yield A.read();if(le)break;if(T.push(D),L+=D.length,r.reportProgress){W=r.responseType==="text"?(W??"")+(H??=new TextDecoder).decode(D,{stream:!0}):void 0;let E=()=>s.next({type:Eo.DownloadProgress,total:_?+_:void 0,loaded:L,partialText:W});ee?ee.run(E):E()}}}));let je=this.concatChunks(T,L);try{let le=a.headers.get("Content-Type")??"";p=this.parseBody(r,je,le)}catch(le){s.error(new _o({error:le,headers:new Ds(a.headers),status:a.status,statusText:a.statusText,url:Lk(a)??r.urlWithParams}));return}}h===0&&(h=p?jk:0),h>=200&&h<300?(s.next(new kd({body:p,headers:l,status:h,statusText:c,url:d})),s.complete()):s.error(new _o({error:p,headers:l,status:h,statusText:c,url:d}))})}parseBody(r,i,s){switch(r.responseType){case"json":let o=new TextDecoder().decode(i).replace(mq,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:s});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},s=r.withCredentials?"include":void 0;if(r.headers.forEach((o,a)=>i[o]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let o=r.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:s}}concatChunks(r,i){let s=new Uint8Array(i),o=0;for(let a of r)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),yI=class{};function vI(){}function yq(t){t.then(vI,vI)}function vq(t,e){return e(t)}function _q(t,e,n){return(r,i)=>fr(n,()=>e(r,s=>t(s,i)))}var wI=new $(""),wq=new $(""),Eq=new $("",{providedIn:"root",factory:()=>!0});var Vk=(()=>{let e=class e extends Nd{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=S(ms),this.contributeToStability=S(Eq)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(wI),...this.injector.get(wq,[])]));this.chain=i.reduceRight((s,o)=>_q(s,o,this.injector),vq)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Dn(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(q(Md),q(qn))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();var Iq=/^\)\]\}',?\n/;function bq(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Uk=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new B(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?oe(i.\u0275loadImpl()):ue(null)).pipe(Fe(()=>new de(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((A,L)=>a.setRequestHeader(A,L.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let A=r.detectContentTypeHeader();A!==null&&a.setRequestHeader("Content-Type",A)}if(r.responseType){let A=r.responseType.toLowerCase();a.responseType=A!=="json"?A:"text"}let l=r.serializeBody(),c=null,d=()=>{if(c!==null)return c;let A=a.statusText||"OK",L=new Ds(a.getAllResponseHeaders()),H=bq(a)||r.url;return c=new ng({headers:L,status:a.status,statusText:A,url:H}),c},h=()=>{let{headers:A,status:L,statusText:H,url:W}=d(),ee=null;L!==pq&&(ee=typeof a.response>"u"?a.responseText:a.response),L===0&&(L=ee?jk:0);let je=L>=200&&L<300;if(r.responseType==="json"&&typeof ee=="string"){let le=ee;ee=ee.replace(Iq,"");try{ee=ee!==""?JSON.parse(ee):null}catch(D){ee=le,je&&(je=!1,ee={error:D,text:ee})}}je?(o.next(new kd({body:ee,headers:A,status:L,statusText:H,url:W||void 0})),o.complete()):o.error(new _o({error:ee,headers:A,status:L,statusText:H,url:W||void 0}))},p=A=>{let{url:L}=d(),H=new _o({error:A,status:a.status||0,statusText:a.statusText||"Unknown Error",url:L||void 0});o.error(H)},g=!1,_=A=>{g||(o.next(d()),g=!0);let L={type:Eo.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(L.total=A.total),r.responseType==="text"&&a.responseText&&(L.partialText=a.responseText),o.next(L)},T=A=>{let L={type:Eo.UploadProgress,loaded:A.loaded};A.lengthComputable&&(L.total=A.total),o.next(L)};return a.addEventListener("load",h),a.addEventListener("error",p),a.addEventListener("timeout",p),a.addEventListener("abort",p),r.reportProgress&&(a.addEventListener("progress",_),l!==null&&a.upload&&a.upload.addEventListener("progress",T)),a.send(l),o.next({type:Eo.Sent}),()=>{a.removeEventListener("error",p),a.removeEventListener("abort",p),a.removeEventListener("load",h),a.removeEventListener("timeout",p),r.reportProgress&&(a.removeEventListener("progress",_),l!==null&&a.upload&&a.upload.removeEventListener("progress",T)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(q(gc))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Bk=new $(""),Cq="XSRF-TOKEN",Tq=new $("",{providedIn:"root",factory:()=>Cq}),Sq="X-XSRF-TOKEN",Dq=new $("",{providedIn:"root",factory:()=>Sq}),rg=class{},Aq=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xm(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(q(mt),q(xn),q(Tq))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function xq(t,e){let n=t.url.toLowerCase();if(!S(Bk)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=S(rg).getToken(),i=S(Dq);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var EI=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(EI||{});function $k(t,e){return{\u0275kind:t,\u0275providers:e}}function Hk(...t){let e=[_I,Uk,Vk,{provide:Nd,useExisting:Vk},{provide:Md,useFactory:()=>S(gI,{optional:!0})??S(Uk)},{provide:wI,useValue:xq,multi:!0},{provide:Bk,useValue:!0},{provide:rg,useClass:Aq}];for(let n of t)e.push(...n.\u0275providers);return zt(e)}function zk(t){return $k(EI.Interceptors,t.map(e=>({provide:wI,useValue:e,multi:!0})))}function qk(){return $k(EI.Fetch,[gI,{provide:Md,useExisting:gI}])}var CI=class extends Ym{constructor(){super(...arguments),this.supportsDOMEvents=!0}},TI=class t extends CI{static makeCurrent(){bk(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Rq();return n==null?null:Nq(n)}resetBaseElement(){Od=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xm(document.cookie,e)}},Od=null;function Rq(){return Od=Od||document.querySelector("base"),Od?Od.getAttribute("href"):null}function Nq(t){return new URL(t,document.baseURI).pathname}var Mq=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),ig=new $(""),Kk=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new B(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(q(ig),q(ye))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Fd=class{constructor(e){this._doc=e}},II="ng-app-id",Qk=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vc(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${II}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(II),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(II,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(q(mt),q(pE),q(yE,8),q(xn))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),bI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},DI=/%COMP%/g,Yk="%COMP%",Pq=`_nghost-${Yk}`,kq=`_ngcontent-${Yk}`,Oq=!0,Fq=new $("",{providedIn:"root",factory:()=>Oq});function Lq(t){return kq.replace(DI,t)}function Vq(t){return Pq.replace(DI,t)}function Zk(t,e){return e.map(n=>n.replace(DI,t))}var sg=(()=>{let e=class e{constructor(r,i,s,o,a,l,c,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=vc(l),this.defaultRenderer=new Ld(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ni.ShadowDom&&(i=ve(U({},i),{encapsulation:Ni.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof og?s.applyToHost(r):s instanceof Vd&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case Ni.Emulated:o=new og(c,d,i,this.appId,h,a,l,p);break;case Ni.ShadowDom:return new SI(c,d,r,i,a,l,this.nonce,p);default:o=new Vd(c,d,i,h,a,l,p);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(q(Kk),q(Qk),q(pE),q(Fq),q(mt),q(xn),q(ye),q(yE))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Ld=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(bI[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Gk(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Gk(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=bI[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=bI[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ki.DashCase|ki.Important)?e.style.setProperty(n,r,i&ki.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ki.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Cs().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Gk(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var SI=class extends Ld{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Zk(i.id,i.styles);for(let d of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Vd=class extends Ld{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?Zk(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},og=class extends Vd{constructor(e,n,r,i,s,o,a,l){let c=i+"-"+r.id;super(e,n,r,s,o,a,l,c),this.contentAttr=Lq(c),this.hostAttr=Vq(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Uq=(()=>{let e=class e extends Fd{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(q(mt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),jq=(()=>{let e=class e extends Fd{constructor(r){super(r),this.delegate=S(pk,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(q(mt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Wk=["alt","control","meta","shift"],Bq={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$q={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Hq=(()=>{let e=class e extends Fd{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cs().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),Wk.forEach(d=>{let h=i.indexOf(d);h>-1&&(i.splice(h,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=Bq[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Wk.forEach(a=>{if(a!==s){let l=$q[a];l(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(q(mt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function Jk(t,e){return fk(U({rootComponent:t},zq(e)))}function zq(t){return{appProviders:[...Qq,...t?.providers??[]],platformProviders:Kq}}function qq(){TI.makeCurrent()}function Gq(){return new si}function Wq(){return OM(document),document}var Kq=[{provide:xn,useValue:uI},{provide:mE,useValue:qq,multi:!0},{provide:mt,useFactory:Wq,deps:[]}];var Qq=[{provide:_m,useValue:"root"},{provide:si,useFactory:Gq,deps:[]},{provide:ig,useClass:Uq,multi:!0,deps:[mt,ye,xn]},{provide:ig,useClass:Hq,multi:!0,deps:[mt]},{provide:ig,useClass:jq,multi:!0},sg,Qk,Kk,{provide:po,useExisting:sg},{provide:gc,useClass:Mq,deps:[]},[]];var ag=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(q(mt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ud=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=q(Yq),s},providedIn:"root"});let t=e;return t})(),Yq=(()=>{let e=class e extends Ud{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case mr.NONE:return i;case mr.HTML:return gs(i,"HTML")?pr(i):_E(this._doc,String(i)).toString();case mr.STYLE:return gs(i,"Style")?pr(i):i;case mr.SCRIPT:if(gs(i,"Script"))return pr(i);throw new B(5200,!1);case mr.URL:return gs(i,"URL")?pr(i):xm(String(i));case mr.RESOURCE_URL:if(gs(i,"ResourceURL"))return pr(i);throw new B(5201,!1);default:throw new B(5202,!1)}}bypassSecurityTrustHtml(r){return UM(r)}bypassSecurityTrustStyle(r){return jM(r)}bypassSecurityTrustScript(r){return BM(r)}bypassSecurityTrustUrl(r){return $M(r)}bypassSecurityTrustResourceUrl(r){return HM(r)}};e.\u0275fac=function(i){return new(i||e)(q(mt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ke="primary",th=Symbol("RouteTitle"),MI=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Tc(t){return new MI(t)}function Zq(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Jq(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Li(t[n],e[n]))return!1;return!0}function Li(t,e){let n=t?PI(t):void 0,r=e?PI(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!uO(t[i],e[i]))return!1;return!0}function PI(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function uO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function dO(t){return t.length>0?t[t.length-1]:null}function Co(t){return ld(t)?t:yo(t)?oe(Promise.resolve(t)):ue(t)}var Xq={exact:fO,subset:pO},hO={exact:eG,subset:tG,ignored:()=>!0};function eO(t,e,n){return Xq[n.paths](t.root,e.root,n.matrixParams)&&hO[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function eG(t,e){return Li(t,e)}function fO(t,e,n){if(!Aa(t.segments,e.segments)||!ug(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!fO(t.children[r],e.children[r],n))return!1;return!0}function tG(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>uO(t[n],e[n]))}function pO(t,e,n){return mO(t,e,e.segments,n)}function mO(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Aa(i,n)||e.hasChildren()||!ug(i,n,r))}else if(t.segments.length===n.length){if(!Aa(t.segments,n)||!ug(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!pO(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Aa(t.segments,i)||!ug(t.segments,i,r)||!t.children[ke]?!1:mO(t.children[ke],e,s,r)}}function ug(t,e,n){return e.every((r,i)=>hO[n](t[i].parameters,r.parameters))}var xs=class{constructor(e=new nt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Tc(this.queryParams),this._queryParamMap}toString(){return iG.serialize(this)}},nt=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dg(this)}},Da=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Tc(this.parameters),this._parameterMap}toString(){return yO(this)}};function nG(t,e){return Aa(t,e)&&t.every((n,r)=>Li(n.parameters,e[r].parameters))}function Aa(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function rG(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ke&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ke&&(n=n.concat(e(i,r)))}),n}var Rc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new Sc,providedIn:"root"});let t=e;return t})(),Sc=class{parse(e){let n=new OI(e);return new xs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${jd(e.root,!0)}`,r=aG(e.queryParams),i=typeof e.fragment=="string"?`#${sG(e.fragment)}`:"";return`${n}${r}${i}`}},iG=new Sc;function dg(t){return t.segments.map(e=>yO(e)).join("/")}function jd(t,e){if(!t.hasChildren())return dg(t);if(e){let n=t.children[ke]?jd(t.children[ke],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ke&&r.push(`${i}:${jd(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=rG(t,(r,i)=>i===ke?[jd(t.children[ke],!1)]:[`${i}:${jd(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ke]!=null?`${dg(t)}/${n[0]}`:`${dg(t)}/(${n.join("//")})`}}function gO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lg(t){return gO(t).replace(/%3B/gi,";")}function sG(t){return encodeURI(t)}function kI(t){return gO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hg(t){return decodeURIComponent(t)}function tO(t){return hg(t.replace(/\+/g,"%20"))}function yO(t){return`${kI(t.path)}${oG(t.parameters)}`}function oG(t){return Object.entries(t).map(([e,n])=>`;${kI(e)}=${kI(n)}`).join("")}function aG(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${lg(n)}=${lg(i)}`).join("&"):`${lg(n)}=${lg(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var lG=/^[^\/()?;#]+/;function AI(t){let e=t.match(lG);return e?e[0]:""}var cG=/^[^\/()?;=#]+/;function uG(t){let e=t.match(cG);return e?e[0]:""}var dG=/^[^=?&#]+/;function hG(t){let e=t.match(dG);return e?e[0]:""}var fG=/^[^&#]+/;function pG(t){let e=t.match(fG);return e?e[0]:""}var OI=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new nt([],{}):new nt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ke]=new nt(e,n)),r}parseSegment(){let e=AI(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new Da(hg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=uG(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=AI(this.remaining);i&&(r=i,this.capture(r))}e[hg(n)]=hg(r)}parseQueryParam(e){let n=hG(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=pG(this.remaining);o&&(r=o,this.capture(r))}let i=tO(n),s=tO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=AI(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ke);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ke]:new nt([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function vO(t){return t.segments.length>0?new nt([],{[ke]:t}):t}function _O(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=_O(i);if(r===ke&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new nt(t.segments,e);return mG(n)}function mG(t){if(t.numberOfChildren===1&&t.children[ke]){let e=t.children[ke];return new nt(t.segments.concat(e.segments),e.children)}return t}function xa(t){return t instanceof xs}function gG(t,e,n=null,r=null){let i=wO(t);return EO(i,e,n,r)}function wO(t){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new nt(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=vO(r);return e??i}function EO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return xI(i,i,i,n,r);let s=yG(e);if(s.toRoot())return xI(i,i,new nt([],{}),n,r);let o=vG(s,i,t),a=o.processChildren?Hd(o.segmentGroup,o.index,s.commands):bO(o.segmentGroup,o.index,s.commands);return xI(i,o.segmentGroup,a,n,r)}function fg(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Gd(t){return typeof t=="object"&&t!=null&&t.outlets}function xI(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;t===e?o=n:o=IO(t,e,n);let a=vO(_O(o));return new xs(a,s,i)}function IO(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=IO(s,e,n)}),new nt(t.segments,r)}var pg=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&fg(r[0]))throw new B(4003,!1);let i=r.find(Gd);if(i&&i!==dO(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function yG(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new pg(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new pg(n,e,r)}var Ic=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function vG(t,e,n){if(t.isAbsolute)return new Ic(e,!0,0);if(!n)return new Ic(e,!1,NaN);if(n.parent===null)return new Ic(n,!0,0);let r=fg(t.commands[0])?0:1,i=n.segments.length-1+r;return _G(n,i,t.numberOfDoubleDots)}function _G(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Ic(r,!1,i-s)}function wG(t){return Gd(t[0])?t[0].outlets:{[ke]:t}}function bO(t,e,n){if(t??=new nt([],{}),t.segments.length===0&&t.hasChildren())return Hd(t,e,n);let r=EG(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new nt(t.segments.slice(0,r.pathIndex),{});return s.children[ke]=new nt(t.segments.slice(r.pathIndex),t.children),Hd(s,0,i)}else return r.match&&i.length===0?new nt(t.segments,{}):r.match&&!t.hasChildren()?FI(t,e,n):r.match?Hd(t,0,i):FI(t,e,n)}function Hd(t,e,n){if(n.length===0)return new nt(t.segments,{});{let r=wG(n),i={};if(Object.keys(r).some(s=>s!==ke)&&t.children[ke]&&t.numberOfChildren===1&&t.children[ke].segments.length===0){let s=Hd(t.children[ke],e,n);return new nt(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=bO(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new nt(t.segments,i)}}function EG(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Gd(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!rO(l,c,o))return s;r+=2}else{if(!rO(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function FI(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Gd(s)){let l=IG(s.outlets);return new nt(r,l)}if(i===0&&fg(n[0])){let l=t.segments[e];r.push(new Da(l.path,nO(n[0]))),i++;continue}let o=Gd(s)?s.outlets[ke]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&fg(a)?(r.push(new Da(o,nO(a))),i+=2):(r.push(new Da(o,{})),i++)}return new nt(r,{})}function IG(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=FI(new nt([],{}),0,r))}),e}function nO(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function rO(t,e,n){return t==n.path&&Li(e,n.parameters)}var zd="imperative",on=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(on||{}),jr=class{constructor(e,n){this.id=e,this.url=n}},Dc=class extends jr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=on.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hi=class extends jr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=on.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(vr||{}),mg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(mg||{}),As=class extends jr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=on.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Io=class extends jr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=on.NavigationSkipped}},Wd=class extends jr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=on.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},gg=class extends jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=on.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},LI=class extends jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=on.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},VI=class extends jr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=on.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},UI=class extends jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=on.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jI=class extends jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=on.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},BI=class{constructor(e){this.route=e,this.type=on.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$I=class{constructor(e){this.route=e,this.type=on.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},HI=class{constructor(e){this.snapshot=e,this.type=on.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zI=class{constructor(e){this.snapshot=e,this.type=on.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qI=class{constructor(e){this.snapshot=e,this.type=on.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kd=class{constructor(e){this.snapshot=e,this.type=on.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yg=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=on.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Qd=class{},Ac=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function bG(t,e){return t.providers&&!t._injector&&(t._injector=Om(t.providers,e,`Route: ${t.path}`)),t._injector??e}function di(t){return t.outlet||ke}function CG(t,e){let n=t.filter(r=>di(r)===e);return n.push(...t.filter(r=>di(r)!==e)),n}function nh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var GI=class{get injector(){return nh(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new rh(this.rootInjector),this.attachRef=null}},rh=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new GI(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(q(qn))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vg=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=WI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=WI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=KI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return KI(e,this._root).map(n=>n.value)}};function WI(t,e){if(t===e.value)return e;for(let n of e.children){let r=WI(t,n);if(r)return r}return null}function KI(t,e){if(t===e.value)return[e];for(let n of e.children){let r=KI(t,n);if(r.length)return r.unshift(e),r}return[]}var yr=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ec(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var _g=class extends vg{constructor(e,n){super(e),this.snapshot=n,rb(this,e)}toString(){return this.snapshot.toString()}};function CO(t){let e=TG(t),n=new St([new Da("",{})]),r=new St({}),i=new St({}),s=new St({}),o=new St(""),a=new bo(n,r,s,o,i,ke,t,e.root);return a.snapshot=e.root,new _g(new yr(a,[]),e)}function TG(t){let e={},n={},r={},i="",s=new bc([],e,r,i,n,ke,t,null,{});return new Eg("",new yr(s,[]))}var bo=class{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Z(c=>c[th]))??ue(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>Tc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>Tc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&SO(i)&&(r.resolve[th]=i.title),r}var bc=class{get title(){return this.data?.[th]}constructor(e,n,r,i,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Tc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Tc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Eg=class extends vg{constructor(e,n){super(n),this.url=e,rb(this,n)}toString(){return TO(this._root)}};function rb(t,e){e.value._routerState=t,e.children.forEach(n=>rb(t,n))}function TO(t){let e=t.children.length>0?` { ${t.children.map(TO).join(", ")} } `:"";return`${t.value}${e}`}function RI(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Li(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Li(e.params,n.params)||t.paramsSubject.next(n.params),Jq(e.url,n.url)||t.urlSubject.next(n.url),Li(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function QI(t,e){let n=Li(t.params,e.params)&&nG(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||QI(t.parent,e.parent))}function SO(t){return typeof t.title=="string"||t.title===null}var Rs=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ke,this.activateEvents=new De,this.deactivateEvents=new De,this.attachEvents=new De,this.detachEvents=new De,this.parentContexts=S(rh),this.location=S(vs),this.changeDetector=S(Nn),this.inputBinder=S(Tg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new YI(r,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ye({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ar]});let t=e;return t})(),YI=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===bo?this.route:e===rh?this.childContexts:this.parent.get(e,n)}},Tg=new $(""),iO=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=cd([i.queryParams,i.params,i.data]).pipe(Fe(([o,a,l],c)=>(l=U(U(U({},o),a),l),c===0?ue(l):Promise.resolve(l)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=mk(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function SG(t,e,n){let r=Yd(t,e._root,n?n._root:void 0);return new _g(r,e)}function Yd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=DG(t,e,n);return new yr(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Yd(t,a)),o}}let r=AG(e.value),i=e.children.map(s=>Yd(t,s));return new yr(r,i)}}function DG(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Yd(t,r,i);return Yd(t,r)})}function AG(t){return new bo(new St(t.url),new St(t.params),new St(t.queryParams),new St(t.fragment),new St(t.data),t.outlet,t.component,t)}var Zd=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},DO="ngNavigationCancelingError";function Ig(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=xa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=AO(!1,vr.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function AO(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[DO]=!0,n.cancellationCode=e,n}function xG(t){return xO(t)&&xa(t.url)}function xO(t){return!!t&&t[DO]}var RG=(t,e,n,r)=>Z(i=>(new ZI(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),ZI=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),RI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ec(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ec(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ec(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ec(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Kd(s.value.snapshot))}),e.children.length&&this.forwardEvent(new zI(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(RI(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),RI(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},bg=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Cc=class{constructor(e,n){this.component=e,this.route=n}};function NG(t,e,n){let r=t._root,i=e?e._root:null;return Bd(r,i,n,[r.value])}function MG(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Nc(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!bN(t)?t:e.get(t):r}function Bd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ec(e);return t.children.forEach(o=>{PG(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>qd(a,n.getContext(o),i)),i}function PG(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=kG(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new bg(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Bd(t,e,a?a.children:null,r,i):Bd(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cc(a.outlet.component,o))}else o&&qd(e,a,i),i.canActivateChecks.push(new bg(r)),s.component?Bd(t,null,a?a.children:null,r,i):Bd(t,null,n,r,i);return i}function kG(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Aa(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Aa(t.url,e.url)||!Li(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!QI(t,e)||!Li(t.queryParams,e.queryParams);case"paramsChange":default:return!QI(t,e)}}function qd(t,e,n){let r=Ec(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?qd(o,e.children.getContext(s),n):qd(o,null,n):qd(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Cc(e.outlet.component,i)):n.canDeactivateChecks.push(new Cc(null,i)):n.canDeactivateChecks.push(new Cc(null,i))}function ih(t){return typeof t=="function"}function OG(t){return typeof t=="boolean"}function FG(t){return t&&ih(t.canLoad)}function LG(t){return t&&ih(t.canActivate)}function VG(t){return t&&ih(t.canActivateChild)}function UG(t){return t&&ih(t.canDeactivate)}function jG(t){return t&&ih(t.canMatch)}function RO(t){return t instanceof ti||t?.name==="EmptyError"}var cg=Symbol("INITIAL_VALUE");function xc(){return Fe(t=>cd(t.map(e=>e.pipe(as(1),fd(cg)))).pipe(Z(e=>{for(let n of e)if(n!==!0){if(n===cg)return cg;if(n===!1||BG(n))return n}return!0}),fn(e=>e!==cg),as(1)))}function BG(t){return xa(t)||t instanceof Zd}function $G(t,e){return yt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?ue(ve(U({},n),{guardsResult:!0})):HG(o,r,i,t).pipe(yt(a=>a&&OG(a)?zG(r,s,t,e):ue(a)),Z(a=>ve(U({},n),{guardsResult:a})))})}function HG(t,e,n,r){return oe(t).pipe(yt(i=>QG(i.component,i.route,n,e,r)),Di(i=>i!==!0,!0))}function zG(t,e,n,r){return oe(e).pipe(Si(i=>Ul(GG(i.route.parent,r),qG(i.route,r),KG(t,i.path,n),WG(t,i.route,n))),Di(i=>i!==!0,!0))}function qG(t,e){return t!==null&&e&&e(new qI(t)),ue(!0)}function GG(t,e){return t!==null&&e&&e(new HI(t)),ue(!0)}function WG(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ue(!0);let i=r.map(s=>jl(()=>{let o=nh(e)??n,a=Nc(s,o),l=LG(a)?a.canActivate(e,t):fr(o,()=>a(e,t));return Co(l).pipe(Di())}));return ue(i).pipe(xc())}function KG(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>MG(o)).filter(o=>o!==null).map(o=>jl(()=>{let a=o.guards.map(l=>{let c=nh(o.node)??n,d=Nc(l,c),h=VG(d)?d.canActivateChild(r,t):fr(c,()=>d(r,t));return Co(h).pipe(Di())});return ue(a).pipe(xc())}));return ue(s).pipe(xc())}function QG(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ue(!0);let o=s.map(a=>{let l=nh(e)??i,c=Nc(a,l),d=UG(c)?c.canDeactivate(t,e,n,r):fr(l,()=>c(t,e,n,r));return Co(d).pipe(Di())});return ue(o).pipe(xc())}function YG(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ue(!0);let s=i.map(o=>{let a=Nc(o,t),l=FG(a)?a.canLoad(e,n):fr(t,()=>a(e,n));return Co(l)});return ue(s).pipe(xc(),NO(r))}function NO(t){return p0(tt(e=>{if(typeof e!="boolean")throw Ig(t,e)}),Z(e=>e===!0))}function ZG(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ue(!0);let s=i.map(o=>{let a=Nc(o,t),l=jG(a)?a.canMatch(e,n):fr(t,()=>a(e,n));return Co(l)});return ue(s).pipe(xc(),NO(r))}var Jd=class{constructor(e){this.segmentGroup=e||null}},Xd=class extends Error{constructor(e){super(),this.urlTree=e}};function wc(t){return $n(new Jd(t))}function JG(t){return $n(new B(4e3,!1))}function XG(t){return $n(AO(!1,vr.GuardRejected))}var JI=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ue(r);if(i.numberOfChildren>1||!i.children[ke])return JG(`${e.redirectTo}`);i=i.children[ke]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:d,url:h,outlet:p,params:g,data:_,title:T}=i,A=fr(s,()=>a({params:g,data:_,queryParams:l,fragment:c,routeConfig:d,url:h,outlet:p,title:T}));if(A instanceof xs)throw new Xd(A);n=A}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Xd(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new xs(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new nt(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},XI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eW(t,e,n,r,i){let s=ib(t,e,n);return s.matched?(r=bG(e,r),ZG(r,e,n,i).pipe(Z(o=>o===!0?s:U({},XI)))):ue(s)}function ib(t,e,n){if(e.path==="**")return tW(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},XI):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Zq)(n,t,e);if(!i)return U({},XI);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?U(U({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function tW(t){return{matched:!0,parameters:t.length>0?dO(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function sO(t,e,n,r){return n.length>0&&iW(t,n,r)?{segmentGroup:new nt(e,rW(r,new nt(n,t.children))),slicedSegments:[]}:n.length===0&&sW(t,n,r)?{segmentGroup:new nt(t.segments,nW(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new nt(t.segments,t.children),slicedSegments:n}}function nW(t,e,n,r){let i={};for(let s of n)if(Sg(t,e,s)&&!r[di(s)]){let o=new nt([],{});i[di(s)]=o}return U(U({},r),i)}function rW(t,e){let n={};n[ke]=e;for(let r of t)if(r.path===""&&di(r)!==ke){let i=new nt([],{});n[di(r)]=i}return n}function iW(t,e,n){return n.some(r=>Sg(t,e,r)&&di(r)!==ke)}function sW(t,e,n){return n.some(r=>Sg(t,e,r))}function Sg(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function oW(t,e,n,r){return di(t)!==r&&(r===ke||!Sg(e,n,t))?!1:ib(e,t,n).matched}function aW(t,e,n){return e.length===0&&!t.children[n]}var eb=class{};function lW(t,e,n,r,i,s,o="emptyOnly"){return new tb(t,e,n,r,i,o,s).recognize()}var cW=31,tb=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new JI(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=sO(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(({children:n,rootSnapshot:r})=>{let i=new yr(r,n),s=new Eg("",i),o=gG(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new bc([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ke,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ke,n).pipe(Z(r=>({children:r,rootSnapshot:n})),Xt(r=>{if(r instanceof Xd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Jd?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(Z(o=>o instanceof yr?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return oe(s).pipe(Si(o=>{let a=r.children[o],l=CG(n,o);return this.processSegmentGroup(e,l,a,o,i)}),hd((o,a)=>(o.push(...a),o)),ro(null),E0(),yt(o=>{if(o===null)return wc(r);let a=MO(o);return uW(a),ue(a)}))}processSegment(e,n,r,i,s,o,a){return oe(n).pipe(Si(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,s,o,a).pipe(Xt(c=>{if(c instanceof Jd)return ue(null);throw c}))),Di(l=>!!l),Xt(l=>{if(RO(l))return aW(r,i,s)?ue(new eb):wc(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,l){return oW(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,l):wc(i):wc(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:p}=ib(n,i,s);if(!l)return wc(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>cW&&(this.allowRedirects=!1));let g=new bc(s,c,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,oO(i),di(i),i.component??i._loadedComponent??null,i,aO(i)),_=wg(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let T=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,g,e);return this.applyRedirects.lineralizeSegments(i,T).pipe(yt(A=>this.processSegment(e,r,n,A.concat(p),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=eW(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Fe(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Fe(({routes:c})=>{let d=r._loadedInjector??e,{parameters:h,consumedSegments:p,remainingSegments:g}=l,_=new bc(p,h,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,oO(r),di(r),r.component??r._loadedComponent??null,r,aO(r)),T=wg(_,o,this.paramsInheritanceStrategy);_.params=Object.freeze(T.params),_.data=Object.freeze(T.data);let{segmentGroup:A,slicedSegments:L}=sO(n,p,g,c);if(L.length===0&&A.hasChildren())return this.processChildren(d,c,A,_).pipe(Z(W=>new yr(_,W)));if(c.length===0&&L.length===0)return ue(new yr(_,[]));let H=di(r)===s;return this.processSegment(d,c,A,L,H?ke:s,!0,_).pipe(Z(W=>new yr(_,W instanceof yr?[W]:[])))}))):wc(n)))}getChildConfig(e,n,r){return n.children?ue({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ue({routes:n._loadedRoutes,injector:n._loadedInjector}):YG(e,n,r,this.urlSerializer).pipe(yt(i=>i?this.configLoader.loadChildren(e,n).pipe(tt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):XG(n))):ue({routes:[],injector:e})}};function uW(t){t.sort((e,n)=>e.value.outlet===ke?-1:n.value.outlet===ke?1:e.value.outlet.localeCompare(n.value.outlet))}function dW(t){let e=t.value.routeConfig;return e&&e.path===""}function MO(t){let e=[],n=new Set;for(let r of t){if(!dW(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=MO(r.children);e.push(new yr(r.value,i))}return e.filter(r=>!n.has(r))}function oO(t){return t.data||{}}function aO(t){return t.resolve||{}}function hW(t,e,n,r,i,s){return yt(o=>lW(t,e,n,r,o.extractedUrl,i,s).pipe(Z(({state:a,tree:l})=>ve(U({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function fW(t,e){return yt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ue(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of PO(l))o.add(c);let a=0;return oe(o).pipe(Si(l=>s.has(l)?pW(l,r,t,e):(l.data=wg(l,l.parent,t).resolve,ue(void 0))),tt(()=>a++),Bl(1),yt(l=>a===o.size?ue(n):hr))})}function PO(t){let e=t.children.map(n=>PO(n)).flat();return[t,...e]}function pW(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!SO(i)&&(s[th]=i.title),mW(s,t,e,r).pipe(Z(o=>(t._resolvedData=o,t.data=wg(t,t.parent,n).resolve,null)))}function mW(t,e,n,r){let i=PI(t);if(i.length===0)return ue({});let s={};return oe(i).pipe(yt(o=>gW(t[o],e,n,r).pipe(Di(),tt(a=>{if(a instanceof Zd)throw Ig(new Sc,a);s[o]=a}))),Bl(1),_0(s),Xt(o=>RO(o)?hr:$n(o)))}function gW(t,e,n,r){let i=nh(e)??r,s=Nc(t,i),o=s.resolve?s.resolve(e,n):fr(i,()=>s(e,n));return Co(o)}function NI(t){return Fe(e=>{let n=t(e);return n?oe(n).pipe(Z(()=>e)):ue(e)})}var kO=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ke);return i}getResolvedTitleForRoute(r){return r.data[th]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>S(yW),providedIn:"root"});let t=e;return t})(),yW=(()=>{let e=class e extends kO{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(q(ag))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sh=new $("",{providedIn:"root",factory:()=>({})}),sb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ne({type:e,selectors:[["ng-component"]],standalone:!0,features:[se],decls:1,vars:0,template:function(i,s){i&1&&V(0,"router-outlet")},dependencies:[Rs],encapsulation:2});let t=e;return t})();function ob(t){let e=t.children&&t.children.map(ob),n=e?ve(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ke&&(n.component=sb),n}var eh=new $(""),ab=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=S(jm)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ue(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Co(r.loadComponent()).pipe(Z(OO),tt(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Dn(()=>{this.componentLoaders.delete(r)})),s=new Nl(i,()=>new ot).pipe(Rl());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ue({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=vW(i,this.compiler,r,this.onLoadEndListener).pipe(Dn(()=>{this.childrenLoaders.delete(i)})),a=new Nl(o,()=>new ot).pipe(Rl());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vW(t,e,n,r){return Co(t.loadChildren()).pipe(Z(OO),yt(i=>i instanceof Id||Array.isArray(i)?ue(i):oe(e.compileModuleAsync(i))),Z(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(eh,[],{optional:!0,self:!0}).flat()),{routes:o.map(ob),injector:s}}))}function _W(t){return t&&typeof t=="object"&&"default"in t}function OO(t){return _W(t)?t.default:t}var lb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>S(wW),providedIn:"root"});let t=e;return t})(),wW=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),FO=new $(""),LO=new $("");function EW(t,e,n){let r=t.get(LO),i=t.get(mt);return t.get(ye).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),IW(t))),{onViewTransitionCreated:l}=r;return l&&fr(t,()=>l({transition:a,from:e,to:n})),o})}function IW(t){return new Promise(e=>{jE({read:()=>setTimeout(e)},{injector:t})})}var bW=new $(""),Dg=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ot,this.transitionAbortSubject=new ot,this.configLoader=S(ab),this.environmentInjector=S(qn),this.urlSerializer=S(Rc),this.rootContexts=S(rh),this.location=S(yc),this.inputBindingEnabled=S(Tg,{optional:!0})!==null,this.titleStrategy=S(kO),this.options=S(sh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=S(lb),this.createViewTransition=S(FO,{optional:!0}),this.navigationErrorHandler=S(bW,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ue(void 0),this.rootComponentType=null;let r=s=>this.events.next(new BI(s)),i=s=>this.events.next(new $I(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ve(U(U({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new St({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:zd,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fn(o=>o.id!==0),Z(o=>ve(U({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Fe(o=>{let a=!1,l=!1;return ue(o).pipe(Fe(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",vr.SupersededByNewNavigation),hr;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ve(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&h!=="reload"){let p="";return this.events.next(new Io(c.id,this.urlSerializer.serialize(c.rawUrl),p,mg.IgnoredSameUrlNavigation)),c.resolve(!1),hr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ue(c).pipe(Fe(p=>{let g=this.transitions?.getValue();return this.events.next(new Dc(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?hr:Promise.resolve(p)}),hW(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),tt(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ve(U({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new gg(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:g,source:_,restoredState:T,extras:A}=c,L=new Dc(p,this.urlSerializer.serialize(g),_,T);this.events.next(L);let H=CO(this.rootComponentType).snapshot;return this.currentTransition=o=ve(U({},c),{targetSnapshot:H,urlAfterRedirects:g,extras:ve(U({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,ue(o)}else{let p="";return this.events.next(new Io(c.id,this.urlSerializer.serialize(c.extractedUrl),p,mg.IgnoredByUrlHandlingStrategy)),c.resolve(!1),hr}}),tt(c=>{let d=new LI(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Z(c=>(this.currentTransition=o=ve(U({},c),{guards:NG(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),$G(this.environmentInjector,c=>this.events.next(c)),tt(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Ig(this.urlSerializer,c.guardsResult);let d=new VI(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),fn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",vr.GuardRejected),!1)),NI(c=>{if(c.guards.canActivateChecks.length)return ue(c).pipe(tt(d=>{let h=new UI(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),Fe(d=>{let h=!1;return ue(d).pipe(fW(this.paramsInheritanceStrategy,this.environmentInjector),tt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",vr.NoDataFromResolver)}}))}),tt(d=>{let h=new jI(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),NI(c=>{let d=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(tt(g=>{h.component=g}),Z(()=>{})));for(let g of h.children)p.push(...d(g));return p};return cd(d(c.targetSnapshot.root)).pipe(ro(null),as(1))}),NI(()=>this.afterPreactivation()),Fe(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?oe(h).pipe(Z(()=>o)):ue(o)}),Z(c=>{let d=SG(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=ve(U({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),tt(()=>{this.events.next(new Qd)}),RG(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),as(1),tt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),pd(this.transitionAbortSubject.pipe(tt(c=>{throw c}))),Dn(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",vr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xt(c=>{if(l=!0,xO(c))this.events.next(new As(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),xG(c)?this.events.next(new Ac(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let d=new Wd(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let h=fr(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(h instanceof Zd){let{message:p,cancellationCode:g}=Ig(this.urlSerializer,h);this.events.next(new As(o.id,this.urlSerializer.serialize(o.extractedUrl),p,g)),this.events.next(new Ac(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(d);let p=r.errorHandler(c);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return hr}))}))}cancelNavigationTransition(r,i,s){let o=new As(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CW(t){return t!==zd}var TW=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>S(SW),providedIn:"root"});let t=e;return t})(),nb=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},SW=(()=>{let e=class e extends nb{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Gn(e)))(s||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),VO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>S(DW),providedIn:"root"});let t=e;return t})(),DW=(()=>{let e=class e extends VO{constructor(){super(...arguments),this.location=S(yc),this.urlSerializer=S(Rc),this.options=S(sh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=S(lb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xs,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=CO(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Dc)this.stateMemento=this.createStateMemento();else if(r instanceof Io)this.rawUrlTree=i.initialUrl;else if(r instanceof gg){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof Qd?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof As&&(r.code===vr.GuardRejected||r.code===vr.NoDataFromResolver)?this.restoreHistory(i):r instanceof Wd?this.restoreHistory(i,!0):r instanceof hi&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof xs?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=U(U({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=U(U({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Gn(e)))(s||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$d=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}($d||{});function UO(t,e){t.events.pipe(fn(n=>n instanceof hi||n instanceof As||n instanceof Wd||n instanceof Io),Z(n=>n instanceof hi||n instanceof Io?$d.COMPLETE:(n instanceof As?n.code===vr.Redirect||n.code===vr.SupersededByNewNavigation:!1)?$d.REDIRECTING:$d.FAILED),fn(n=>n!==$d.REDIRECTING),as(1)).subscribe(()=>{e()})}function AW(t){throw t}var xW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ze=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=S(Um),this.stateManager=S(VO),this.options=S(sh,{optional:!0})||{},this.pendingTasks=S(ms),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=S(Dg),this.urlSerializer=S(Rc),this.location=S(yc),this.urlHandlingStrategy=S(lb),this._events=new ot,this.errorHandler=this.options.errorHandler||AW,this.navigated=!1,this.routeReuseStrategy=S(TW),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=S(eh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!S(Tg,{optional:!0}),this.eventsSubscription=new Tt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof As&&i.code!==vr.Redirect&&i.code!==vr.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof hi)this.navigated=!0;else if(i instanceof Ac){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c=U({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||CW(s.source)},a);this.scheduleNavigation(l,zd,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}MW(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=U({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ob),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:a,h=null;switch(l){case"merge":h=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=s?s.snapshot:this.routerState.snapshot.root;p=wO(g)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),p=this.currentUrlTree.root}return EO(p,r,h,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=xa(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,zd,null,i)}navigate(r,i={skipLocationChange:!1}){return NW(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=U({},xW):i===!1?s=U({},RW):s=i,xa(r))return eO(this.currentUrlTree,r,s);let o=this.parseUrl(r);return eO(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((p,g)=>{l=p,c=g});let h=this.pendingTasks.add();return UO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NW(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function MW(t){return!(t instanceof Qd)&&!(t instanceof Ac)}var Br=(()=>{let e=class e{constructor(r,i,s,o,a,l){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new ot,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof hi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(xa(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:QM(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:xa(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(X(Ze),X(bo),fE("tabindex"),X(tn),X(At),X(Ts))},e.\u0275dir=Ye({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Y("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Rn("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",vn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",vn],replaceUrl:[2,"replaceUrl","replaceUrl",vn],routerLink:"routerLink"},standalone:!0,features:[wa,ar]});let t=e;return t})(),Ag=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new De,this.routerEventsSubscription=r.events.subscribe(l=>{l instanceof hi&&this.update()})}ngAfterContentInit(){ue(this.links.changes,ue(null)).pipe(no()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=oe(r).pipe(no()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=PW(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(X(Ze),X(At),X(tn),X(Nn),X(Br,8))},e.\u0275dir=Ye({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&Vm(o,Br,5),i&2){let a;lc(a=cc())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[ar]});let t=e;return t})();function PW(t){return!!t.paths}var Cg=class{};var kW=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(fn(r=>r instanceof hi),Si(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Om(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return oe(s).pipe(no())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=ue(null);let o=s.pipe(yt(a=>a===null?ue(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return oe([o,a]).pipe(no())}else return o})}};e.\u0275fac=function(i){return new(i||e)(q(Ze),q(jm),q(qn),q(Cg),q(ab))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cb=new $(""),jO=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Dc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof hi?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Io&&r.code===mg.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof yg&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yg(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){lP()},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function BO(t,...e){return zt([{provide:eh,multi:!0,useValue:t},[],{provide:bo,useFactory:$O,deps:[Ze]},{provide:xd,multi:!0,useFactory:zO},e.map(n=>n.\u0275providers)])}function $O(t){return t.routerState.root}function Mc(t,e){return{\u0275kind:t,\u0275providers:e}}function HO(t={}){return Mc(4,[{provide:cb,useFactory:()=>{let n=S(hI),r=S(ye),i=S(Dg),s=S(Rc);return new jO(s,i,n,r,t)}}])}function zO(){let t=S(at);return e=>{let n=t.get(Sa);if(e!==n.components[0])return;let r=t.get(Ze),i=t.get(qO);t.get(ub)===1&&r.initialNavigation(),t.get(GO,null,Oe.Optional)?.setUpPreloading(),t.get(cb,null,Oe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var qO=new $("",{factory:()=>new ot}),ub=new $("",{providedIn:"root",factory:()=>1});function OW(){return Mc(2,[{provide:ub,useValue:0},{provide:mc,multi:!0,deps:[at],useFactory:e=>{let n=e.get(Ck,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Ze),s=e.get(qO);UO(i,()=>{r(!0)}),e.get(Dg).afterPreactivation=()=>(r(!0),s.closed?ue(void 0):s),i.initialNavigation()}))}}])}function FW(){return Mc(3,[{provide:mc,multi:!0,useFactory:()=>{let e=S(Ze);return()=>{e.setUpLocationChangeListener()}}},{provide:ub,useValue:2}])}var GO=new $("");function LW(t){return Mc(0,[{provide:GO,useExisting:kW},{provide:Cg,useExisting:t}])}function db(){return Mc(8,[iO,{provide:Tg,useExisting:iO}])}function VW(t){let e=[{provide:FO,useValue:EW},{provide:LO,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return Mc(9,e)}var lO=new $("ROUTER_FORROOT_GUARD"),UW=[yc,{provide:Rc,useClass:Sc},Ze,rh,{provide:bo,useFactory:$O,deps:[Ze]},ab,[]],To=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[UW,[],{provide:eh,multi:!0,useValue:r},{provide:lO,useFactory:HW,deps:[[Ze,new bt,new ym]]},{provide:sh,useValue:i||{}},i?.useHash?BW():$W(),jW(),i?.preloadingStrategy?LW(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?zW(i):[],i?.bindToComponentInputs?db().\u0275providers:[],i?.enableViewTransitions?VW().\u0275providers:[],qW()]}}static forChild(r){return{ngModule:e,providers:[{provide:eh,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(q(lO,8))},e.\u0275mod=Ht({type:e}),e.\u0275inj=$t({});let t=e;return t})();function jW(){return{provide:cb,useFactory:()=>{let t=S(hI),e=S(ye),n=S(sh),r=S(Dg),i=S(Rc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new jO(i,r,t,e,n)}}}function BW(){return{provide:Ts,useClass:Sk}}function $W(){return{provide:Ts,useClass:cI}}function HW(t){return"guarded"}function zW(t){return[t.initialNavigation==="disabled"?FW().\u0275providers:[],t.initialNavigation==="enabledBlocking"?OW().\u0275providers:[]]}var cO=new $("");function qW(){return[{provide:cO,useFactory:zO},{provide:xd,multi:!0,useExisting:cO}]}var Re=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Re||{}),Vi="*";function WO(t,e){return{type:Re.Trigger,name:t,definitions:e,options:{}}}function hb(t,e=null){return{type:Re.Animate,styles:e,timings:t}}function KO(t,e=null){return{type:Re.Sequence,steps:t,options:e}}function Pc(t){return{type:Re.Style,styles:t,offset:null}}function fb(t,e,n=null){return{type:Re.Transition,expr:t,animation:e,options:n}}function pb(t,e=null){return{type:Re.Reference,animation:t,options:e}}function mb(t,e=null){return{type:Re.AnimateRef,animation:t,options:e}}var So=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},oh=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Rg="!";function QO(t){return new B(3e3,!1)}function GW(){return new B(3100,!1)}function WW(){return new B(3101,!1)}function KW(t){return new B(3001,!1)}function QW(t){return new B(3003,!1)}function YW(t){return new B(3004,!1)}function ZW(t,e){return new B(3005,!1)}function JW(){return new B(3006,!1)}function XW(){return new B(3007,!1)}function e7(t,e){return new B(3008,!1)}function t7(t){return new B(3002,!1)}function n7(t,e,n,r,i){return new B(3010,!1)}function r7(){return new B(3011,!1)}function i7(){return new B(3012,!1)}function s7(){return new B(3200,!1)}function o7(){return new B(3202,!1)}function a7(){return new B(3013,!1)}function l7(t){return new B(3014,!1)}function c7(t){return new B(3015,!1)}function u7(t){return new B(3016,!1)}function d7(t,e){return new B(3404,!1)}function h7(t){return new B(3502,!1)}function f7(t){return new B(3503,!1)}function p7(){return new B(3300,!1)}function m7(t){return new B(3504,!1)}function g7(t){return new B(3301,!1)}function y7(t,e){return new B(3302,!1)}function v7(t){return new B(3303,!1)}function _7(t,e){return new B(3400,!1)}function w7(t){return new B(3401,!1)}function E7(t){return new B(3402,!1)}function I7(t,e){return new B(3505,!1)}function Do(t){switch(t.length){case 0:return new So;case 1:return t[0];default:return new oh(t)}}function cF(t,e,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),d=c==o,h=d&&a||new Map;l.forEach((p,g)=>{let _=g,T=p;if(g!=="offset")switch(_=t.normalizePropertyName(_,i),T){case Rg:T=n.get(g);break;case Vi:T=r.get(g);break;default:T=t.normalizeStyleValue(g,_,T,i);break}h.set(_,T)}),d||s.push(h),a=h,o=c}),i.length)throw h7(i);return s}function Vb(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&gb(n,"start",t)));break;case"done":t.onDone(()=>r(n&&gb(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&gb(n,"destroy",t)));break}}function gb(t,e,n){let r=n.totalTime,i=!!n.disabled,s=Ub(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),o=t._data;return o!=null&&(s._data=o),s}function Ub(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function wr(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function YO(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var b7=typeof document>"u"?null:document.documentElement;function jb(t){let e=t.parentNode||t.host||null;return e===b7?null:e}function C7(t){return t.substring(1,6)=="ebkit"}var Ra=null,ZO=!1;function T7(t){Ra||(Ra=S7()||{},ZO=Ra.style?"WebkitAppearance"in Ra.style:!1);let e=!0;return Ra.style&&!C7(t)&&(e=t in Ra.style,!e&&ZO&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Ra.style)),e}function S7(){return typeof document<"u"?document.body:null}function uF(t,e){for(;e;){if(e===t)return!0;e=jb(e)}return!1}function dF(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var Bb=(()=>{let e=class e{validateStyleProperty(r){return T7(r)}containsElement(r,i){return uF(r,i)}getParentElement(r){return jb(r)}query(r,i,s){return dF(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,l=[],c){return new So(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),qb=class qb{};qb.NOOP=new Bb;var Pa=qb,ka=class{};var D7=1e3,hF="{{",A7="}}",fF="ng-enter",Ib="ng-leave",Ng="ng-trigger",Fg=".ng-trigger",JO="ng-animating",bb=".ng-animating";function Ns(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Cb(parseFloat(e[1]),e[2])}function Cb(t,e){switch(e){case"s":return t*D7;default:return t}}function Lg(t,e,n){return t.hasOwnProperty("duration")?t:x7(t,e,n)}function x7(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(QO(t)),{duration:0,delay:0,easing:""};i=Cb(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=Cb(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(GW()),a=!0),s<0&&(e.push(WW()),a=!0),a&&e.splice(l,0,QO(t))}return{duration:i,delay:s,easing:o}}function R7(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Ui(t,e,n){e.forEach((r,i)=>{let s=$b(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function Ma(t,e){e.forEach((n,r)=>{let i=$b(r);t.style[i]=""})}function ah(t){return Array.isArray(t)?t.length==1?t[0]:KO(t):t}function N7(t,e,n){let r=e.params||{},i=pF(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(KW(s))})}var Tb=new RegExp(`${hF}\\s*(.+?)\\s*${A7}`,"g");function pF(t){let e=[];if(typeof t=="string"){let n;for(;n=Tb.exec(t);)e.push(n[1]);Tb.lastIndex=0}return e}function ch(t,e,n){let r=`${t}`,i=r.replace(Tb,(s,o)=>{let a=e[o];return a==null&&(n.push(QW(o)),a=""),a.toString()});return i==r?t:i}var M7=/-+([a-z0-9])/g;function $b(t){return t.replace(M7,(...e)=>e[1].toUpperCase())}function P7(t,e){return t===0||e===0}function k7(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,Hb(t,a)))}}return e}function _r(t,e,n){switch(e.type){case Re.Trigger:return t.visitTrigger(e,n);case Re.State:return t.visitState(e,n);case Re.Transition:return t.visitTransition(e,n);case Re.Sequence:return t.visitSequence(e,n);case Re.Group:return t.visitGroup(e,n);case Re.Animate:return t.visitAnimate(e,n);case Re.Keyframes:return t.visitKeyframes(e,n);case Re.Style:return t.visitStyle(e,n);case Re.Reference:return t.visitReference(e,n);case Re.AnimateChild:return t.visitAnimateChild(e,n);case Re.AnimateRef:return t.visitAnimateRef(e,n);case Re.Query:return t.visitQuery(e,n);case Re.Stagger:return t.visitStagger(e,n);default:throw YW(e.type)}}function Hb(t,e){return window.getComputedStyle(t)[e]}var O7=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Vg=class extends ka{normalizePropertyName(e,n){return $b(e)}normalizeStyleValue(e,n,r,i){let s="",o=r.toString().trim();if(O7.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(ZW(e,r))}return o+s}};var Ug="*";function F7(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>L7(r,n,e)):n.push(t),n}function L7(t,e,n){if(t[0]==":"){let l=V7(t,n);if(typeof l=="function"){e.push(l);return}t=l}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(c7(t)),e;let i=r[1],s=r[2],o=r[3];e.push(XO(i,o));let a=i==Ug&&o==Ug;s[0]=="<"&&!a&&e.push(XO(o,i))}function V7(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(u7(t)),"* => *"}}var Mg=new Set(["true","1"]),Pg=new Set(["false","0"]);function XO(t,e){let n=Mg.has(t)||Pg.has(t),r=Mg.has(e)||Pg.has(e);return(i,s)=>{let o=t==Ug||t==i,a=e==Ug||e==s;return!o&&n&&typeof i=="boolean"&&(o=i?Mg.has(t):Pg.has(t)),!a&&r&&typeof s=="boolean"&&(a=s?Mg.has(e):Pg.has(e)),o&&a}}var mF=":self",U7=new RegExp(`s*${mF}s*,?`,"g");function gF(t,e,n,r){return new Sb(t).build(e,n,r)}var eF="",Sb=class{constructor(e){this._driver=e}build(e,n,r){let i=new Db(n);return this._resetContextStyleTimingState(i),_r(this,ah(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=eF,e.collectedStyles=new Map,e.collectedStyles.set(eF,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(JW()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==Re.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,n))}),l.name=c}else if(a.type==Re.Transition){let l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(XW())}),{type:Re.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{pF(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&n.errors.push(e7(e.name,[...s.values()]))}return{type:Re.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=_r(this,ah(e.animation),n),i=F7(e.expr,n.errors);return{type:Re.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Na(e.options)}}visitSequence(e,n){return{type:Re.Sequence,steps:e.steps.map(r=>_r(this,r,n)),options:Na(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(o=>{n.currentTime=r;let a=_r(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:Re.Group,steps:s,options:Na(e.options)}}visitAnimate(e,n){let r=H7(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:Pc({});if(s.type==Re.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};r.easing&&(c.easing=r.easing),o=Pc(c)}n.currentTime+=r.duration+r.delay;let l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:Re.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Vi?r.push(a):n.errors.push(t7(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(hF)>=0){s=!0;break}}}),{type:Re.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),d=c.get(l),h=!0;d&&(s!=i&&s>=d.startTime&&i<=d.endTime&&(n.errors.push(n7(l,d.startTime,d.endTime,s,i)),h=!1),s=d.startTime),h&&c.set(l,{startTime:s,endTime:i}),n.options&&N7(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:Re.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(r7()),r;let i=1,s=0,o=[],a=!1,l=!1,c=0,d=e.steps.map(L=>{let H=this._makeStyleAst(L,n),W=H.offset!=null?H.offset:$7(H.styles),ee=0;return W!=null&&(s++,ee=H.offset=W),l=l||ee<0||ee>1,a=a||ee<c,c=ee,o.push(ee),H});l&&n.errors.push(i7()),a&&n.errors.push(s7());let h=e.steps.length,p=0;s>0&&s<h?n.errors.push(o7()):s==0&&(p=i/(h-1));let g=h-1,_=n.currentTime,T=n.currentAnimateTimings,A=T.duration;return d.forEach((L,H)=>{let W=p>0?H==g?1:p*H:o[H],ee=W*A;n.currentTime=_+T.delay+ee,T.duration=ee,this._validateStyleAst(L,n),L.offset=W,r.styles.push(L)}),r}visitReference(e,n){return{type:Re.Reference,animation:_r(this,ah(e.animation),n),options:Na(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Re.AnimateChild,options:Na(e.options)}}visitAnimateRef(e,n){return{type:Re.AnimateRef,animation:this.visitReference(e.animation,n),options:Na(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=j7(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,wr(n.collectedStyles,n.currentQuerySelector,new Map);let a=_r(this,ah(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:Re.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Na(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(a7());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Lg(e.timings,n.errors,!0);return{type:Re.Stagger,animation:_r(this,ah(e.animation),n),timings:r,options:null}}};function j7(t){let e=!!t.split(/\s*,\s*/).find(n=>n==mF);return e&&(t=t.replace(U7,"")),t=t.replace(/@\*/g,Fg).replace(/@\w+/g,n=>Fg+"-"+n.slice(1)).replace(/:animating/g,bb),[t,e]}function B7(t){return t?U({},t):null}var Db=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function $7(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function H7(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=Lg(t,e).duration;return yb(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=yb(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=Lg(n,e);return yb(i.duration,i.delay,i.easing)}function Na(t){return t?(t=U({},t),t.params&&(t.params=B7(t.params))):t={},t}function yb(t,e,n){return{duration:t,delay:e,easing:n}}function zb(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var uh=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},z7=1,q7=":enter",G7=new RegExp(q7,"g"),W7=":leave",K7=new RegExp(W7,"g");function yF(t,e,n,r,i,s=new Map,o=new Map,a,l,c=[]){return new Ab().buildKeyframes(t,e,n,r,i,s,o,a,l,c)}var Ab=class{buildKeyframes(e,n,r,i,s,o,a,l,c,d=[]){c=c||new uh;let h=new xb(e,n,c,i,s,d,[]);h.options=l;let p=l.delay?Ns(l.delay):0;h.currentTimeline.delayNextStep(p),h.currentTimeline.setStyles([o],null,h.errors,l),_r(this,r,h);let g=h.timelines.filter(_=>_.containsAnimation());if(g.length&&a.size){let _;for(let T=g.length-1;T>=0;T--){let A=g[T];if(A.element===n){_=A;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,h.errors,l)}return g.length?g.map(_=>_.buildKeyframes()):[zb(n,[],[],[],0,p,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:Ns(ch(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?Ns(r.duration):null,a=r.delay!=null?Ns(r.delay):null;return o!==0&&e.forEach(l=>{let c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),_r(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==Re.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=jg);let o=Ns(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>_r(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?Ns(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),_r(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?ch(r,n.params,n.errors):r;return Lg(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==Re.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Ns(i.delay):0;s&&(n.previousNode.type===Re.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=jg);let o=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{n.currentQueryIndex=d;let h=n.createSubContext(e.options,c);s&&h.delayNextStep(s),c===n.element&&(l=h.currentTimeline),_r(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let p=h.currentTimeline.currentTime;o=Math.max(o,p)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let d=n.currentTimeline;l&&d.delayNextStep(l);let h=d.currentTime;_r(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-h+(i.startTime-r.currentTimeline.startTime)}},jg={},xb=class t{constructor(e,n,r,i,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Bg(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Ns(r.duration)),r.delay!=null&&(i.delay=Ns(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=ch(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=jg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Rb(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(G7,"."+this._enterClassName),e=e.replace(K7,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,e,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&a.length==0&&o.push(l7(n)),a}},Bg=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=z7,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Vi),this._currentKeyframe.set(n,Vi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=Q7(e,this._globalTimelineStyles);for(let[a,l]of o){let c=ch(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Vi),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,h)=>{d===Rg?e.add(h):d===Vi&&n.add(h)}),r||c.set("offset",l/this.duration),i.push(c)});let s=[...e.values()],o=[...n.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return zb(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},Rb=class extends Bg{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",tF(a)),s.push(c);let d=e.length-1;for(let h=1;h<=d;h++){let p=new Map(e[h]),g=p.get("offset"),_=n+g*r;p.set("offset",tF(_/o)),s.push(p)}r=o,n=0,i="",e=s}return zb(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function tF(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function Q7(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)n.set(s,Vi)}else for(let[s,o]of i)n.set(s,o)}),n}function nF(t,e,n,r,i,s,o,a,l,c,d,h,p){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:h,errors:p}}var vb={},$g=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return Y7(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,l,c,d){let h=[],p=this.ast.options&&this.ast.options.params||vb,g=a&&a.params||vb,_=this.buildStyles(r,g,h),T=l&&l.params||vb,A=this.buildStyles(i,T,h),L=new Set,H=new Map,W=new Map,ee=i==="void",je={params:vF(T,p),delay:this.ast.options?.delay},le=d?[]:yF(e,n,this.ast.animation,s,o,_,A,je,c,h),D=0;return le.forEach(E=>{D=Math.max(E.duration+E.delay,D)}),h.length?nF(n,this._triggerName,r,i,ee,_,A,[],[],H,W,D,h):(le.forEach(E=>{let b=E.element,x=wr(H,b,new Set);E.preStyleProps.forEach(k=>x.add(k));let M=wr(W,b,new Set);E.postStyleProps.forEach(k=>M.add(k)),b!==n&&L.add(b)}),nF(n,this._triggerName,r,i,ee,_,A,le,[...L.values()],H,W,D))}};function Y7(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function vF(t,e){let n=U({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var Nb=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=vF(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=ch(o,i,n));let l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}};function Z7(t,e,n){return new Mb(t,e,n)}var Mb=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new Nb(i.style,s,r))}),rF(this.states,"true","1"),rF(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new $g(e,i,this.states))}),this.fallbackTransition=J7(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function J7(t,e,n){let r=[(o,a)=>!0],i={type:Re.Sequence,steps:[],options:null},s={type:Re.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new $g(t,s,e)}function rF(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var X7=new uh,Pb=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],s=gF(this._driver,n,r,i);if(r.length)throw f7(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=cF(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=yF(this._driver,n,s,fF,Ib,new Map,new Map,r,X7,i),o.forEach(d=>{let h=wr(a,d.element,new Map);d.postStyleProps.forEach(p=>h.set(p,null))})):(i.push(p7()),o=[]),i.length)throw m7(i);a.forEach((d,h)=>{d.forEach((p,g)=>{d.set(g,this._driver.computeStyle(h,g,Vi))})});let l=o.map(d=>{let h=a.get(d.element);return this._buildPlayer(d,new Map,h)}),c=Do(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw g7(e);return n}listen(e,n,r,i){let s=Ub(n,"","","");return Vb(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},iF="ng-animate-queued",eK=".ng-animate-queued",_b="ng-animate-disabled",tK=".ng-animate-disabled",nK="ng-star-inserted",rK=".ng-star-inserted",iK=[],_F={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sK={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fi="__ng_removed",dh=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=aK(i),r){let s=e,{value:o}=s,a=i0(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},lh="void",wb=new dh(lh),kb=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,$r(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw y7(r,n);if(r==null||r.length==0)throw v7(n);if(!lK(r))throw _7(r,n);let s=wr(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);let a=wr(this._engine.statesByElement,e,new Map);return a.has(n)||($r(e,Ng),$r(e,Ng+"-"+n),a.set(n,wb)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw w7(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),o=new hh(this.id,n,e),a=this._engine.statesByElement.get(e);a||($r(e,Ng),$r(e,Ng+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n),c=new dh(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=wb),!(c.value===lh)&&l.value===c.value){if(!dK(l.params,c.params)){let T=[],A=s.matchStyles(l.value,l.params,T),L=s.matchStyles(c.value,c.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{Ma(e,A),Ui(e,L)})}return}let p=wr(this._engine.playersByElement,e,[]);p.forEach(T=>{T.namespaceId==this.id&&T.triggerName==n&&T.queued&&T.destroy()});let g=s.matchTransition(l.value,c.value,e,c.params),_=!1;if(!g){if(!i)return;g=s.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:g,fromState:l,toState:c,player:o,isFallbackTransition:_}),_||($r(e,iF),o.onStart(()=>{kc(e,iF)})),o.onDone(()=>{let T=this.players.indexOf(o);T>=0&&this.players.splice(T,1);let A=this._engine.playersByElement.get(e);if(A){let L=A.indexOf(o);L>=0&&A.splice(L,1)}}),this.players.push(o),p.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,Fg,!0);r.forEach(i=>{if(i[fi])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let d=this.trigger(e,c,lh,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&Do(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,c=r.get(o)||wb,d=new dh(lh),h=new hh(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[fi];(!s||s===_F)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){$r(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let l=Ub(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,Vb(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Ob=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new kb(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if(kg(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!kg(n))return;let s=n[fi];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),$r(e,_b)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),kc(e,_b))}removeNode(e,n,r){if(kg(n)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[fi]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return kg(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,Fg,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,bb,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Do(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[fi];if(n&&n.setForRemoval){if(e[fi]=_F,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(_b)&&this.markElementAsDisabled(e,!1),this.driver.query(e,tK,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];$r(i,nK)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?Do(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw E7(e)}_flushAnimations(e,n){let r=new uh,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(re=>{d.add(re);let ce=this.driver.query(re,eK,!0);for(let fe=0;fe<ce.length;fe++)d.add(ce[fe])});let h=this.bodyNode,p=Array.from(this.statesByElement.keys()),g=aF(p,this.collectedEnterElements),_=new Map,T=0;g.forEach((re,ce)=>{let fe=fF+T++;_.set(ce,fe),re.forEach(Ve=>$r(Ve,fe))});let A=[],L=new Set,H=new Set;for(let re=0;re<this.collectedLeaveElements.length;re++){let ce=this.collectedLeaveElements[re],fe=ce[fi];fe&&fe.setForRemoval&&(A.push(ce),L.add(ce),fe.hasAnimation?this.driver.query(ce,rK,!0).forEach(Ve=>L.add(Ve)):H.add(ce))}let W=new Map,ee=aF(p,Array.from(L));ee.forEach((re,ce)=>{let fe=Ib+T++;W.set(ce,fe),re.forEach(Ve=>$r(Ve,fe))}),e.push(()=>{g.forEach((re,ce)=>{let fe=_.get(ce);re.forEach(Ve=>kc(Ve,fe))}),ee.forEach((re,ce)=>{let fe=W.get(ce);re.forEach(Ve=>kc(Ve,fe))}),A.forEach(re=>{this.processLeaveNode(re)})});let je=[],le=[];for(let re=this._namespaceList.length-1;re>=0;re--)this._namespaceList[re].drainQueuedTransitions(n).forEach(fe=>{let Ve=fe.player,Ut=fe.element;if(je.push(Ve),this.collectedEnterElements.length){let Pt=Ut[fi];if(Pt&&Pt.setForMove){if(Pt.previousTriggersValues&&Pt.previousTriggersValues.has(fe.triggerName)){let rs=Pt.previousTriggersValues.get(fe.triggerName),Xn=this.statesByElement.get(fe.element);if(Xn&&Xn.has(fe.triggerName)){let is=Xn.get(fe.triggerName);is.value=rs,Xn.set(fe.triggerName,is)}}Ve.destroy();return}}let Rr=!h||!this.driver.containsElement(h,Ut),Mt=W.get(Ut),wt=_.get(Ut),Et=this._buildInstruction(fe,r,wt,Mt,Rr);if(Et.errors&&Et.errors.length){le.push(Et);return}if(Rr){Ve.onStart(()=>Ma(Ut,Et.fromStyles)),Ve.onDestroy(()=>Ui(Ut,Et.toStyles)),i.push(Ve);return}if(fe.isFallbackTransition){Ve.onStart(()=>Ma(Ut,Et.fromStyles)),Ve.onDestroy(()=>Ui(Ut,Et.toStyles)),i.push(Ve);return}let Ks=[];Et.timelines.forEach(Pt=>{Pt.stretchStartingKeyframe=!0,this.disabledNodes.has(Pt.element)||Ks.push(Pt)}),Et.timelines=Ks,r.append(Ut,Et.timelines);let P_={instruction:Et,player:Ve,element:Ut};o.push(P_),Et.queriedElements.forEach(Pt=>wr(a,Pt,[]).push(Ve)),Et.preStyleProps.forEach((Pt,rs)=>{if(Pt.size){let Xn=l.get(rs);Xn||l.set(rs,Xn=new Set),Pt.forEach((is,Qs)=>Xn.add(Qs))}}),Et.postStyleProps.forEach((Pt,rs)=>{let Xn=c.get(rs);Xn||c.set(rs,Xn=new Set),Pt.forEach((is,Qs)=>Xn.add(Qs))})});if(le.length){let re=[];le.forEach(ce=>{re.push(I7(ce.triggerName,ce.errors))}),je.forEach(ce=>ce.destroy()),this.reportError(re)}let D=new Map,E=new Map;o.forEach(re=>{let ce=re.element;r.has(ce)&&(E.set(ce,ce),this._beforeAnimationBuild(re.player.namespaceId,re.instruction,D))}),i.forEach(re=>{let ce=re.element;this._getPreviousPlayers(ce,!1,re.namespaceId,re.triggerName,null).forEach(Ve=>{wr(D,ce,[]).push(Ve),Ve.destroy()})});let b=A.filter(re=>lF(re,l,c)),x=new Map;oF(x,this.driver,H,c,Vi).forEach(re=>{lF(re,l,c)&&b.push(re)});let k=new Map;g.forEach((re,ce)=>{oF(k,this.driver,new Set(re),l,Rg)}),b.forEach(re=>{let ce=x.get(re),fe=k.get(re);x.set(re,new Map([...ce?.entries()??[],...fe?.entries()??[]]))});let C=[],xr=[],Ws={};o.forEach(re=>{let{element:ce,player:fe,instruction:Ve}=re;if(r.has(ce)){if(d.has(ce)){fe.onDestroy(()=>Ui(ce,Ve.toStyles)),fe.disabled=!0,fe.overrideTotalTime(Ve.totalTime),i.push(fe);return}let Ut=Ws;if(E.size>1){let Mt=ce,wt=[];for(;Mt=Mt.parentNode;){let Et=E.get(Mt);if(Et){Ut=Et;break}wt.push(Mt)}wt.forEach(Et=>E.set(Et,Ut))}let Rr=this._buildAnimation(fe.namespaceId,Ve,D,s,k,x);if(fe.setRealPlayer(Rr),Ut===Ws)C.push(fe);else{let Mt=this.playersByElement.get(Ut);Mt&&Mt.length&&(fe.parentPlayer=Do(Mt)),i.push(fe)}}else Ma(ce,Ve.fromStyles),fe.onDestroy(()=>Ui(ce,Ve.toStyles)),xr.push(fe),d.has(ce)&&i.push(fe)}),xr.forEach(re=>{let ce=s.get(re.element);if(ce&&ce.length){let fe=Do(ce);re.setRealPlayer(fe)}}),i.forEach(re=>{re.parentPlayer?re.syncPlayerEvents(re.parentPlayer):re.destroy()});for(let re=0;re<A.length;re++){let ce=A[re],fe=ce[fi];if(kc(ce,Ib),fe&&fe.hasAnimation)continue;let Ve=[];if(a.size){let Rr=a.get(ce);Rr&&Rr.length&&Ve.push(...Rr);let Mt=this.driver.query(ce,bb,!0);for(let wt=0;wt<Mt.length;wt++){let Et=a.get(Mt[wt]);Et&&Et.length&&Ve.push(...Et)}}let Ut=Ve.filter(Rr=>!Rr.destroyed);Ut.length?cK(this,ce,Ut):this.processLeaveNode(ce)}return A.length=0,C.forEach(re=>{this.players.push(re),re.onDone(()=>{re.destroy();let ce=this.players.indexOf(re);this.players.splice(ce,1)}),re.play()}),C}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==lh;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let l of n.timelines){let c=l.element,d=c!==s,h=wr(r,c,[]);this._getPreviousPlayers(c,d,o,a,n.toState).forEach(g=>{let _=g.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),g.destroy(),h.push(g)})}Ma(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){let a=n.triggerName,l=n.element,c=[],d=new Set,h=new Set,p=n.timelines.map(_=>{let T=_.element;d.add(T);let A=T[fi];if(A&&A.removedBeforeQueried)return new So(_.duration,_.delay);let L=T!==l,H=uK((r.get(T)||iK).map(D=>D.getRealPlayer())).filter(D=>{let E=D;return E.element?E.element===T:!1}),W=s.get(T),ee=o.get(T),je=cF(this._normalizer,_.keyframes,W,ee),le=this._buildPlayer(_,je,H);if(_.subTimeline&&i&&h.add(T),L){let D=new hh(e,a,T);D.setRealPlayer(le),c.push(D)}return le});c.forEach(_=>{wr(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>oK(this.playersByQueriedElement,_.element,_))}),d.forEach(_=>$r(_,JO));let g=Do(p);return g.onDestroy(()=>{d.forEach(_=>kc(_,JO)),Ui(l,n.toStyles)}),h.forEach(_=>{wr(i,_,[]).push(g)}),g}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new So(e.duration,e.delay)}},hh=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new So,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>Vb(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){wr(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function oK(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function aK(t){return t??null}function kg(t){return t&&t.nodeType===1}function lK(t){return t=="start"||t=="done"}function sF(t,e){let n=t.style.display;return t.style.display=e??"none",n}function oF(t,e,n,r,i){let s=[];n.forEach(l=>s.push(sF(l)));let o=[];r.forEach((l,c)=>{let d=new Map;l.forEach(h=>{let p=e.computeStyle(c,h,i);d.set(h,p),(!p||p.length==0)&&(c[fi]=sK,o.push(c))}),t.set(c,d)});let a=0;return n.forEach(l=>sF(l,s[a++])),o}function aF(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:i.has(c)?l=r:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==r&&n.get(l).push(a)}),n}function $r(t,e){t.classList?.add(e)}function kc(t,e){t.classList?.remove(e)}function cK(t,e,n){Do(n).onDone(()=>t.processLeaveNode(e))}function uK(t){let e=[];return wF(t,e),e}function wF(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof oh?wF(r.players,e):e.push(r)}}function dK(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function lF(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var Fc=class{constructor(e,n,r){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Ob(e.body,n,r),this._timelineEngine=new Pb(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let l=[],c=[],d=gF(this._driver,s,l,c);if(l.length)throw d7(i,l);c.length&&void 0,a=Z7(i,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,o]=YO(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=YO(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function hK(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Eb(e[0]),e.length>1&&(r=Eb(e[e.length-1]))):e instanceof Map&&(n=Eb(e)),n||r?new Fb(t,n,r):null}var Oc=class Oc{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=Oc.initialStylesByElement.get(e);i||Oc.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Ui(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ui(this._element,this._initialStyles),this._endStyles&&(Ui(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Oc.initialStylesByElement.delete(this._element),this._startStyles&&(Ma(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ma(this._element,this._endStyles),this._endStyles=null),Ui(this._element,this._initialStyles),this._state=3)}};Oc.initialStylesByElement=new WeakMap;var Fb=Oc;function Eb(t){let e=null;return t.forEach((n,r)=>{fK(r)&&(e=e||new Map,e.set(r,n))}),e}function fK(t){return t==="display"||t==="position"}var Hg=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Hb(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},zg=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return uF(e,n)}getParentElement(e){return jb(e)}query(e,n,r){return dF(e,n,r)}computeStyle(e,n,r){return Hb(e,n)}animate(e,n,r,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};s&&(l.easing=s);let c=new Map,d=o.filter(g=>g instanceof Hg);P7(r,i)&&d.forEach(g=>{g.currentSnapshot.forEach((_,T)=>c.set(T,_))});let h=R7(n).map(g=>new Map(g));h=k7(e,h,c);let p=hK(e,h);return new Hg(e,h,l,p)}};var Og="@",EF="@.disabled",qg=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==Og&&n==EF?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},Lb=class extends qg{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==Og?n.charAt(1)=="."&&n==EF?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==Og){let i=pK(e),s=n.slice(1),o="";return s.charAt(0)!=Og&&([s,o]=mK(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,r,a)})}return this.delegate.listen(e,n,r)}};function pK(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function mK(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var Gg=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{let o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let c=this._rendererCache,d=c.get(i);if(!d){let h=()=>c.delete(i);d=new qg(r,i,this.engine,h),c.set(i,d)}return d}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return n.data.animation.forEach(a),new Lb(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var yK=(()=>{let e=class e extends Fc{constructor(r,i,s){super(r,i,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(q(mt),q(Pa),q(ka))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function vK(){return new Vg}function _K(t,e,n){return new Gg(t,e,n)}var IF=[{provide:ka,useFactory:vK},{provide:Fc,useClass:yK},{provide:po,useFactory:_K,deps:[sg,Fc,ye]}],wK=[{provide:Pa,useFactory:()=>new zg},{provide:gE,useValue:"BrowserAnimations"},...IF],Eye=[{provide:Pa,useClass:Bb},{provide:gE,useValue:"NoopAnimations"},...IF];function bF(){return li("NgEagerAnimations"),[...wK]}function Gb(t){t||(Sd(Gb),t=S(Oi));let e=new de(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe(pd(e))}function Wb(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&Sd(Wb);let r=n?e?.injector?.get(Oi)??S(Oi):null,i=EK(e?.equal),s;e?.requireSync?s=gn({kind:0},{equal:i}):s=gn({kind:1,value:e?.initialValue},{equal:i});let o=t.subscribe({next:a=>s.set({kind:1,value:a}),error:a=>{if(e?.rejectErrors)throw a;s.set({kind:2,error:a})}});if(e?.requireSync&&s().kind===0)throw new B(601,!1);return r?.onDestroy(o.unsubscribe.bind(o)),ws(()=>{let a=s();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new B(601,!1)}},{equal:e?.equal})}function EK(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}var Yb={};function tC(t,e){if(Yb[t]=(Yb[t]||0)+1,typeof e=="function")return Kb(t,(...r)=>ve(U({},e(...r)),{type:t}));switch(e?e._as:"empty"){case"empty":return Kb(t,()=>({type:t}));case"props":return Kb(t,r=>ve(U({},r),{type:t}));default:throw new Error("Unexpected config.")}}function Kb(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}var FF="@ngrx/store/init",Lc=(()=>{let e=class e extends St{constructor(){super({type:FF})}next(r){if(typeof r=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof r>"u")throw new TypeError("Actions must be objects");if(typeof r.type>"u")throw new TypeError("Actions must have a type property");super.next(r)}complete(){}ngOnDestroy(){super.complete()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),IK=[Lc],LF=new $("@ngrx/store Internal Root Guard"),CF=new $("@ngrx/store Internal Initial State"),nC=new $("@ngrx/store Initial State"),VF=new $("@ngrx/store Reducer Factory"),TF=new $("@ngrx/store Internal Reducer Factory Provider"),UF=new $("@ngrx/store Initial Reducers"),Qb=new $("@ngrx/store Internal Initial Reducers"),Fye=new $("@ngrx/store Store Features"),SF=new $("@ngrx/store Internal Store Reducers"),Lye=new $("@ngrx/store Internal Feature Reducers"),Vye=new $("@ngrx/store Internal Feature Configs"),Uye=new $("@ngrx/store Internal Store Features"),jye=new $("@ngrx/store Internal Feature Reducers Token"),Bye=new $("@ngrx/store Feature Reducers"),DF=new $("@ngrx/store User Provided Meta Reducers"),Wg=new $("@ngrx/store Meta Reducers"),AF=new $("@ngrx/store Internal Resolved Meta Reducers"),xF=new $("@ngrx/store User Runtime Checks Config"),RF=new $("@ngrx/store Internal User Runtime Checks Config"),fh=new $("@ngrx/store Internal Runtime Checks"),jF=new $("@ngrx/store Check if Action types are unique"),NF=new $("@ngrx/store Root Store Provider"),$ye=new $("@ngrx/store Feature State Provider");function bK(t,e={}){let n=Object.keys(t),r={};for(let s=0;s<n.length;s++){let o=n[s];typeof t[o]=="function"&&(r[o]=t[o])}let i=Object.keys(r);return function(o,a){o=o===void 0?e:o;let l=!1,c={};for(let d=0;d<i.length;d++){let h=i[d],p=r[h],g=o[h],_=p(g,a);c[h]=_,l=l||_!==g}return l?c:o}}function CK(t,e){return Object.keys(t).filter(n=>n!==e).reduce((n,r)=>Object.assign(n,{[r]:t[r]}),{})}function BF(...t){return function(e){if(t.length===0)return e;let n=t[t.length-1];return t.slice(0,-1).reduceRight((i,s)=>s(i),n(e))}}function $F(t,e){return Array.isArray(e)&&e.length>0&&(t=BF.apply(null,[...e,t])),(n,r)=>{let i=t(n);return(s,o)=>(s=s===void 0?r:s,i(s,o))}}function TK(t){let e=Array.isArray(t)&&t.length>0?BF(...t):n=>n;return(n,r)=>(n=e(n),(i,s)=>(i=i===void 0?r:i,n(i,s)))}var ph=class extends de{},Kg=class extends Lc{},SK="@ngrx/store/update-reducers",Zb=(()=>{let e=class e extends St{get currentReducers(){return this.reducers}constructor(r,i,s,o){super(o(s,i)),this.dispatcher=r,this.initialState=i,this.reducers=s,this.reducerFactory=o}addFeature(r){this.addFeatures([r])}addFeatures(r){let i=r.reduce((s,{reducers:o,reducerFactory:a,metaReducers:l,initialState:c,key:d})=>{let h=typeof o=="function"?TK(l)(o,c):$F(a,l)(o,c);return s[d]=h,s},{});this.addReducers(i)}removeFeature(r){this.removeFeatures([r])}removeFeatures(r){this.removeReducers(r.map(i=>i.key))}addReducer(r,i){this.addReducers({[r]:i})}addReducers(r){this.reducers=U(U({},this.reducers),r),this.updateReducers(Object.keys(r))}removeReducer(r){this.removeReducers([r])}removeReducers(r){r.forEach(i=>{this.reducers=CK(this.reducers,i)}),this.updateReducers(r)}updateReducers(r){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:SK,features:r})}ngOnDestroy(){this.complete()}};e.\u0275fac=function(i){return new(i||e)(q(Kg),q(nC),q(UF),q(VF))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),DK=[Zb,{provide:ph,useExisting:Zb},{provide:Kg,useExisting:Lc}],rC=(()=>{let e=class e extends ot{ngOnDestroy(){this.complete()}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Gn(e)))(s||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),AK=[rC],Qg=class extends de{},MF=(()=>{let e=class e extends St{constructor(r,i,s,o){super(o);let l=r.pipe(Ti(ad)).pipe(S0(i)),c={state:o},d=l.pipe(hd(xK,c));this.stateSubscription=d.subscribe(({state:h,action:p})=>{this.next(h),s.next(p)}),this.state=Wb(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};e.INIT=FF,e.\u0275fac=function(i){return new(i||e)(q(Lc),q(ph),q(rC),q(nC))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function xK(t={state:void 0},[e,n]){let{state:r}=t;return{state:n(r,e),action:e}}var RK=[MF,{provide:Qg,useExisting:MF}],it=(()=>{let e=class e extends de{constructor(r,i,s){super(),this.actionsObserver=i,this.reducerManager=s,this.source=r,this.state=r.state}select(r,...i){return MK.call(null,r,...i)(this)}selectSignal(r,i){return ws(()=>r(this.state()),i)}lift(r){let i=new e(this,this.actionsObserver,this.reducerManager);return i.operator=r,i}dispatch(r){this.actionsObserver.next(r)}next(r){this.actionsObserver.next(r)}error(r){this.actionsObserver.error(r)}complete(){this.actionsObserver.complete()}addReducer(r,i){this.reducerManager.addReducer(r,i)}removeReducer(r){this.reducerManager.removeReducer(r)}};e.\u0275fac=function(i){return new(i||e)(q(Qg),q(Lc),q(Zb))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),NK=[it];function MK(t,e,...n){return function(i){let s;if(typeof t=="string"){let o=[e,...n].filter(Boolean);s=i.pipe(b0(t,...o))}else if(typeof t=="function")s=i.pipe(Z(o=>t(o,e)));else throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);return s.pipe(dd())}}var iC="https://ngrx.io/guide/store/configuration/runtime-checks";function PF(t){return t===void 0}function kF(t){return t===null}function HF(t){return Array.isArray(t)}function PK(t){return typeof t=="string"}function kK(t){return typeof t=="boolean"}function OK(t){return typeof t=="number"}function zF(t){return typeof t=="object"&&t!==null}function FK(t){return zF(t)&&!HF(t)}function LK(t){if(!FK(t))return!1;let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function Jb(t){return typeof t=="function"}function VK(t){return Jb(t)&&t.hasOwnProperty("\u0275cmp")}function UK(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function jK(t){return t instanceof $?S(t):t}function BK(t){return typeof t=="function"?t():t}function $K(t,e){return t.concat(e)}function HK(){if(S(it,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function zK(t,e){return function(n,r){let i=e.action(r)?Xb(r):r,s=t(n,i);return e.state()?Xb(s):s}}function Xb(t){Object.freeze(t);let e=Jb(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&UK(t,n)&&(!e||n!=="caller"&&n!=="callee"&&n!=="arguments")){let r=t[n];(zF(r)||Jb(r))&&!Object.isFrozen(r)&&Xb(r)}}),t}function qK(t,e){return function(n,r){if(e.action(r)){let s=eC(r);OF(s,"action")}let i=t(n,r);if(e.state()){let s=eC(i);OF(s,"state")}return i}}function eC(t,e=[]){return(PF(t)||kF(t))&&e.length===0?{path:["root"],value:t}:Object.keys(t).reduce((r,i)=>{if(r)return r;let s=t[i];return VK(s)?r:PF(s)||kF(s)||OK(s)||kK(s)||PK(s)||HF(s)?!1:LK(s)?eC(s,[...e,i]):{path:[...e,i],value:s}},!1)}function OF(t,e){if(t===!1)return;let n=t.path.join("."),r=new Error(`Detected unserializable ${e} at "${n}". ${iC}#strict${e}serializability`);throw r.value=t.value,r.unserializablePath=n,r}function GK(t,e){return function(n,r){if(e.action(r)&&!ye.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${iC}#strictactionwithinngzone`);return t(n,r)}}function WK(t){return hk()?U({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function KK({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?qK(n,{action:r=>t&&!sC(r),state:()=>e}):n}function QK({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?zK(n,{action:r=>t&&!sC(r),state:()=>e}):n}function sC(t){return t.type.startsWith("@ngrx")}function YK({strictActionWithinNgZone:t}){return e=>t?GK(e,{action:n=>t&&!sC(n)}):e}function ZK(t){return[{provide:RF,useValue:t},{provide:xF,useFactory:XK,deps:[RF]},{provide:fh,deps:[xF],useFactory:WK},{provide:Wg,multi:!0,deps:[fh],useFactory:QK},{provide:Wg,multi:!0,deps:[fh],useFactory:KK},{provide:Wg,multi:!0,deps:[fh],useFactory:YK}]}function JK(){return[{provide:jF,multi:!0,deps:[fh],useFactory:eQ}]}function XK(t){return t}function eQ(t){if(!t.strictActionTypeUniqueness)return;let e=Object.entries(Yb).filter(([,n])=>n>1).map(([n])=>n);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(n=>`"${n}"`).join(", ")}. ${iC}#strictactiontypeuniqueness`)}function tQ(t={},e={}){return[{provide:LF,useFactory:HK},{provide:CF,useValue:e.initialState},{provide:nC,useFactory:BK,deps:[CF]},{provide:Qb,useValue:t},{provide:SF,useExisting:t instanceof $?t:Qb},{provide:UF,deps:[Qb,[new xN(SF)]],useFactory:jK},{provide:DF,useValue:e.metaReducers?e.metaReducers:[]},{provide:AF,deps:[Wg,DF],useFactory:$K},{provide:TF,useValue:e.reducerFactory?e.reducerFactory:bK},{provide:VF,deps:[TF,AF],useFactory:$F},IK,DK,AK,RK,NK,ZK(e.runtimeChecks),JK()]}function nQ(){S(Lc),S(ph),S(rC),S(it),S(LF,{optional:!0}),S(jF,{optional:!0})}var rQ=[{provide:NF,useFactory:nQ},{provide:ao,multi:!0,useFactory(){return()=>S(NF)}}];function qF(t,e){return zt([...tQ(t,e),rQ])}function oC(...t){let e=t.pop(),n=t.map(r=>r.type);return{reducer:e,types:n}}function GF(t,...e){let n=new Map;for(let r of e)for(let i of r.types){let s=n.get(i);if(s){let o=(a,l)=>r.reducer(s(a,l),l);n.set(i,o)}else n.set(i,r.reducer)}return function(r=t,i){let s=n.get(i.type);return s?s(r,i):r}}var lC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var J=function(t,e){if(!t)throw Fa(e)},Fa=function(t){return new Error("Firebase Database ("+lC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var KF=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iQ=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Zg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4,p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[d],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new cC;let p=s<<2|a>>4;if(r.push(p),c!==64){let g=a<<4&240|c>>2;if(r.push(g),h!==64){let _=c<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},cC=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},dC=function(t){let e=KF(t);return Zg.encodeByteArray(e,!0)},mh=function(t){return dC(t).replace(/\./g,"")},gh=function(t){try{return Zg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function QF(t){return YF(void 0,t)}function YF(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!sQ(n)||(t[n]=YF(t[n],e[n]));return t}function sQ(t){return t!=="__proto__"}function oQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var aQ=()=>oQ().__FIREBASE_DEFAULTS__,lQ=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&gh(t[1]);return e&&JSON.parse(e)},Jg=()=>{try{return aQ()||lQ()||cQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hC=t=>{var e,n;return(n=(e=Jg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Xg=t=>{let e=hC(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fC=()=>{var t;return(t=Jg())===null||t===void 0?void 0:t.config},pC=t=>{var e;return(e=Jg())===null||e===void 0?void 0:e[`_${t}`]};var Oa=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ey(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mh(JSON.stringify(n)),mh(JSON.stringify(o)),""].join(".")}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function uQ(){var t;let e=(t=Jg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vh(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ty(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZF(){let t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ji(){return lC.NODE_CLIENT===!0||lC.NODE_ADMIN===!0}function JF(){return!uQ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Uc(){try{return typeof indexedDB=="object"}catch{return!1}}function _h(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function mC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var dQ="FirebaseError",wn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dQ,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Er.prototype.create)}},Er=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?hQ(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new wn(i,a,r)}};function hQ(t,e){return t.replace(fQ,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var fQ=/\{\$([^}]+)}/g;function Vc(t){return JSON.parse(t)}function an(t){return JSON.stringify(t)}var XF=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=Vc(gh(s[0])||""),n=Vc(gh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var eL=function(t){let e=XF(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},tL=function(t){let e=XF(t).claims;return typeof e=="object"&&e.admin===!0};function Bi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function La(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function wh(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Eh(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function pi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(WF(s)&&WF(o)){if(!pi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function WF(t){return t!==null&&typeof t=="object"}function Ao(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jc(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Bc(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var Yg=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){let p=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(p<<1|p>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),d=1518500249):(c=s^o^a,d=1859775393):h<60?(c=s&o|a&(s|o),d=2400959708):(c=s^o^a,d=3395469782);let p=(i<<5|i>>>27)+c+l+d+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=p}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function nL(t,e){let n=new uC(t,e);return n.subscribe.bind(n)}var uC=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pQ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=aC),i.error===void 0&&(i.error=aC),i.complete===void 0&&(i.complete=aC);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function pQ(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function aC(){}function rL(t,e){return`${t} failed: ${e} argument `}var iL=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,J(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ih=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var mQ=1e3,gQ=2,yQ=4*60*60*1e3,vQ=.5;function gC(t,e=mQ,n=gQ){let r=e*Math.pow(n,t),i=Math.round(vQ*r*(Math.random()-.5)*2);return Math.min(yQ,r+i)}function ct(t){return t&&t._delegate?t._delegate:t}var Wt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Va="[DEFAULT]";var ny=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Oa;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wQ(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_Q(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _Q(t){return t===Va?void 0:t}function wQ(t){return t.instantiationMode==="EAGER"}var bh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ny(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var EQ=[],Le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Le||{}),IQ={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},bQ=Le.INFO,CQ={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},TQ=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=CQ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Hr=class{constructor(e){this.name=e,this._logLevel=bQ,this._logHandler=TQ,this._userLogHandler=null,EQ.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}};var SQ=(t,e)=>e.some(n=>t instanceof n),sL,oL;function DQ(){return sL||(sL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AQ(){return oL||(oL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var aL=new WeakMap,vC=new WeakMap,lL=new WeakMap,yC=new WeakMap,wC=new WeakMap;function xQ(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($i(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aL.set(n,t)}).catch(()=>{}),wC.set(e,t),e}function RQ(t){if(vC.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vC.set(t,e)}var _C={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vC.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cL(t){_C=t(_C)}function NQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ry(this),e,...n);return lL.set(r,e.sort?e.sort():[e]),$i(r)}:AQ().includes(t)?function(...e){return t.apply(ry(this),e),$i(aL.get(this))}:function(...e){return $i(t.apply(ry(this),e))}}function MQ(t){return typeof t=="function"?NQ(t):(t instanceof IDBTransaction&&RQ(t),SQ(t,DQ())?new Proxy(t,_C):t)}function $i(t){if(t instanceof IDBRequest)return xQ(t);if(yC.has(t))return yC.get(t);let e=MQ(t);return e!==t&&(yC.set(t,e),wC.set(e,t)),e}var ry=t=>wC.get(t);function iy(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=$i(o);return r&&o.addEventListener("upgradeneeded",l=>{r($i(o.result),l.oldVersion,l.newVersion,$i(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var PQ=["get","getKey","getAll","getAllKeys","count"],kQ=["put","add","delete","clear"],EC=new Map;function uL(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(EC.get(e))return EC.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=kQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PQ.includes(n)))return;let s=function(o,...a){return I(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&l.done]))[0]})};return EC.set(e,s),s}cL(t=>ve(U({},t),{get:(e,n,r)=>uL(e,n)||t.get(e,n,r),has:(e,n)=>!!uL(e,n)||t.has(e,n)}));var bC=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OQ(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function OQ(t){let e=t.getComponent();return e?.type==="VERSION"}var CC="@firebase/app",dL="0.10.7";var Ua=new Hr("@firebase/app"),FQ="@firebase/app-compat",LQ="@firebase/analytics-compat",VQ="@firebase/analytics",UQ="@firebase/app-check-compat",jQ="@firebase/app-check",BQ="@firebase/auth",$Q="@firebase/auth-compat",HQ="@firebase/database",zQ="@firebase/database-compat",qQ="@firebase/functions",GQ="@firebase/functions-compat",WQ="@firebase/installations",KQ="@firebase/installations-compat",QQ="@firebase/messaging",YQ="@firebase/messaging-compat",ZQ="@firebase/performance",JQ="@firebase/performance-compat",XQ="@firebase/remote-config",eY="@firebase/remote-config-compat",tY="@firebase/storage",nY="@firebase/storage-compat",rY="@firebase/firestore",iY="@firebase/vertexai-preview",sY="@firebase/firestore-compat",oY="firebase",aY="10.12.4";var TC="[DEFAULT]",lY={[CC]:"fire-core",[FQ]:"fire-core-compat",[VQ]:"fire-analytics",[LQ]:"fire-analytics-compat",[jQ]:"fire-app-check",[UQ]:"fire-app-check-compat",[BQ]:"fire-auth",[$Q]:"fire-auth-compat",[HQ]:"fire-rtdb",[zQ]:"fire-rtdb-compat",[qQ]:"fire-fn",[GQ]:"fire-fn-compat",[WQ]:"fire-iid",[KQ]:"fire-iid-compat",[QQ]:"fire-fcm",[YQ]:"fire-fcm-compat",[ZQ]:"fire-perf",[JQ]:"fire-perf-compat",[XQ]:"fire-rc",[eY]:"fire-rc-compat",[tY]:"fire-gcs",[nY]:"fire-gcs-compat",[rY]:"fire-fst",[sY]:"fire-fst-compat",[iY]:"fire-vertex","fire-js":"fire-js",[oY]:"fire-js-all"};var Ch=new Map,cY=new Map,SC=new Map;function hL(t,e){try{t.container.addComponent(e)}catch(n){Ua.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pn(t){let e=t.name;if(SC.has(e))return Ua.debug(`There were multiple attempts to register component ${e}.`),!1;SC.set(e,t);for(let n of Ch.values())hL(n,t);for(let n of cY.values())hL(n,t);return!0}function Ir(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zr(t){return t.settings!==void 0}var uY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xo=new Er("app","Firebase",uY);var DC=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xo.create("app-deleted",{appName:this._name})}};var Hi=aY;function RC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:TC,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw xo.create("bad-app-name",{appName:String(i)});if(n||(n=fC()),!n)throw xo.create("no-options");let s=Ch.get(i);if(s){if(pi(n,s.options)&&pi(r,s.config))return s;throw xo.create("duplicate-app",{appName:i})}let o=new bh(i);for(let l of SC.values())o.addComponent(l);let a=new DC(n,r,o);return Ch.set(i,a),a}function mi(t=TC){let e=Ch.get(t);if(!e&&t===TC&&fC())return RC();if(!e)throw xo.create("no-app",{appName:t});return e}function sy(){return Array.from(Ch.values())}function qe(t,e,n){var r;let i=(r=lY[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ua.warn(a.join(" "));return}Pn(new Wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var dY="firebase-heartbeat-database",hY=1,Th="firebase-heartbeat-store",IC=null;function gL(){return IC||(IC=iy(dY,hY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Th)}catch(n){console.warn(n)}}}}).catch(t=>{throw xo.create("idb-open",{originalErrorMessage:t.message})})),IC}function fY(t){return I(this,null,function*(){try{let n=(yield gL()).transaction(Th),r=yield n.objectStore(Th).get(yL(t));return yield n.done,r}catch(e){if(e instanceof wn)Ua.warn(e.message);else{let n=xo.create("idb-get",{originalErrorMessage:e?.message});Ua.warn(n.message)}}})}function fL(t,e){return I(this,null,function*(){try{let r=(yield gL()).transaction(Th,"readwrite");yield r.objectStore(Th).put(e,yL(t)),yield r.done}catch(n){if(n instanceof wn)Ua.warn(n.message);else{let r=xo.create("idb-set",{originalErrorMessage:n?.message});Ua.warn(r.message)}}})}function yL(t){return`${t.name}!${t.options.appId}`}var pY=1024,mY=30*24*60*60*1e3,AC=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new xC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pL();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=mY}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return I(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=pL(),{heartbeatsToSend:r,unsentEntries:i}=gY(this._heartbeatsCache.heartbeats),s=mh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function pL(){return new Date().toISOString().substring(0,10)}function gY(t,e=pY){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),mL(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var xC=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return Uc()?_h().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield fY(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fL(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fL(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function mL(t){return mh(JSON.stringify({version:2,heartbeats:t})).length}function yY(t){Pn(new Wt("platform-logger",e=>new bC(e),"PRIVATE")),Pn(new Wt("heartbeat",e=>new AC(e),"PRIVATE")),qe(CC,dL,t),qe(CC,dL,"esm2017"),qe("fire-js","")}yY("");var vY="firebase",_Y="10.12.4";qe(vY,_Y,"app");var br=new ds("ANGULARFIRE2_VERSION"),vL=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;function No(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ms=(t,e)=>{let n=e?[e]:sy(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ro=class{constructor(){return Ms(wY)}},wY="app-check";function $c(){}var oy=class{zone;delegate;constructor(e,n=ad){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},NC=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$c,{},$c,$c)),n.pipe(tt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},zi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new oy(Zone.current)),this.insideAngular=n.run(()=>new oy(Zone.current,Ol)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(q(ye))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ay(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function EY(t){return ay().ngZone.runOutsideAngular(()=>t())}function ja(t){return ay().ngZone.run(()=>t())}function IY(t){return bY(ay())(t)}function bY(t){return function(n){return n=n.lift(new NC(t.ngZone)),n.pipe(to(t.outsideAngular),Ti(t.insideAngular))}}var CY=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ja(()=>t.apply(void 0,r))},st=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ja(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$c,{},$c,$c))),r[s]=CY(r[s],n));let i=EY(()=>t.apply(this,r));if(!e)if(i instanceof de){let s=ay();return i.pipe(to(s.outsideAngular),Ti(s.insideAngular))}else return ja(()=>i);return i instanceof de?i.pipe(IY):i instanceof Promise?ja(()=>new Promise((s,o)=>i.then(a=>ja(()=>s(a)),a=>ja(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ja(()=>i)};var Cr=class{constructor(e){return e}},gi=class{constructor(){return sy()}};function TY(t){return t&&t.length===1?t[0]:new Cr(mi())}var MC=new $("angularfire2._apps"),SY={provide:Cr,useFactory:TY,deps:[[new bt,MC]]},DY={provide:gi,deps:[[new bt,MC]]};function AY(t){return(e,n)=>{let r=n.get(xn);qe("angularfire",br.full,"core"),qe("angularfire",br.full,"app"),qe("angular",sk.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Cr(i)}}function _L(t,...e){return zt([SY,DY,{provide:MC,useFactory:AY(t),multi:!0,deps:[ye,at,zi,...e]}])}var wL=st(RC,!0);function LL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var VL=LL,UL=new Er("auth","Firebase",LL());var fy=new Hr("@firebase/auth");function xY(t,...e){fy.logLevel<=Le.WARN&&fy.warn(`Auth (${Hi}): ${t}`,...e)}function cy(t,...e){fy.logLevel<=Le.ERROR&&fy.error(`Auth (${Hi}): ${t}`,...e)}function qr(t,...e){throw XC(t,...e)}function yi(t,...e){return XC(t,...e)}function JC(t,e,n){let r=Object.assign(Object.assign({},VL()),{[e]:n});return new Er("auth","Firebase",r).create(e,{appName:t.name})}function Os(t){return JC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RY(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qr(t,"argument-error"),JC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function XC(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UL.create(t,...e)}function Ee(t,e,...n){if(!t)throw XC(e,...n)}function Ps(t){let e="INTERNAL ASSERTION FAILED: "+t;throw cy(e),new Error(e)}function Fs(t,e){t||Ps(e)}function OC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function NY(){return EL()==="http:"||EL()==="https:"}function EL(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function MY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NY()||vh()||"connection"in navigator)?navigator.onLine:!0}function PY(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ba=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=yh()||ty()}get(){return MY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function eT(t,e){Fs(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var py=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var kY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var OY=new Ba(3e4,6e4);function Po(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ls(s,o,a,l){return I(this,arguments,function*(t,e,n,r,i={}){return jL(t,i,()=>I(this,null,function*(){let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});let h=Ao(Object.assign({key:t.config.apiKey},d)).slice(1),p=yield t._getAdditionalHeaders();return p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode),py.fetch()(BL(t,t.config.apiHost,n,h),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},c))}))})}function jL(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},kY),e);try{let i=new FC(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ly(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ly(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ly(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ly(t,"user-disabled",o);let d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw JC(t,d,c);qr(t,d)}}catch(i){if(i instanceof wn)throw i;qr(t,"network-request-failed",{message:String(i)})}})}function kh(s,o,a,l){return I(this,arguments,function*(t,e,n,r,i={}){let c=yield Ls(t,e,n,r,i);return"mfaPendingCredential"in c&&qr(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function BL(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?eT(t.config,i):`${t.config.apiScheme}://${i}`}function FY(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var FC=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),OY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ly(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=yi(t,e,r);return i.customData._tokenResponse=n,i}function IL(t){return t!==void 0&&t.enterprise!==void 0}var LC=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FY(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function LY(t,e){return I(this,null,function*(){return Ls(t,"GET","/v2/recaptchaConfig",Po(t,e))})}function VY(t,e){return I(this,null,function*(){return Ls(t,"POST","/v1/accounts:delete",e)})}function $L(t,e){return I(this,null,function*(){return Ls(t,"POST","/v1/accounts:lookup",e)})}function Sh(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function tT(t,e=!1){return I(this,null,function*(){let n=ct(t),r=yield n.getIdToken(e),i=nT(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Sh(PC(i.auth_time)),issuedAtTime:Sh(PC(i.iat)),expirationTime:Sh(PC(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function PC(t){return Number(t)*1e3}function nT(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cy("JWT malformed, contained fewer than 3 sections"),null;try{let i=gh(n);return i?JSON.parse(i):(cy("Failed to decode base64 JWT payload"),null)}catch(i){return cy("Caught error parsing JWT payload as JSON",i?.toString()),null}}function bL(t){let e=nT(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function zc(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof wn&&UY(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function UY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var VC=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ah=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sh(this.lastLoginAt),this.creationTime=Sh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function my(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield zc(t,$L(n,{idToken:r}));Ee(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?HL(s.providerUserInfo):[],a=jY(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ah(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)})}function rT(t){return I(this,null,function*(){let e=ct(t);yield my(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function jY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function HL(t){return t.map(e=>{var{providerId:n}=e,r=gp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function BY(t,e){return I(this,null,function*(){let n=yield jL(t,{},()=>I(this,null,function*(){let r=Ao({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=BL(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",py.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function $Y(t,e){return I(this,null,function*(){return Ls(t,"POST","/v2/accounts:revokeToken",Po(t,e))})}var Dh=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");let n=bL(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield BY(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ps("not implemented")}};function Mo(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var qc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=gp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ah(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield zc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return tT(this,e)}reload(){return rT(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield my(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(zr(this.auth.app))return Promise.reject(Os(this.auth));let e=yield this.getIdToken();return yield zc(this,VY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,L=(c=n.createdAt)!==null&&c!==void 0?c:void 0,H=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:W,emailVerified:ee,isAnonymous:je,providerData:le,stsTokenManager:D}=n;Ee(W&&D,e,"internal-error");let E=Dh.fromJSON(this.name,D);Ee(typeof W=="string",e,"internal-error"),Mo(h,e.name),Mo(p,e.name),Ee(typeof ee=="boolean",e,"internal-error"),Ee(typeof je=="boolean",e,"internal-error"),Mo(g,e.name),Mo(_,e.name),Mo(T,e.name),Mo(A,e.name),Mo(L,e.name),Mo(H,e.name);let b=new t({uid:W,auth:e,email:p,emailVerified:ee,displayName:h,isAnonymous:je,photoURL:_,phoneNumber:g,tenantId:T,stsTokenManager:E,createdAt:L,lastLoginAt:H});return le&&Array.isArray(le)&&(b.providerData=le.map(x=>Object.assign({},x))),A&&(b._redirectEventId=A),b}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new Dh;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield my(s),s})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];Ee(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?HL(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Dh;a.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ah(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l})}};var CL=new Map;function ks(t){Fs(t instanceof Function,"Expected a class definition");let e=CL.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CL.set(t,e),e)}var HY=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),UC=HY;function uy(t,e,n){return`firebase:${t}:${e}:${n}`}var gy=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=uy(this.userKey,i.apiKey,s),this.fullPersistenceKey=uy("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?qc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t(ks(UC),e,r);let i=(yield Promise.all(n.map(c=>I(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||ks(UC),o=uy(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let d=yield c._get(o);if(d){let h=qc._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}let l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t(s,e,r):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(c=>I(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new t(s,e,r))})}};function TL(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KL(e))return"Blackberry";if(QL(e))return"Webos";if(iT(e))return"Safari";if((e.includes("chrome/")||qL(e))&&!e.includes("edge/"))return"Chrome";if(WL(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function zL(t=nn()){return/firefox\//i.test(t)}function iT(t=nn()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qL(t=nn()){return/crios\//i.test(t)}function GL(t=nn()){return/iemobile/i.test(t)}function WL(t=nn()){return/android/i.test(t)}function KL(t=nn()){return/blackberry/i.test(t)}function QL(t=nn()){return/webos/i.test(t)}function Cy(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zY(t=nn()){var e;return Cy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qY(){return ZF()&&document.documentMode===10}function YL(t=nn()){return Cy(t)||WL(t)||QL(t)||KL(t)||/windows phone/i.test(t)||GL(t)}function GY(){try{return!!(window&&window!==window.top)}catch{return!1}}function ZL(t,e=[]){let n;switch(t){case"Browser":n=TL(nn());break;case"Worker":n=`${TL(nn())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hi}/${r}`}var jC=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function WY(n){return I(this,arguments,function*(t,e={}){return Ls(t,"GET","/v2/passwordPolicy",Po(t,e))})}var KY=6,BC=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:KY,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var $C=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yy(this),this.idTokenSubscription=new yy(this),this.beforeStateQueue=new jC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ks(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield gy.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield $L(this,{idToken:e}),r=yield qc._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(zr(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield my(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=PY()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(zr(this.app))return Promise.reject(Os(this));let n=e?ct(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return zr(this.app)?Promise.reject(Os(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return zr(this.app)?Promise.reject(Os(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(ks(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield WY(this),n=new BC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Er("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield $Y(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ks(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=yield gy.create(this,[ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&xY(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ko(t){return ct(t)}var yy=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=nL(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ty={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QY(t){Ty=t}function JL(t){return Ty.loadJS(t)}function YY(){return Ty.recaptchaEnterpriseScript}function ZY(){return Ty.gapiScript}function XL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var JY="recaptcha-enterprise",XY="NO_RECAPTCHA",HC=class{constructor(e){this.type=JY,this.auth=ko(e)}verify(e="verify",n=!1){return I(this,null,function*(){function r(s){return I(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>I(this,null,function*(){LY(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new LC(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})}))})}function i(s,o,a){let l=window.grecaptcha;IL(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(XY)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&IL(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=YY();l.length!==0&&(l+=a),JL(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function SL(t,e,n,r=!1){return I(this,null,function*(){let i=new HC(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function zC(t,e,n,r){return I(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield SL(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>I(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield SL(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function sT(t,e){let n=Ir(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(pi(s,e??{}))return i;qr(i,"already-initialized")}return n.initialize({options:e})}function eZ(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ks);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function oT(t,e,n){let r=ko(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=e2(e),{host:o,port:a}=tZ(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||nZ()}function e2(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tZ(t){let e=e2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:DL(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:DL(o)}}}function DL(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function nZ(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Gc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ps("not implemented")}_getIdTokenResponse(e){return Ps("not implemented")}_linkToIdToken(e,n){return Ps("not implemented")}_getReauthenticationResolver(e){return Ps("not implemented")}};function rZ(t,e){return I(this,null,function*(){return Ls(t,"POST","/v1/accounts:signUp",e)})}function iZ(t,e){return I(this,null,function*(){return kh(t,"POST","/v1/accounts:signInWithPassword",Po(t,e))})}function sZ(t,e){return I(this,null,function*(){return kh(t,"POST","/v1/accounts:signInWithEmailLink",Po(t,e))})}function oZ(t,e){return I(this,null,function*(){return kh(t,"POST","/v1/accounts:signInWithEmailLink",Po(t,e))})}var xh=class t extends Gc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zC(e,n,"signInWithPassword",iZ);case"emailLink":return sZ(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}})}_linkToIdToken(e,n){return I(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zC(e,r,"signUpPassword",rZ);case"emailLink":return oZ(e,{idToken:n,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Hc(t,e){return I(this,null,function*(){return kh(t,"POST","/v1/accounts:signInWithIdp",Po(t,e))})}var aZ="http://localhost",Rh=class t extends Gc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=gp(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return Hc(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Hc(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Hc(e,n)}buildRequest(){let e={requestUri:aZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ao(n)}return e}};function lZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cZ(t){let e=jc(Bc(t)).link,n=e?jc(Bc(e)).deep_link_id:null,r=jc(Bc(t)).deep_link_id;return(r?jc(Bc(r)).link:null)||r||n||e||t}var vy=class t{constructor(e){var n,r,i,s,o,a;let l=jc(Bc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=lZ((i=l.mode)!==null&&i!==void 0?i:null);Ee(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=cZ(e);try{return new t(n)}catch{return null}}};var t2=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return xh._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=vy.parseLink(r);return Ee(i,"argument-error"),xh._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Nh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Mh=class extends Nh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Kc=(()=>{class t extends Mh{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Rh._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})(),aT=(()=>{class t extends Mh{constructor(){super("github.com")}static credential(n){return Rh._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com";return t})();function uZ(t,e){return I(this,null,function*(){return kh(t,"POST","/v1/accounts:signUp",Po(t,e))})}var Wc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return I(this,null,function*(){let s=yield qc._fromIdTokenResponse(e,r,i),o=AL(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=AL(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function AL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var qC=class t extends wn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function n2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qC._fromErrorAndOperation(t,s,e,r):s})}function dZ(t,e,n=!1){return I(this,null,function*(){let r=yield zc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Wc._forOperation(t,"link",r)})}function hZ(t,e,n=!1){return I(this,null,function*(){let{auth:r}=t;if(zr(r.app))return Promise.reject(Os(r));let i="reauthenticate";try{let s=yield zc(t,n2(r,i,e,t),n);Ee(s.idToken,r,"internal-error");let o=nT(s.idToken);Ee(o,r,"internal-error");let{sub:a}=o;return Ee(t.uid===a,r,"user-mismatch"),Wc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&qr(r,"user-mismatch"),s}})}function r2(t,e,n=!1){return I(this,null,function*(){if(zr(t.app))return Promise.reject(Os(t));let r="signIn",i=yield n2(t,r,e),s=yield Wc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function lT(t,e){return I(this,null,function*(){return r2(ko(t),e)})}function i2(t){return I(this,null,function*(){let e=ko(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function cT(t,e,n){return I(this,null,function*(){if(zr(t.app))return Promise.reject(Os(t));let r=ko(t),o=yield zC(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uZ).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&i2(t),l}),a=yield Wc._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function uT(t,e,n){return zr(t.app)?Promise.reject(Os(t)):lT(ct(t),t2.credential(e,n)).catch(r=>I(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&i2(t),r}))}function fZ(t,e){return I(this,null,function*(){return Ls(t,"POST","/v1/accounts:update",e)})}function dT(r,i){return I(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let s=ct(t),a={idToken:yield s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=yield zc(s,fZ(s.auth,a));s.displayName=l.displayName||null,s.photoURL=l.photoUrl||null;let c=s.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=s.displayName,c.photoURL=s.photoURL),yield s._updateTokensIfNecessary(l)})}function Sy(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function hT(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function Dy(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}function fT(t){return ct(t).signOut()}var _y="__sak";var wy=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_y,"1"),this.storage.removeItem(_y),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function pZ(){let t=nn();return iT(t)||Cy(t)}var mZ=1e3,gZ=10,yZ=(()=>{class t extends wy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=pZ()&&GY(),this.fallbackToPolling=YL(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);qY()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,gZ):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},mZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return I(this,null,function*(){yield Xs(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return I(this,null,function*(){let r=yield Xs(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return I(this,null,function*(){yield Xs(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),s2=yZ;var vZ=(()=>{class t extends wy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),pT=vZ;function _Z(t){return Promise.all(t.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var wZ=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return I(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(a).map(d=>I(this,null,function*(){return d(r.origin,o)})),c=yield _Z(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function mT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var GC=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=mT("",20);i.port1.start();let d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function qi(){return window}function EZ(t){qi().location.href=t}function o2(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}function IZ(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function bZ(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CZ(){return o2()?self:null}var a2="firebaseLocalStorageDb",TZ=1,Ey="firebaseLocalStorage",l2="fbase_key",$a=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Ay(t,e){return t.transaction([Ey],e?"readwrite":"readonly").objectStore(Ey)}function SZ(){let t=indexedDB.deleteDatabase(a2);return new $a(t).toPromise()}function WC(){let t=indexedDB.open(a2,TZ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ey,{keyPath:l2})}catch(i){n(i)}}),t.addEventListener("success",()=>I(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Ey)?e(r):(r.close(),yield SZ(),e(yield WC()))}))})}function xL(t,e,n){return I(this,null,function*(){let r=Ay(t,!0).put({[l2]:e,value:n});return new $a(r).toPromise()})}function DZ(t,e){return I(this,null,function*(){let n=Ay(t,!1).get(e),r=yield new $a(n).toPromise();return r===void 0?null:r.value})}function RL(t,e){let n=Ay(t,!0).delete(e);return new $a(n).toPromise()}var AZ=800,xZ=3,RZ=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield WC(),this.db)})}_withRetries(n){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>xZ)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return o2()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=wZ._getInstance(CZ()),this.receiver._subscribe("keyChanged",(n,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var n,r;if(this.activeServiceWorker=yield IZ(),!this.activeServiceWorker)return;this.sender=new GC(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||bZ()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let n=yield WC();return yield xL(n,_y,"1"),yield RL(n,_y),!0}catch{}return!1})}_withPendingWrite(n){return I(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>xL(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return I(this,null,function*(){let r=yield this._withRetries(i=>DZ(i,n));return this.localCache[n]=r,r})}_remove(n){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>RL(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return I(this,null,function*(){let n=yield this._withRetries(s=>{let o=Ay(s,!1).getAll();return new $a(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),AZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),c2=RZ;var Lve=XL("rcb"),Vve=new Ba(3e4,6e4);function u2(t,e){return e?ks(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ph=class extends Gc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hc(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function NZ(t){return r2(t.auth,new Ph(t),t.bypassAuthState)}function MZ(t){let{auth:e,user:n}=t;return Ee(n,e,"internal-error"),hZ(n,new Ph(t),t.bypassAuthState)}function PZ(t){return I(this,null,function*(){let{auth:e,user:n}=t;return Ee(n,e,"internal-error"),dZ(n,new Ph(t),t.bypassAuthState)})}var Iy=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NZ;case"linkViaPopup":case"linkViaRedirect":return PZ;case"reauthViaPopup":case"reauthViaRedirect":return MZ;default:qr(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var kZ=new Ba(2e3,1e4);function gT(t,e,n){return I(this,null,function*(){if(zr(t.app))return Promise.reject(yi(t,"operation-not-supported-in-this-environment"));let r=ko(t);RY(t,e,Nh);let i=u2(r,n);return new OZ(r,"signInViaPopup",e,i).executeNotNull()})}var OZ=(()=>{class t extends Iy{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return I(this,null,function*(){let n=yield this.execute();return Ee(n,this.auth,"internal-error"),n})}onExecution(){return I(this,null,function*(){Fs(this.filter.length===1,"Popup operations only handle one event");let n=mT();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,kZ.get())};n()}}t.currentPopupAction=null;return t})(),FZ="pendingRedirect",dy=new Map,KC=class t extends Iy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=dy.get(this.auth._key());if(!e){try{let r=(yield LZ(this.resolver,this.auth))?yield Xs(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dy.set(this.auth._key(),e)}return this.bypassAuthState||dy.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return Xs(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Xs(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function LZ(t,e){return I(this,null,function*(){let n=jZ(e),r=UZ(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function VZ(t,e){dy.set(t._key(),e)}function UZ(t){return ks(t._redirectPersistence)}function jZ(t){return uy(FZ,t.config.apiKey,t.name)}function BZ(t,e,n=!1){return I(this,null,function*(){if(zr(t.app))return Promise.reject(Os(t));let r=ko(t),i=u2(r,e),o=yield new KC(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var $Z=10*60*1e3,QC=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HZ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!d2(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$Z&&this.cachedEventUids.clear(),this.cachedEventUids.has(NL(e))}saveEventToCache(e){this.cachedEventUids.add(NL(e)),this.lastProcessedEventTime=Date.now()}};function NL(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function d2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function HZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d2(t);default:return!1}}function zZ(n){return I(this,arguments,function*(t,e={}){return Ls(t,"GET","/v1/projects",e)})}var qZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GZ=/^https?/;function WZ(t){return I(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield zZ(t);for(let n of e)try{if(KZ(n))return}catch{}qr(t,"unauthorized-domain")})}function KZ(t){let e=OC(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!GZ.test(n))return!1;if(qZ.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var QZ=new Ba(3e4,6e4);function ML(){let t=qi().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YZ(t){return new Promise((e,n)=>{var r,i,s;function o(){ML(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ML(),n(yi(t,"network-request-failed"))},timeout:QZ.get()})}if(!((i=(r=qi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=qi().gapi)===null||s===void 0)&&s.load)o();else{let a=XL("iframefcb");return qi()[a]=()=>{gapi.load?o():n(yi(t,"network-request-failed"))},JL(`${ZY()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw hy=null,e})}var hy=null;function ZZ(t){return hy=hy||YZ(t),hy}var JZ=new Ba(5e3,15e3),XZ="__/auth/iframe",eJ="emulator/auth/iframe",tJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rJ(t){let e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?eT(e,eJ):`https://${t.config.authDomain}/${XZ}`,r={apiKey:e.apiKey,appName:t.name,v:Hi},i=nJ.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ao(r).slice(1)}`}function iJ(t){return I(this,null,function*(){let e=yield ZZ(t),n=qi().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:rJ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tJ,dontclear:!0},r=>new Promise((i,s)=>I(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=yi(t,"network-request-failed"),a=qi().setTimeout(()=>{s(o)},JZ.get());function l(){qi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var sJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oJ=500,aJ=600,lJ="_blank",cJ="http://localhost",by=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function uJ(t,e,n,r=oJ,i=aJ){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},sJ),{width:r.toString(),height:i.toString(),top:s,left:o}),c=nn().toLowerCase();n&&(a=qL(c)?lJ:n),zL(c)&&(e=e||cJ,l.scrollbars="yes");let d=Object.entries(l).reduce((p,[g,_])=>`${p}${g}=${_},`,"");if(zY(c)&&a!=="_self")return dJ(e||"",a),new by(null);let h=window.open(e||"",a,d);Ee(h,t,"popup-blocked");try{h.focus()}catch{}return new by(h)}function dJ(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var hJ="__/auth/handler",fJ="emulator/auth/handler",pJ=encodeURIComponent("fac");function PL(t,e,n,r,i,s){return I(this,null,function*(){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hi,eventId:i};if(e instanceof Nh){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",wh(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Mh){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let l=yield t._getAppCheckToken(),c=l?`#${pJ}=${encodeURIComponent(l)}`:"";return`${mJ(t)}?${Ao(a).slice(1)}${c}`})}function mJ({config:t}){return t.emulator?eT(t,fJ):`https://${t.authDomain}/${hJ}`}var kC="webStorageSupport",YC=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pT,this._completeRedirectFn=BZ,this._overrideRedirectResult=VZ}_openPopup(e,n,r,i){return I(this,null,function*(){var s;Fs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield PL(e,n,r,OC(),i);return uJ(e,o,mT())})}_openRedirect(e,n,r,i){return I(this,null,function*(){yield this._originValidation(e);let s=yield PL(e,n,r,OC(),i);return EZ(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fs(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return I(this,null,function*(){let n=yield iJ(e),r=new QC(e);return n.register("authEvent",i=>(Ee(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kC,{type:kC},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[kC];o!==void 0&&n(!!o),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WZ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YL()||iT()||Cy()}},h2=YC;var kL="@firebase/auth",OL="1.7.5";var ZC=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function gJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yJ(t){Pn(new Wt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZL(t)},c=new $C(r,i,s,l);return eZ(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pn(new Wt("auth-internal",e=>{let n=ko(e.getProvider("auth").getImmediate());return(r=>new ZC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qe(kL,OL,gJ(t)),qe(kL,OL,"esm2017")}var vJ=5*60,_J=pC("authIdTokenMaxAge")||vJ,FL=null,wJ=t=>e=>I(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_J)return;let i=n?.token;FL!==i&&(FL=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function yT(t=mi()){let e=Ir(t,"auth");if(e.isInitialized())return e.getImmediate();let n=sT(t,{popupRedirectResolver:h2,persistence:[c2,s2,pT]}),r=pC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=wJ(s.toString());hT(n,o,()=>o(n.currentUser)),Sy(n,a=>o(a))}}let i=hC("auth");return i&&oT(n,`http://${i}`),n}function EJ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}QY({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=yi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",EJ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yJ("Browser");function p2(t){return new de(function(e){var n=Dy(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var m2="auth",Yn=class{constructor(e){return e}},Ha=class{constructor(){return Ms(m2)}};var vT=new $("angularfire2.auth-instances");function aX(t,e){let n=No(m2,t,e);return n&&new Yn(n)}function lX(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Yn(r)}}var cX={provide:Ha,deps:[[new bt,vT]]},uX={provide:Yn,useFactory:aX,deps:[[new bt,vT],Cr]};function _T(t,...e){return qe("angularfire",br.full,"auth"),zt([uX,cX,{provide:vT,useFactory:lX(t),multi:!0,deps:[ye,at,zi,gi,[new bt,Ro],...e]}])}var g2=st(p2,!0);var xy=st(cT,!0);var wT=st(yT,!0);var Ry=st(uT,!0);var Ny=st(gT,!0);var y2=st(fT,!0);var My=st(dT,!0);var v2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_2={};var Oo,ET;(function(){var t;function e(D,E){function b(){}b.prototype=E.prototype,D.D=E.prototype,D.prototype=new b,D.prototype.constructor=D,D.C=function(x,M,k){for(var C=Array(arguments.length-2),xr=2;xr<arguments.length;xr++)C[xr-2]=arguments[xr];return E.prototype[M].apply(x,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,E,b){b||(b=0);var x=Array(16);if(typeof E=="string")for(var M=0;16>M;++M)x[M]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(M=0;16>M;++M)x[M]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=D.g[0],b=D.g[1],M=D.g[2];var k=D.g[3],C=E+(k^b&(M^k))+x[0]+3614090360&4294967295;E=b+(C<<7&4294967295|C>>>25),C=k+(M^E&(b^M))+x[1]+3905402710&4294967295,k=E+(C<<12&4294967295|C>>>20),C=M+(b^k&(E^b))+x[2]+606105819&4294967295,M=k+(C<<17&4294967295|C>>>15),C=b+(E^M&(k^E))+x[3]+3250441966&4294967295,b=M+(C<<22&4294967295|C>>>10),C=E+(k^b&(M^k))+x[4]+4118548399&4294967295,E=b+(C<<7&4294967295|C>>>25),C=k+(M^E&(b^M))+x[5]+1200080426&4294967295,k=E+(C<<12&4294967295|C>>>20),C=M+(b^k&(E^b))+x[6]+2821735955&4294967295,M=k+(C<<17&4294967295|C>>>15),C=b+(E^M&(k^E))+x[7]+4249261313&4294967295,b=M+(C<<22&4294967295|C>>>10),C=E+(k^b&(M^k))+x[8]+1770035416&4294967295,E=b+(C<<7&4294967295|C>>>25),C=k+(M^E&(b^M))+x[9]+2336552879&4294967295,k=E+(C<<12&4294967295|C>>>20),C=M+(b^k&(E^b))+x[10]+4294925233&4294967295,M=k+(C<<17&4294967295|C>>>15),C=b+(E^M&(k^E))+x[11]+2304563134&4294967295,b=M+(C<<22&4294967295|C>>>10),C=E+(k^b&(M^k))+x[12]+1804603682&4294967295,E=b+(C<<7&4294967295|C>>>25),C=k+(M^E&(b^M))+x[13]+4254626195&4294967295,k=E+(C<<12&4294967295|C>>>20),C=M+(b^k&(E^b))+x[14]+2792965006&4294967295,M=k+(C<<17&4294967295|C>>>15),C=b+(E^M&(k^E))+x[15]+1236535329&4294967295,b=M+(C<<22&4294967295|C>>>10),C=E+(M^k&(b^M))+x[1]+4129170786&4294967295,E=b+(C<<5&4294967295|C>>>27),C=k+(b^M&(E^b))+x[6]+3225465664&4294967295,k=E+(C<<9&4294967295|C>>>23),C=M+(E^b&(k^E))+x[11]+643717713&4294967295,M=k+(C<<14&4294967295|C>>>18),C=b+(k^E&(M^k))+x[0]+3921069994&4294967295,b=M+(C<<20&4294967295|C>>>12),C=E+(M^k&(b^M))+x[5]+3593408605&4294967295,E=b+(C<<5&4294967295|C>>>27),C=k+(b^M&(E^b))+x[10]+38016083&4294967295,k=E+(C<<9&4294967295|C>>>23),C=M+(E^b&(k^E))+x[15]+3634488961&4294967295,M=k+(C<<14&4294967295|C>>>18),C=b+(k^E&(M^k))+x[4]+3889429448&4294967295,b=M+(C<<20&4294967295|C>>>12),C=E+(M^k&(b^M))+x[9]+568446438&4294967295,E=b+(C<<5&4294967295|C>>>27),C=k+(b^M&(E^b))+x[14]+3275163606&4294967295,k=E+(C<<9&4294967295|C>>>23),C=M+(E^b&(k^E))+x[3]+4107603335&4294967295,M=k+(C<<14&4294967295|C>>>18),C=b+(k^E&(M^k))+x[8]+1163531501&4294967295,b=M+(C<<20&4294967295|C>>>12),C=E+(M^k&(b^M))+x[13]+2850285829&4294967295,E=b+(C<<5&4294967295|C>>>27),C=k+(b^M&(E^b))+x[2]+4243563512&4294967295,k=E+(C<<9&4294967295|C>>>23),C=M+(E^b&(k^E))+x[7]+1735328473&4294967295,M=k+(C<<14&4294967295|C>>>18),C=b+(k^E&(M^k))+x[12]+2368359562&4294967295,b=M+(C<<20&4294967295|C>>>12),C=E+(b^M^k)+x[5]+4294588738&4294967295,E=b+(C<<4&4294967295|C>>>28),C=k+(E^b^M)+x[8]+2272392833&4294967295,k=E+(C<<11&4294967295|C>>>21),C=M+(k^E^b)+x[11]+1839030562&4294967295,M=k+(C<<16&4294967295|C>>>16),C=b+(M^k^E)+x[14]+4259657740&4294967295,b=M+(C<<23&4294967295|C>>>9),C=E+(b^M^k)+x[1]+2763975236&4294967295,E=b+(C<<4&4294967295|C>>>28),C=k+(E^b^M)+x[4]+1272893353&4294967295,k=E+(C<<11&4294967295|C>>>21),C=M+(k^E^b)+x[7]+4139469664&4294967295,M=k+(C<<16&4294967295|C>>>16),C=b+(M^k^E)+x[10]+3200236656&4294967295,b=M+(C<<23&4294967295|C>>>9),C=E+(b^M^k)+x[13]+681279174&4294967295,E=b+(C<<4&4294967295|C>>>28),C=k+(E^b^M)+x[0]+3936430074&4294967295,k=E+(C<<11&4294967295|C>>>21),C=M+(k^E^b)+x[3]+3572445317&4294967295,M=k+(C<<16&4294967295|C>>>16),C=b+(M^k^E)+x[6]+76029189&4294967295,b=M+(C<<23&4294967295|C>>>9),C=E+(b^M^k)+x[9]+3654602809&4294967295,E=b+(C<<4&4294967295|C>>>28),C=k+(E^b^M)+x[12]+3873151461&4294967295,k=E+(C<<11&4294967295|C>>>21),C=M+(k^E^b)+x[15]+530742520&4294967295,M=k+(C<<16&4294967295|C>>>16),C=b+(M^k^E)+x[2]+3299628645&4294967295,b=M+(C<<23&4294967295|C>>>9),C=E+(M^(b|~k))+x[0]+4096336452&4294967295,E=b+(C<<6&4294967295|C>>>26),C=k+(b^(E|~M))+x[7]+1126891415&4294967295,k=E+(C<<10&4294967295|C>>>22),C=M+(E^(k|~b))+x[14]+2878612391&4294967295,M=k+(C<<15&4294967295|C>>>17),C=b+(k^(M|~E))+x[5]+4237533241&4294967295,b=M+(C<<21&4294967295|C>>>11),C=E+(M^(b|~k))+x[12]+1700485571&4294967295,E=b+(C<<6&4294967295|C>>>26),C=k+(b^(E|~M))+x[3]+2399980690&4294967295,k=E+(C<<10&4294967295|C>>>22),C=M+(E^(k|~b))+x[10]+4293915773&4294967295,M=k+(C<<15&4294967295|C>>>17),C=b+(k^(M|~E))+x[1]+2240044497&4294967295,b=M+(C<<21&4294967295|C>>>11),C=E+(M^(b|~k))+x[8]+1873313359&4294967295,E=b+(C<<6&4294967295|C>>>26),C=k+(b^(E|~M))+x[15]+4264355552&4294967295,k=E+(C<<10&4294967295|C>>>22),C=M+(E^(k|~b))+x[6]+2734768916&4294967295,M=k+(C<<15&4294967295|C>>>17),C=b+(k^(M|~E))+x[13]+1309151649&4294967295,b=M+(C<<21&4294967295|C>>>11),C=E+(M^(b|~k))+x[4]+4149444226&4294967295,E=b+(C<<6&4294967295|C>>>26),C=k+(b^(E|~M))+x[11]+3174756917&4294967295,k=E+(C<<10&4294967295|C>>>22),C=M+(E^(k|~b))+x[2]+718787259&4294967295,M=k+(C<<15&4294967295|C>>>17),C=b+(k^(M|~E))+x[9]+3951481745&4294967295,D.g[0]=D.g[0]+E&4294967295,D.g[1]=D.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+k&4294967295}r.prototype.u=function(D,E){E===void 0&&(E=D.length);for(var b=E-this.blockSize,x=this.B,M=this.h,k=0;k<E;){if(M==0)for(;k<=b;)i(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<E;)if(x[M++]=D.charCodeAt(k++),M==this.blockSize){i(this,x),M=0;break}}else for(;k<E;)if(x[M++]=D[k++],M==this.blockSize){i(this,x),M=0;break}}this.h=M,this.o+=E},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var E=1;E<D.length-8;++E)D[E]=0;var b=8*this.o;for(E=D.length-8;E<D.length;++E)D[E]=b&255,b/=256;for(this.u(D),D=Array(16),E=b=0;4>E;++E)for(var x=0;32>x;x+=8)D[b++]=this.g[E]>>>x&255;return D};function s(D,E){var b=a;return Object.prototype.hasOwnProperty.call(b,D)?b[D]:b[D]=E(D)}function o(D,E){this.h=E;for(var b=[],x=!0,M=D.length-1;0<=M;M--){var k=D[M]|0;x&&k==E||(b[M]=k,x=!1)}this.g=b}var a={};function l(D){return-128<=D&&128>D?s(D,function(E){return new o([E|0],0>E?-1:0)}):new o([D|0],0>D?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return h;if(0>D)return A(c(-D));for(var E=[],b=1,x=0;D>=b;x++)E[x]=D/b|0,b*=4294967296;return new o(E,0)}function d(D,E){if(D.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(D.charAt(0)=="-")return A(d(D.substring(1),E));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=c(Math.pow(E,8)),x=h,M=0;M<D.length;M+=8){var k=Math.min(8,D.length-M),C=parseInt(D.substring(M,M+k),E);8>k?(k=c(Math.pow(E,k)),x=x.j(k).add(c(C))):(x=x.j(b),x=x.add(c(C)))}return x}var h=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-A(this).m();for(var D=0,E=1,b=0;b<this.g.length;b++){var x=this.i(b);D+=(0<=x?x:4294967296+x)*E,E*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(_(this))return"0";if(T(this))return"-"+A(this).toString(D);for(var E=c(Math.pow(D,6)),b=this,x="";;){var M=ee(b,E).g;b=L(b,M.j(E));var k=((0<b.g.length?b.g[0]:b.h)>>>0).toString(D);if(b=M,_(b))return k+x;for(;6>k.length;)k="0"+k;x=k+x}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function _(D){if(D.h!=0)return!1;for(var E=0;E<D.g.length;E++)if(D.g[E]!=0)return!1;return!0}function T(D){return D.h==-1}t.l=function(D){return D=L(this,D),T(D)?-1:_(D)?0:1};function A(D){for(var E=D.g.length,b=[],x=0;x<E;x++)b[x]=~D.g[x];return new o(b,~D.h).add(p)}t.abs=function(){return T(this)?A(this):this},t.add=function(D){for(var E=Math.max(this.g.length,D.g.length),b=[],x=0,M=0;M<=E;M++){var k=x+(this.i(M)&65535)+(D.i(M)&65535),C=(k>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);x=C>>>16,k&=65535,C&=65535,b[M]=C<<16|k}return new o(b,b[b.length-1]&-2147483648?-1:0)};function L(D,E){return D.add(A(E))}t.j=function(D){if(_(this)||_(D))return h;if(T(this))return T(D)?A(this).j(A(D)):A(A(this).j(D));if(T(D))return A(this.j(A(D)));if(0>this.l(g)&&0>D.l(g))return c(this.m()*D.m());for(var E=this.g.length+D.g.length,b=[],x=0;x<2*E;x++)b[x]=0;for(x=0;x<this.g.length;x++)for(var M=0;M<D.g.length;M++){var k=this.i(x)>>>16,C=this.i(x)&65535,xr=D.i(M)>>>16,Ws=D.i(M)&65535;b[2*x+2*M]+=C*Ws,H(b,2*x+2*M),b[2*x+2*M+1]+=k*Ws,H(b,2*x+2*M+1),b[2*x+2*M+1]+=C*xr,H(b,2*x+2*M+1),b[2*x+2*M+2]+=k*xr,H(b,2*x+2*M+2)}for(x=0;x<E;x++)b[x]=b[2*x+1]<<16|b[2*x];for(x=E;x<2*E;x++)b[x]=0;return new o(b,0)};function H(D,E){for(;(D[E]&65535)!=D[E];)D[E+1]+=D[E]>>>16,D[E]&=65535,E++}function W(D,E){this.g=D,this.h=E}function ee(D,E){if(_(E))throw Error("division by zero");if(_(D))return new W(h,h);if(T(D))return E=ee(A(D),E),new W(A(E.g),A(E.h));if(T(E))return E=ee(D,A(E)),new W(A(E.g),E.h);if(30<D.g.length){if(T(D)||T(E))throw Error("slowDivide_ only works with positive integers.");for(var b=p,x=E;0>=x.l(D);)b=je(b),x=je(x);var M=le(b,1),k=le(x,1);for(x=le(x,2),b=le(b,2);!_(x);){var C=k.add(x);0>=C.l(D)&&(M=M.add(b),k=C),x=le(x,1),b=le(b,1)}return E=L(D,M.j(E)),new W(M,E)}for(M=h;0<=D.l(E);){for(b=Math.max(1,Math.floor(D.m()/E.m())),x=Math.ceil(Math.log(b)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),k=c(b),C=k.j(E);T(C)||0<C.l(D);)b-=x,k=c(b),C=k.j(E);_(k)&&(k=p),M=M.add(k),D=L(D,C)}return new W(M,D)}t.A=function(D){return ee(this,D).h},t.and=function(D){for(var E=Math.max(this.g.length,D.g.length),b=[],x=0;x<E;x++)b[x]=this.i(x)&D.i(x);return new o(b,this.h&D.h)},t.or=function(D){for(var E=Math.max(this.g.length,D.g.length),b=[],x=0;x<E;x++)b[x]=this.i(x)|D.i(x);return new o(b,this.h|D.h)},t.xor=function(D){for(var E=Math.max(this.g.length,D.g.length),b=[],x=0;x<E;x++)b[x]=this.i(x)^D.i(x);return new o(b,this.h^D.h)};function je(D){for(var E=D.g.length+1,b=[],x=0;x<E;x++)b[x]=D.i(x)<<1|D.i(x-1)>>>31;return new o(b,D.h)}function le(D,E){var b=E>>5;E%=32;for(var x=D.g.length-b,M=[],k=0;k<x;k++)M[k]=0<E?D.i(k+b)>>>E|D.i(k+b+1)<<32-E:D.i(k+b);return new o(M,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ET=_2.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Oo=_2.Integer=o}).apply(typeof v2<"u"?v2:typeof self<"u"?self:typeof window<"u"?window:{});var Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vs={};var IT,bT,Qc,CT,Oh,ky,TT,ST,DT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,m){return u==Array.prototype||u==Object.prototype||(u[f]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Py=="object"&&Py];for(var f=0;f<u.length;++f){var m=u[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var m=r;u=u.split(".");for(var v=0;v<u.length-1;v++){var P=u[v];if(!(P in m))break e;m=m[P]}u=u[u.length-1],v=m[u],f=f(v),f!=v&&f!=null&&e(m,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var m=0,v=!1,P={next:function(){if(!v&&m<u.length){var F=m++;return{value:f(F,u[F]),done:!1}}return v=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,m){return m})}});var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,m){return u.call.apply(u.bind,arguments)}function h(u,f,m){if(!u)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,v),u.apply(f,P)}}return function(){return u.apply(f,arguments)}}function p(u,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function g(u,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),u.apply(this,v)}}function _(u,f){function m(){}m.prototype=f.prototype,u.aa=f.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(v,P,F){for(var K=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)K[dt-2]=arguments[dt];return f.prototype[P].apply(v,K)}}function T(u){let f=u.length;if(0<f){let m=Array(f);for(let v=0;v<f;v++)m[v]=u[v];return m}return[]}function A(u,f){for(let m=1;m<arguments.length;m++){let v=arguments[m];if(l(v)){let P=u.length||0,F=v.length||0;u.length=P+F;for(let K=0;K<F;K++)u[P+K]=v[K]}else u.push(v)}}class L{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function H(u){return/^[\s\xa0]*$/.test(u)}function W(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function ee(u){return ee[" "](u),u}ee[" "]=function(){};var je=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function le(u,f,m){for(let v in u)f.call(m,u[v],v,u)}function D(u,f){for(let m in u)f.call(void 0,u[m],m,u)}function E(u){let f={};for(let m in u)f[m]=u[m];return f}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,f){let m,v;for(let P=1;P<arguments.length;P++){v=arguments[P];for(m in v)u[m]=v[m];for(let F=0;F<b.length;F++)m=b[F],Object.prototype.hasOwnProperty.call(v,m)&&(u[m]=v[m])}}function M(u){var f=1;u=u.split(":");let m=[];for(;0<f&&u.length;)m.push(u.shift()),f--;return u.length&&m.push(u.join(":")),m}function k(u){a.setTimeout(()=>{throw u},0)}function C(){var u=Ve;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class xr{constructor(){this.h=this.g=null}add(f,m){let v=Ws.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var Ws=new L(()=>new re,u=>u.reset());class re{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,fe=!1,Ve=new xr,Ut=()=>{let u=a.Promise.resolve(void 0);ce=()=>{u.then(Rr)}};var Rr=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(m){k(m)}var f=Ws;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}fe=!1};function Mt(){this.s=this.s,this.C=this.C}Mt.prototype.s=!1,Mt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Mt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function wt(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}wt.prototype.h=function(){this.defaultPrevented=!0};var Et=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return u}();function Ks(u,f){if(wt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,v=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(je){e:{try{ee(f.nodeName);var P=!0;break e}catch{}P=!1}P||(f=null)}}else m=="mouseover"?f=u.fromElement:m=="mouseout"&&(f=u.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:P_[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ks.aa.h.call(this)}}_(Ks,wt);var P_={2:"touch",3:"pen",4:"mouse"};Ks.prototype.h=function(){Ks.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),rs=0;function Xn(u,f,m,v,P){this.listener=u,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=P,this.key=++rs,this.da=this.fa=!1}function is(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qs(u){this.src=u,this.g={},this.h=0}Qs.prototype.add=function(u,f,m,v,P){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var K=O_(u,f,v,P);return-1<K?(f=u[K],m||(f.fa=!1)):(f=new Xn(f,this.src,F,!!v,P),f.fa=m,u.push(f)),f};function k_(u,f){var m=f.type;if(m in u.g){var v=u.g[m],P=Array.prototype.indexOf.call(v,f,void 0),F;(F=0<=P)&&Array.prototype.splice.call(v,P,1),F&&(is(f),u.g[m].length==0&&(delete u.g[m],u.h--))}}function O_(u,f,m,v){for(var P=0;P<u.length;++P){var F=u[P];if(!F.da&&F.listener==f&&F.capture==!!m&&F.ha==v)return P}return-1}var F_="closure_lm_"+(1e6*Math.random()|0),L_={};function U1(u,f,m,v,P){if(v&&v.once)return B1(u,f,m,v,P);if(Array.isArray(f)){for(var F=0;F<f.length;F++)U1(u,f[F],m,v,P);return null}return m=B_(m),u&&u[Pt]?u.K(f,m,c(v)?!!v.capture:!!v,P):j1(u,f,m,!1,v,P)}function j1(u,f,m,v,P,F){if(!f)throw Error("Invalid event type");var K=c(P)?!!P.capture:!!P,dt=U_(u);if(dt||(u[F_]=dt=new Qs(u)),m=dt.add(f,m,v,K,F),m.proxy)return m;if(v=D4(),m.proxy=v,v.src=u,v.listener=m,u.addEventListener)Et||(P=K),P===void 0&&(P=!1),u.addEventListener(f.toString(),v,P);else if(u.attachEvent)u.attachEvent(H1(f.toString()),v);else if(u.addListener&&u.removeListener)u.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function D4(){function u(m){return f.call(u.src,u.listener,m)}let f=A4;return u}function B1(u,f,m,v,P){if(Array.isArray(f)){for(var F=0;F<f.length;F++)B1(u,f[F],m,v,P);return null}return m=B_(m),u&&u[Pt]?u.L(f,m,c(v)?!!v.capture:!!v,P):j1(u,f,m,!0,v,P)}function $1(u,f,m,v,P){if(Array.isArray(f))for(var F=0;F<f.length;F++)$1(u,f[F],m,v,P);else v=c(v)?!!v.capture:!!v,m=B_(m),u&&u[Pt]?(u=u.i,f=String(f).toString(),f in u.g&&(F=u.g[f],m=O_(F,m,v,P),-1<m&&(is(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete u.g[f],u.h--)))):u&&(u=U_(u))&&(f=u.g[f.toString()],u=-1,f&&(u=O_(f,m,v,P)),(m=-1<u?f[u]:null)&&V_(m))}function V_(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[Pt])k_(f.i,u);else{var m=u.type,v=u.proxy;f.removeEventListener?f.removeEventListener(m,v,u.capture):f.detachEvent?f.detachEvent(H1(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=U_(f))?(k_(m,u),m.h==0&&(m.src=null,f[F_]=null)):is(u)}}}function H1(u){return u in L_?L_[u]:L_[u]="on"+u}function A4(u,f){if(u.da)u=!0;else{f=new Ks(f,this);var m=u.listener,v=u.ha||u.src;u.fa&&V_(u),u=m.call(v,f)}return u}function U_(u){return u=u[F_],u instanceof Qs?u:null}var j_="__closure_events_fn_"+(1e9*Math.random()>>>0);function B_(u){return typeof u=="function"?u:(u[j_]||(u[j_]=function(f){return u.handleEvent(f)}),u[j_])}function Cn(){Mt.call(this),this.i=new Qs(this),this.M=this,this.F=null}_(Cn,Mt),Cn.prototype[Pt]=!0,Cn.prototype.removeEventListener=function(u,f,m,v){$1(this,u,f,m,v)};function jn(u,f){var m,v=u.F;if(v)for(m=[];v;v=v.F)m.push(v);if(u=u.M,v=f.type||f,typeof f=="string")f=new wt(f,u);else if(f instanceof wt)f.target=f.target||u;else{var P=f;f=new wt(v,u),x(f,P)}if(P=!0,m)for(var F=m.length-1;0<=F;F--){var K=f.g=m[F];P=Lf(K,v,!0,f)&&P}if(K=f.g=u,P=Lf(K,v,!0,f)&&P,P=Lf(K,v,!1,f)&&P,m)for(F=0;F<m.length;F++)K=f.g=m[F],P=Lf(K,v,!1,f)&&P}Cn.prototype.N=function(){if(Cn.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var m=u.g[f],v=0;v<m.length;v++)is(m[v]);delete u.g[f],u.h--}}this.F=null},Cn.prototype.K=function(u,f,m,v){return this.i.add(String(u),f,!1,m,v)},Cn.prototype.L=function(u,f,m,v){return this.i.add(String(u),f,!0,m,v)};function Lf(u,f,m,v){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var P=!0,F=0;F<f.length;++F){var K=f[F];if(K&&!K.da&&K.capture==m){var dt=K.listener,dn=K.ha||K.src;K.fa&&k_(u.i,K),P=dt.call(dn,v)!==!1&&P}}return P&&!v.defaultPrevented}function z1(u,f,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function q1(u){u.g=z1(()=>{u.g=null,u.i&&(u.i=!1,q1(u))},u.l);let f=u.h;u.h=null,u.m.apply(null,f)}class x4 extends Mt{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:q1(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ju(u){Mt.call(this),this.h=u,this.g={}}_(ju,Mt);var G1=[];function W1(u){le(u.g,function(f,m){this.g.hasOwnProperty(m)&&V_(f)},u),u.g={}}ju.prototype.N=function(){ju.aa.N.call(this),W1(this)},ju.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $_=a.JSON.stringify,R4=a.JSON.parse,N4=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function H_(){}H_.prototype.h=null;function K1(u){return u.h||(u.h=u.i())}function Q1(){}var Bu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function z_(){wt.call(this,"d")}_(z_,wt);function q_(){wt.call(this,"c")}_(q_,wt);var Zo={},Y1=null;function Vf(){return Y1=Y1||new Cn}Zo.La="serverreachability";function Z1(u){wt.call(this,Zo.La,u)}_(Z1,wt);function $u(u){let f=Vf();jn(f,new Z1(f))}Zo.STAT_EVENT="statevent";function J1(u,f){wt.call(this,Zo.STAT_EVENT,u),this.stat=f}_(J1,wt);function Bn(u){let f=Vf();jn(f,new J1(f,u))}Zo.Ma="timingevent";function X1(u,f){wt.call(this,Zo.Ma,u),this.size=f}_(X1,wt);function Hu(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function zu(){this.g=!0}zu.prototype.xa=function(){this.g=!1};function M4(u,f,m,v,P,F){u.info(function(){if(u.g)if(F)for(var K="",dt=F.split("&"),dn=0;dn<dt.length;dn++){var Qe=dt[dn].split("=");if(1<Qe.length){var Tn=Qe[0];Qe=Qe[1];var Sn=Tn.split("_");K=2<=Sn.length&&Sn[1]=="type"?K+(Tn+"="+Qe+"&"):K+(Tn+"=redacted&")}}else K=null;else K=F;return"XMLHTTP REQ ("+v+") [attempt "+P+"]: "+f+`
`+m+`
`+K})}function P4(u,f,m,v,P,F,K){u.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+P+"]: "+f+`
`+m+`
`+F+" "+K})}function El(u,f,m,v){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+O4(u,m)+(v?" "+v:"")})}function k4(u,f){u.info(function(){return"TIMEOUT: "+f})}zu.prototype.info=function(){};function O4(u,f){if(!u.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var v=m[u];if(!(2>v.length)){var P=v[1];if(Array.isArray(P)&&!(1>P.length)){var F=P[0];if(F!="noop"&&F!="stop"&&F!="close")for(var K=1;K<P.length;K++)P[K]=""}}}}return $_(m)}catch{return f}}var Uf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ex={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},G_;function jf(){}_(jf,H_),jf.prototype.g=function(){return new XMLHttpRequest},jf.prototype.i=function(){return{}},G_=new jf;function Ys(u,f,m,v){this.j=u,this.i=f,this.l=m,this.R=v||1,this.U=new ju(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tx}function tx(){this.i=null,this.g="",this.h=!1}var nx={},W_={};function K_(u,f,m){u.L=1,u.v=zf(ss(f)),u.m=m,u.P=!0,rx(u,null)}function rx(u,f){u.F=Date.now(),Bf(u),u.A=ss(u.v);var m=u.A,v=u.R;Array.isArray(v)||(v=[String(v)]),yx(m.i,"t",v),u.C=0,m=u.j.J,u.h=new tx,u.g=Ox(u.j,m?f:null,!u.m),0<u.O&&(u.M=new x4(p(u.Y,u,u.g),u.O)),f=u.U,m=u.g,v=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(G1[0]=P.toString()),P=G1);for(var F=0;F<P.length;F++){var K=U1(m,P[F],v||f.handleEvent,!1,f.h||f);if(!K)break;f.g[K.key]=K}f=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),$u(),M4(u.i,u.u,u.A,u.l,u.R,u.m)}Ys.prototype.ca=function(u){u=u.target;let f=this.M;f&&os(u)==3?f.j():this.Y(u)},Ys.prototype.Y=function(u){try{if(u==this.g)e:{let Sn=os(this.g);var f=this.g.Ba();let Cl=this.g.Z();if(!(3>Sn)&&(Sn!=3||this.g&&(this.h.h||this.g.oa()||Cx(this.g)))){this.J||Sn!=4||f==7||(f==8||0>=Cl?$u(3):$u(2)),Q_(this);var m=this.g.Z();this.X=m;t:if(ix(this)){var v=Cx(this.g);u="";var P=v.length,F=os(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jo(this),qu(this);var K="";break t}this.h.i=new a.TextDecoder}for(f=0;f<P;f++)this.h.h=!0,u+=this.h.i.decode(v[f],{stream:!(F&&f==P-1)});v.length=0,this.h.g+=u,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=m==200,P4(this.i,this.u,this.A,this.l,this.R,Sn,m),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,dn=this.g;if((dt=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(dt)){var Qe=dt;break t}}Qe=null}if(m=Qe)El(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Y_(this,m);else{this.o=!1,this.s=3,Bn(12),Jo(this),qu(this);break e}}if(this.P){m=!0;let Zr;for(;!this.J&&this.C<K.length;)if(Zr=F4(this,K),Zr==W_){Sn==4&&(this.s=4,Bn(14),m=!1),El(this.i,this.l,null,"[Incomplete Response]");break}else if(Zr==nx){this.s=4,Bn(15),El(this.i,this.l,K,"[Invalid Chunk]"),m=!1;break}else El(this.i,this.l,Zr,null),Y_(this,Zr);if(ix(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sn!=4||K.length!=0||this.h.h||(this.s=1,Bn(16),m=!1),this.o=this.o&&m,!m)El(this.i,this.l,K,"[Invalid Chunked Response]"),Jo(this),qu(this);else if(0<K.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),n0(Tn),Tn.M=!0,Bn(11))}}else El(this.i,this.l,K,null),Y_(this,K);Sn==4&&Jo(this),this.o&&!this.J&&(Sn==4?Nx(this.j,this):(this.o=!1,Bf(this)))}else X4(this.g),m==400&&0<K.indexOf("Unknown SID")?(this.s=3,Bn(12)):(this.s=0,Bn(13)),Jo(this),qu(this)}}}catch{}finally{}};function ix(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function F4(u,f){var m=u.C,v=f.indexOf(`
`,m);return v==-1?W_:(m=Number(f.substring(m,v)),isNaN(m)?nx:(v+=1,v+m>f.length?W_:(f=f.slice(v,v+m),u.C=v+m,f)))}Ys.prototype.cancel=function(){this.J=!0,Jo(this)};function Bf(u){u.S=Date.now()+u.I,sx(u,u.I)}function sx(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Hu(p(u.ba,u),f)}function Q_(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ys.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(k4(this.i,this.A),this.L!=2&&($u(),Bn(17)),Jo(this),this.s=2,qu(this)):sx(this,this.S-u)};function qu(u){u.j.G==0||u.J||Nx(u.j,u)}function Jo(u){Q_(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,W1(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function Y_(u,f){try{var m=u.j;if(m.G!=0&&(m.g==u||Z_(m.h,u))){if(!u.K&&Z_(m.h,u)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var P=v;if(P[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)Qf(m),Wf(m);else break e;t0(m),Bn(18)}}else m.za=P[1],0<m.za-m.T&&37500>P[2]&&m.F&&m.v==0&&!m.C&&(m.C=Hu(p(m.Za,m),6e3));if(1>=lx(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ea(m,11)}else if((u.K||m.g==u)&&Qf(m),!H(f))for(P=m.Da.g.parse(f),f=0;f<P.length;f++){let Qe=P[f];if(m.T=Qe[0],Qe=Qe[1],m.G==2)if(Qe[0]=="c"){m.K=Qe[1],m.ia=Qe[2];let Tn=Qe[3];Tn!=null&&(m.la=Tn,m.j.info("VER="+m.la));let Sn=Qe[4];Sn!=null&&(m.Aa=Sn,m.j.info("SVER="+m.Aa));let Cl=Qe[5];Cl!=null&&typeof Cl=="number"&&0<Cl&&(v=1.5*Cl,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;let Zr=u.g;if(Zr){let Zf=Zr.g?Zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zf){var F=v.h;F.g||Zf.indexOf("spdy")==-1&&Zf.indexOf("quic")==-1&&Zf.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(J_(F,F.h),F.h=null))}if(v.D){let r0=Zr.g?Zr.g.getResponseHeader("X-HTTP-Session-Id"):null;r0&&(v.ya=r0,It(v.I,v.D,r0))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var K=u;if(v.qa=kx(v,v.J?v.ia:null,v.W),K.K){cx(v.h,K);var dt=K,dn=v.L;dn&&(dt.I=dn),dt.B&&(Q_(dt),Bf(dt)),v.g=K}else xx(v);0<m.i.length&&Kf(m)}else Qe[0]!="stop"&&Qe[0]!="close"||ea(m,7);else m.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ea(m,7):e0(m):Qe[0]!="noop"&&m.l&&m.l.ta(Qe),m.v=0)}}$u(4)}catch{}}var L4=class{constructor(u,f){this.g=u,this.map=f}};function ox(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ax(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function lx(u){return u.h?1:u.g?u.g.size:0}function Z_(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function J_(u,f){u.g?u.g.add(f):u.h=f}function cx(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}ox.prototype.cancel=function(){if(this.i=ux(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function ux(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(let m of u.g.values())f=f.concat(m.D);return f}return T(u.i)}function V4(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],m=u.length,v=0;v<m;v++)f.push(u[v]);return f}f=[],m=0;for(v in u)f[m++]=u[v];return f}function U4(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var m=0;m<u;m++)f.push(m);return f}f=[],m=0;for(let v in u)f[m++]=v;return f}}}function dx(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var m=U4(u),v=V4(u),P=v.length,F=0;F<P;F++)f.call(void 0,v[F],m&&m[F],u)}var hx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function j4(u,f){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var v=u[m].indexOf("="),P=null;if(0<=v){var F=u[m].substring(0,v);P=u[m].substring(v+1)}else F=u[m];f(F,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Xo(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Xo){this.h=u.h,$f(this,u.j),this.o=u.o,this.g=u.g,Hf(this,u.s),this.l=u.l;var f=u.i,m=new Ku;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),fx(this,m),this.m=u.m}else u&&(f=String(u).match(hx))?(this.h=!1,$f(this,f[1]||"",!0),this.o=Gu(f[2]||""),this.g=Gu(f[3]||"",!0),Hf(this,f[4]),this.l=Gu(f[5]||"",!0),fx(this,f[6]||"",!0),this.m=Gu(f[7]||"")):(this.h=!1,this.i=new Ku(null,this.h))}Xo.prototype.toString=function(){var u=[],f=this.j;f&&u.push(Wu(f,px,!0),":");var m=this.g;return(m||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Wu(f,px,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Wu(m,m.charAt(0)=="/"?H4:$4,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Wu(m,q4)),u.join("")};function ss(u){return new Xo(u)}function $f(u,f,m){u.j=m?Gu(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function Hf(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function fx(u,f,m){f instanceof Ku?(u.i=f,G4(u.i,u.h)):(m||(f=Wu(f,z4)),u.i=new Ku(f,u.h))}function It(u,f,m){u.i.set(f,m)}function zf(u){return It(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Gu(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Wu(u,f,m){return typeof u=="string"?(u=encodeURI(u).replace(f,B4),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function B4(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var px=/[#\/\?@]/g,$4=/[#\?:]/g,H4=/[#\?]/g,z4=/[#\?@]/g,q4=/#/g;function Ku(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Zs(u){u.g||(u.g=new Map,u.h=0,u.i&&j4(u.i,function(f,m){u.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Ku.prototype,t.add=function(u,f){Zs(this),this.i=null,u=Il(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(f),this.h+=1,this};function mx(u,f){Zs(u),f=Il(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function gx(u,f){return Zs(u),f=Il(u,f),u.g.has(f)}t.forEach=function(u,f){Zs(this),this.g.forEach(function(m,v){m.forEach(function(P){u.call(f,P,v,this)},this)},this)},t.na=function(){Zs(this);let u=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){let P=u[v];for(let F=0;F<P.length;F++)m.push(f[v])}return m},t.V=function(u){Zs(this);let f=[];if(typeof u=="string")gx(this,u)&&(f=f.concat(this.g.get(Il(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)f=f.concat(u[m])}return f},t.set=function(u,f){return Zs(this),this.i=null,u=Il(this,u),gx(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function yx(u,f,m){mx(u,f),0<m.length&&(u.i=null,u.g.set(Il(u,f),T(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];let F=encodeURIComponent(String(v)),K=this.V(v);for(v=0;v<K.length;v++){var P=F;K[v]!==""&&(P+="="+encodeURIComponent(String(K[v]))),u.push(P)}}return this.i=u.join("&")};function Il(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function G4(u,f){f&&!u.j&&(Zs(u),u.i=null,u.g.forEach(function(m,v){var P=v.toLowerCase();v!=P&&(mx(this,v),yx(this,P,m))},u)),u.j=f}function W4(u,f){let m=new zu;if(a.Image){let v=new Image;v.onload=g(Js,m,"TestLoadImage: loaded",!0,f,v),v.onerror=g(Js,m,"TestLoadImage: error",!1,f,v),v.onabort=g(Js,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=g(Js,m,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=u}else f(!1)}function K4(u,f){let m=new zu,v=new AbortController,P=setTimeout(()=>{v.abort(),Js(m,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:v.signal}).then(F=>{clearTimeout(P),F.ok?Js(m,"TestPingServer: ok",!0,f):Js(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(P),Js(m,"TestPingServer: error",!1,f)})}function Js(u,f,m,v,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),v(m)}catch{}}function Q4(){this.g=new N4}function Y4(u,f,m){let v=m||"";try{dx(u,function(P,F){let K=P;c(P)&&(K=$_(P)),f.push(v+F+"="+encodeURIComponent(K))})}catch(P){throw f.push(v+"type="+encodeURIComponent("_badmap")),P}}function Qu(u){this.l=u.Ub||null,this.j=u.eb||!1}_(Qu,H_),Qu.prototype.g=function(){return new qf(this.l,this.j)},Qu.prototype.i=function(u){return function(){return u}}({});function qf(u,f){Cn.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(qf,Cn),t=qf.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,Zu(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yu(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zu(this)),this.g&&(this.readyState=3,Zu(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vx(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vx(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?Yu(this):Zu(this),this.readyState==3&&vx(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Yu(this))},t.Qa=function(u){this.g&&(this.response=u,Yu(this))},t.ga=function(){this.g&&Yu(this)};function Yu(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zu(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=f.next();return u.join(`\r
`)};function Zu(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(qf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _x(u){let f="";return le(u,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function X_(u,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=_x(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):It(u,f,m))}function kt(u){Cn.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(kt,Cn);var Z4=/^https?$/i,J4=["POST","PUT"];t=kt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():G_.g(),this.v=this.o?K1(this.o):K1(G_),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(F){wx(this,F);return}if(u=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var P in v)m.set(P,v[P]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let F of v.keys())m.set(F,v.get(F));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),P=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(J4,f,void 0))||v||P||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[F,K]of m)this.g.setRequestHeader(F,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bx(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){wx(this,F)}};function wx(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,Ex(u),Gf(u)}function Ex(u){u.A||(u.A=!0,jn(u,"complete"),jn(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jn(this,"complete"),jn(this,"abort"),Gf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gf(this,!0)),kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ix(this):this.bb())},t.bb=function(){Ix(this)};function Ix(u){if(u.h&&typeof o<"u"&&(!u.v[1]||os(u)!=4||u.Z()!=2)){if(u.u&&os(u)==4)z1(u.Ea,0,u);else if(jn(u,"readystatechange"),os(u)==4){u.h=!1;try{let K=u.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=K===0){var P=String(u.D).match(hx)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),v=!Z4.test(P?P.toLowerCase():"")}m=v}if(m)jn(u,"complete"),jn(u,"success");else{u.m=6;try{var F=2<os(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Ex(u)}}finally{Gf(u)}}}}function Gf(u,f){if(u.g){bx(u);let m=u.g,v=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||jn(u,"ready");try{m.onreadystatechange=v}catch{}}}function bx(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function os(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),R4(f)}};function Cx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function X4(u){let f={};u=(u.g&&2<=os(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<u.length;v++){if(H(u[v]))continue;var m=M(u[v]);let P=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let F=f[P]||[];f[P]=F,F.push(m)}D(f,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ju(u,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||f}function Tx(u){this.Aa=0,this.i=[],this.j=new zu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ju("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ju("baseRetryDelayMs",5e3,u),this.cb=Ju("retryDelaySeedMs",1e4,u),this.Wa=Ju("forwardChannelMaxRetries",2,u),this.wa=Ju("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ox(u&&u.concurrentRequestLimit),this.Da=new Q4,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Tx.prototype,t.la=8,t.G=1,t.connect=function(u,f,m,v){Bn(0),this.W=u,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=kx(this,null,this.W),Kf(this)};function e0(u){if(Sx(u),u.G==3){var f=u.U++,m=ss(u.I);if(It(m,"SID",u.K),It(m,"RID",f),It(m,"TYPE","terminate"),Xu(u,m),f=new Ys(u,u.j,f),f.L=2,f.v=zf(ss(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=Ox(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Bf(f)}Px(u)}function Wf(u){u.g&&(n0(u),u.g.cancel(),u.g=null)}function Sx(u){Wf(u),u.u&&(a.clearTimeout(u.u),u.u=null),Qf(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Kf(u){if(!ax(u.h)&&!u.s){u.s=!0;var f=u.Ga;ce||Ut(),fe||(ce(),fe=!0),Ve.add(f,u),u.B=0}}function e$(u,f){return lx(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Hu(p(u.Ga,u,f),Mx(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let P=new Ys(this,this.j,u),F=this.o;if(this.S&&(F?(F=E(F),x(F,this.S)):F=this.S),this.m!==null||this.O||(P.H=F,F=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Ax(this,P,f),m=ss(this.I),It(m,"RID",u),It(m,"CVER",22),this.D&&It(m,"X-HTTP-Session-Id",this.D),Xu(this,m),F&&(this.O?f="headers="+encodeURIComponent(String(_x(F)))+"&"+f:this.m&&X_(m,this.m,F)),J_(this.h,P),this.Ua&&It(m,"TYPE","init"),this.P?(It(m,"$req",f),It(m,"SID","null"),P.T=!0,K_(P,m,null)):K_(P,m,f),this.G=2}}else this.G==3&&(u?Dx(this,u):this.i.length==0||ax(this.h)||Dx(this))};function Dx(u,f){var m;f?m=f.l:m=u.U++;let v=ss(u.I);It(v,"SID",u.K),It(v,"RID",m),It(v,"AID",u.T),Xu(u,v),u.m&&u.o&&X_(v,u.m,u.o),m=new Ys(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),f&&(u.i=f.D.concat(u.i)),f=Ax(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),J_(u.h,m),K_(m,v,f)}function Xu(u,f){u.H&&le(u.H,function(m,v){It(f,v,m)}),u.l&&dx({},function(m,v){It(f,v,m)})}function Ax(u,f,m){m=Math.min(u.i.length,m);var v=u.l?p(u.l.Na,u.l,u):null;e:{var P=u.i;let F=-1;for(;;){let K=["count="+m];F==-1?0<m?(F=P[0].g,K.push("ofs="+F)):F=0:K.push("ofs="+F);let dt=!0;for(let dn=0;dn<m;dn++){let Qe=P[dn].g,Tn=P[dn].map;if(Qe-=F,0>Qe)F=Math.max(0,P[dn].g-100),dt=!1;else try{Y4(Tn,K,"req"+Qe+"_")}catch{v&&v(Tn)}}if(dt){v=K.join("&");break e}}}return u=u.i.splice(0,m),f.D=u,v}function xx(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;ce||Ut(),fe||(ce(),fe=!0),Ve.add(f,u),u.v=0}}function t0(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Hu(p(u.Fa,u),Mx(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Rx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Hu(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bn(10),Wf(this),Rx(this))};function n0(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Rx(u){u.g=new Ys(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=ss(u.qa);It(f,"RID","rpc"),It(f,"SID",u.K),It(f,"AID",u.T),It(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&It(f,"TO",u.ja),It(f,"TYPE","xmlhttp"),Xu(u,f),u.m&&u.o&&X_(f,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=zf(ss(f)),m.m=null,m.P=!0,rx(m,u)}t.Za=function(){this.C!=null&&(this.C=null,Wf(this),t0(this),Bn(19))};function Qf(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Nx(u,f){var m=null;if(u.g==f){Qf(u),n0(u),u.g=null;var v=2}else if(Z_(u.h,f))m=f.D,cx(u.h,f),v=1;else return;if(u.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var P=u.B;v=Vf(),jn(v,new X1(v,m)),Kf(u)}else xx(u);else if(P=f.s,P==3||P==0&&0<f.X||!(v==1&&e$(u,f)||v==2&&t0(u)))switch(m&&0<m.length&&(f=u.h,f.i=f.i.concat(m)),P){case 1:ea(u,5);break;case 4:ea(u,10);break;case 3:ea(u,6);break;default:ea(u,2)}}}function Mx(u,f){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*f}function ea(u,f){if(u.j.info("Error code "+f),f==2){var m=p(u.fb,u),v=u.Xa;let P=!v;v=new Xo(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$f(v,"https"),zf(v),P?W4(v.toString(),m):K4(v.toString(),m)}else Bn(2);u.G=0,u.l&&u.l.sa(f),Px(u),Sx(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Bn(2)):(this.j.info("Failed to ping google.com"),Bn(1))};function Px(u){if(u.G=0,u.ka=[],u.l){let f=ux(u.h);(f.length!=0||u.i.length!=0)&&(A(u.ka,f),A(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function kx(u,f,m){var v=m instanceof Xo?ss(m):new Xo(m);if(v.g!="")f&&(v.g=f+"."+v.g),Hf(v,v.s);else{var P=a.location;v=P.protocol,f=f?f+"."+P.hostname:P.hostname,P=+P.port;var F=new Xo(null);v&&$f(F,v),f&&(F.g=f),P&&Hf(F,P),m&&(F.l=m),v=F}return m=u.D,f=u.ya,m&&f&&It(v,m,f),It(v,"VER",u.la),Xu(u,v),v}function Ox(u,f,m){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new kt(new Qu({eb:m})):new kt(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fx(){}t=Fx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yf(){}Yf.prototype.g=function(u,f){return new dr(u,f)};function dr(u,f){Cn.call(this),this.g=new Tx(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!H(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!H(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new bl(this)}_(dr,Cn),dr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dr.prototype.close=function(){e0(this.g)},dr.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=$_(u),u=m);f.i.push(new L4(f.Ya++,u)),f.G==3&&Kf(f)},dr.prototype.N=function(){this.g.l=null,delete this.j,e0(this.g),delete this.g,dr.aa.N.call(this)};function Lx(u){z_.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(let m in f){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}_(Lx,z_);function Vx(){q_.call(this),this.status=1}_(Vx,q_);function bl(u){this.g=u}_(bl,Fx),bl.prototype.ua=function(){jn(this.g,"a")},bl.prototype.ta=function(u){jn(this.g,new Lx(u))},bl.prototype.sa=function(u){jn(this.g,new Vx)},bl.prototype.ra=function(){jn(this.g,"b")},Yf.prototype.createWebChannel=Yf.prototype.g,dr.prototype.send=dr.prototype.o,dr.prototype.open=dr.prototype.m,dr.prototype.close=dr.prototype.close,DT=Vs.createWebChannelTransport=function(){return new Yf},ST=Vs.getStatEventTarget=function(){return Vf()},TT=Vs.Event=Zo,ky=Vs.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Uf.NO_ERROR=0,Uf.TIMEOUT=8,Uf.HTTP_ERROR=6,Oh=Vs.ErrorCode=Uf,ex.COMPLETE="complete",CT=Vs.EventType=ex,Q1.EventType=Bu,Bu.OPEN="a",Bu.CLOSE="b",Bu.ERROR="c",Bu.MESSAGE="d",Cn.prototype.listen=Cn.prototype.K,Qc=Vs.WebChannel=Q1,bT=Vs.FetchXmlHttpFactory=Qu,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,IT=Vs.XhrIo=kt}).apply(typeof Py<"u"?Py:typeof self<"u"?self:typeof window<"u"?window:{});var w2="@firebase/firestore";var ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");var mu="10.12.3";var Wa=new Hr("@firebase/firestore");function Fh(){return Wa.logLevel}function ae(t,...e){if(Wa.logLevel<=Le.DEBUG){let n=e.map(fD);Wa.debug(`Firestore (${mu}): ${t}`,...n)}}function Us(t,...e){if(Wa.logLevel<=Le.ERROR){let n=e.map(fD);Wa.error(`Firestore (${mu}): ${t}`,...n)}}function nu(t,...e){if(Wa.logLevel<=Le.WARN){let n=e.map(fD);Wa.warn(`Firestore (${mu}): ${t}`,...n)}}function fD(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Te(t="Unexpected state"){let e=`FIRESTORE (${mu}) INTERNAL ASSERTION FAILED: `+t;throw Us(e),new Error(e)}function _t(t,e){t||Te()}function Ne(t,e){return t}var j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},te=class extends wn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var vi=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Uy=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},MT=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}},PT=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},kT=class{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),s=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vi,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>I(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vi)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string"),new Uy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string"),new ln(e)}},OT=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},FT=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new OT(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}},LT=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},VT=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_t(typeof n.token=="string"),this.R=n.token,new LT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function hX(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var jy=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=hX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function et(t,e){return t<e?-1:t>e?1:0}function ru(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var En=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Pe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new En(0,0))}static max(){return new t(new En(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var By=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(),r===void 0?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},xt=class t extends By{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new te(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},fX=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Sr=class t extends By{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return fX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new te(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var me=class t{constructor(e){this.path=e}static fromPath(e){return new t(xt.fromString(e))}static fromName(e){return new t(xt.fromString(e).popFirst(5))}static empty(){return new t(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new xt(e.slice()))}};var UT=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};UT.UNKNOWN_ID=-1;function pX(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new En(n+1,0):new En(n,r));return new Ka(i,me.empty(),e)}function mX(t){return new Ka(t.readTime,t.key,-1)}var Ka=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Pe.min(),me.empty(),-1)}static max(){return new t(Pe.max(),me.empty(),-1)}};function gX(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}var yX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jT=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Xh(t){return I(this,null,function*(){if(t.code!==j.FAILED_PRECONDITION||t.message!==yX)throw t;ae("LocalStore","Unexpectedly lost primary lease")})}var G=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function vX(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ef(t){return t.name==="IndexedDbTransactionError"}var Z2=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function wv(t){return t==null}function $h(t){return t===0&&1/t==-1/0}function _X(t){return typeof t=="number"&&Number.isInteger(t)&&!$h(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var wX=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],F_e=[...wX,"documentOverlays"],EX=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],IX=EX,L_e=[...IX,"indexConfiguration","indexState","indexEntries"];function E2(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function el(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function J2(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Vt=class t{constructor(e,n){this.comparator=e,this.root=n||Wi.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}},Xc=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Wi=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();let e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}};Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1;Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Wi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var On=class t{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $y(this.data.getIterator())}getIteratorFrom(e){return new $y(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},$y=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Gr=class t{constructor(e){this.fields=e,e.sort(Sr.comparator)}static empty(){return new t([])}unionWith(e){let n=new On(Sr.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ru(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Hy=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Jn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Hy("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Jn.EMPTY_BYTE_STRING=new Jn("");var bX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(t){if(_t(!!t),typeof t=="string"){let e=0,n=bX.exec(t);if(_t(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vo(t){return typeof t=="string"?Jn.fromBase64String(t):Jn.fromUint8Array(t)}function pD(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mD(t){let e=t.mapValue.fields.__previous_value__;return pD(e)?mD(e):e}function Hh(t){let e=js(t.mapValue.fields.__local_write_time__.timestampValue);return new En(e.seconds,e.nanos)}var BT=class{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},zy=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Oy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pD(t)?4:X2(t)?9007199254740991:10:Te()}function Yi(t,e){if(t===e)return!0;let n=Qa(t);if(n!==Qa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hh(t).isEqual(Hh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=js(i.timestampValue),a=js(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Vo(i.bytesValue).isEqual(Vo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Lt(i.geoPointValue.latitude)===Lt(s.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Lt(i.integerValue)===Lt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Lt(i.doubleValue),a=Lt(s.doubleValue);return o===a?$h(o)===$h(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ru(t.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(E2(o)!==E2(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Yi(o[l],a[l])))return!1;return!0}(t,e);default:return Te()}}function zh(t,e){return(t.values||[]).find(n=>Yi(n,e))!==void 0}function iu(t,e){if(t===e)return 0;let n=Qa(t),r=Qa(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Lt(s.integerValue||s.doubleValue),l=Lt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return I2(t.timestampValue,e.timestampValue);case 4:return I2(Hh(t),Hh(e));case 5:return et(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Vo(s),l=Vo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){let d=et(a[c],l[c]);if(d!==0)return d}return et(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=et(Lt(s.latitude),Lt(o.latitude));return a!==0?a:et(Lt(s.longitude),Lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){let d=iu(a[c],l[c]);if(d)return d}return et(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Oy.mapValue&&o===Oy.mapValue)return 0;if(s===Oy.mapValue)return 1;if(o===Oy.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){let p=et(l[h],d[h]);if(p!==0)return p;let g=iu(a[l[h]],c[d[h]]);if(g!==0)return g}return et(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Te()}}function I2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);let n=js(t),r=js(e),i=et(n.seconds,r.seconds);return i!==0?i:et(n.nanos,r.nanos)}function su(t){return $T(t)}function $T(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=js(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=$T(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${$T(n.fields[o])}`;return i+"}"}(t.mapValue):Te()}function b2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function HT(t){return!!t&&"integerValue"in t}function gD(t){return!!t&&"arrayValue"in t}function C2(t){return!!t&&"nullValue"in t}function T2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ly(t){return!!t&&"mapValue"in t}function Vh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return el(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vh(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function X2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Tr=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ly(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vh(n)}setAll(e){let n=Sr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Vh(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Ly(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ly(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){el(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Vh(this.value))}};function eV(t){let e=[];return el(t.fields,(n,r)=>{let i=new Sr([n]);if(Ly(r)){let s=eV(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Gr(e)}var _i=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Pe.min(),Pe.min(),Pe.min(),Tr.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Pe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Pe.min(),Pe.min(),Tr.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Pe.min(),Pe.min(),Tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ou=class{constructor(e,n){this.position=e,this.inclusive=n}};function S2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=iu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function D2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yi(t.position[n],e.position[n]))return!1;return!0}var au=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function CX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var qy=class{},Yt=class t extends qy{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qT(e,n,r):n==="array-contains"?new KT(e,r):n==="in"?new QT(e,r):n==="not-in"?new YT(e,r):n==="array-contains-any"?new ZT(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GT(e,r):new WT(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(iu(n,this.value)):n!==null&&Qa(this.value)===Qa(n)&&this.matchesComparison(iu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},wi=class t extends qy{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return tV(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function tV(t){return t.op==="and"}function nV(t){return TX(t)&&tV(t)}function TX(t){for(let e of t.filters)if(e instanceof wi)return!1;return!0}function zT(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+su(t.value);if(nV(t))return t.filters.map(e=>zT(e)).join(",");{let e=t.filters.map(n=>zT(n)).join(",");return`${t.op}(${e})`}}function rV(t,e){return t instanceof Yt?function(r,i){return i instanceof Yt&&r.op===i.op&&r.field.isEqual(i.field)&&Yi(r.value,i.value)}(t,e):t instanceof wi?function(r,i){return i instanceof wi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&rV(o,i.filters[a]),!0):!1}(t,e):void Te()}function iV(t){return t instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${su(n.value)}`}(t):t instanceof wi?function(n){return n.op.toString()+" {"+n.getFilters().map(iV).join(" ,")+"}"}(t):"Filter"}var qT=class extends Yt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){let n=me.comparator(e.key,this.key);return this.matchesComparison(n)}},GT=class extends Yt{constructor(e,n){super(e,"in",n),this.keys=sV("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},WT=class extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=sV("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function sV(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}var KT=class extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return gD(n)&&zh(n.arrayValue,this.value)}},QT=class extends Yt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&zh(this.value.arrayValue,n)}},YT=class extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!zh(this.value.arrayValue,n)}},ZT=class extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!gD(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zh(this.value.arrayValue,r))}};var JT=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function A2(t,e=null,n=[],r=[],i=null,s=null,o=null){return new JT(t,e,n,r,i,s,o)}function yD(t){let e=Ne(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),wv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>su(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>su(r)).join(",")),e.ue=n}return e.ue}function vD(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!D2(t.startAt,e.startAt)&&D2(t.endAt,e.endAt)}function XT(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ya=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function SX(t,e,n,r,i,s,o,a){return new Ya(t,e,n,r,i,s,o,a)}function _D(t){return new Ya(t)}function x2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oV(t){return t.collectionGroup!==null}function Uh(t){let e=Ne(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new On(Sr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new au(s,r))}),n.has(Sr.keyField().canonicalString())||e.ce.push(new au(Sr.keyField(),r))}return e.ce}function Ki(t){let e=Ne(t);return e.le||(e.le=DX(e,Uh(t))),e.le}function DX(t,e){if(t.limitType==="F")return A2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new au(i.field,s)});let n=t.endAt?new ou(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ou(t.startAt.position,t.startAt.inclusive):null;return A2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eS(t,e){let n=t.filters.concat([e]);return new Ya(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tS(t,e,n){return new Ya(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ev(t,e){return vD(Ki(t),Ki(e))&&t.limitType===e.limitType}function aV(t){return`${yD(Ki(t))}|lt:${t.limitType}`}function Yc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>iV(i)).join(", ")}]`),wv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>su(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>su(i)).join(",")),`Target(${r})`}(Ki(t))}; limitType=${t.limitType})`}function Iv(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Uh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){let c=S2(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Uh(r),i)||r.endAt&&!function(o,a,l){let c=S2(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Uh(r),i))}(t,e)}function AX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lV(t){return(e,n)=>{let r=!1;for(let i of Uh(t)){let s=xX(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function xX(t,e,n){let r=t.field.isKeyField()?me.comparator(e.key,n.key):function(s,o,a){let l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?iu(l,c):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}var Uo=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){el(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return J2(this.inner)}size(){return this.innerSize}};var RX=new Vt(me.comparator);function Bs(){return RX}var cV=new Vt(me.comparator);function Lh(...t){let e=cV;for(let n of t)e=e.insert(n.key,n);return e}function uV(t){let e=cV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function za(){return jh()}function dV(){return jh()}function jh(){return new Uo(t=>t.toString(),(t,e)=>t.isEqual(e))}var NX=new Vt(me.comparator),MX=new On(me.comparator);function Ue(...t){let e=MX;for(let n of t)e=e.add(n);return e}var PX=new On(et);function kX(){return PX}function hV(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function fV(t){return{integerValue:""+t}}function pV(t,e){return _X(e)?fV(e):hV(t,e)}var lu=class{constructor(){this._=void 0}};function OX(t,e,n){return t instanceof cu?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&pD(s)&&(s=mD(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof jo?gV(t,e):t instanceof Bo?yV(t,e):function(i,s){let o=mV(i,s),a=R2(o)+R2(i.Pe);return HT(o)&&HT(i.Pe)?fV(a):hV(i.serializer,a)}(t,e)}function FX(t,e,n){return t instanceof jo?gV(t,e):t instanceof Bo?yV(t,e):n}function mV(t,e){return t instanceof Za?function(r){return HT(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var cu=class extends lu{},jo=class extends lu{constructor(e){super(),this.elements=e}};function gV(t,e){let n=vV(e);for(let r of t.elements)n.some(i=>Yi(i,r))||n.push(r);return{arrayValue:{values:n}}}var Bo=class extends lu{constructor(e){super(),this.elements=e}};function yV(t,e){let n=vV(e);for(let r of t.elements)n=n.filter(i=>!Yi(i,r));return{arrayValue:{values:n}}}var Za=class extends lu{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function R2(t){return Lt(t.integerValue||t.doubleValue)}function vV(t){return gD(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var qh=class{constructor(e,n){this.field=e,this.transform=n}};function LX(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof jo&&i instanceof jo||r instanceof Bo&&i instanceof Bo?ru(r.elements,i.elements,Yi):r instanceof Za&&i instanceof Za?Yi(r.Pe,i.Pe):r instanceof cu&&i instanceof cu}(t.transform,e.transform)}var nS=class{constructor(e,n){this.version=e,this.transformResults=n}},Fo=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Vy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var uu=class{};function _V(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gy(t.key,Fo.none()):new Ja(t.key,t.data,Fo.none());{let n=t.data,r=Tr.empty(),i=new On(Sr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Zi(t.key,r,new Gr(i.toArray()),Fo.none())}}function VX(t,e,n){t instanceof Ja?function(i,s,o){let a=i.value.clone(),l=M2(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zi?function(i,s,o){if(!Vy(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=M2(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(wV(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Bh(t,e,n,r){return t instanceof Ja?function(s,o,a,l){if(!Vy(s.precondition,o))return a;let c=s.value.clone(),d=P2(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zi?function(s,o,a,l){if(!Vy(s.precondition,o))return a;let c=P2(s.fieldTransforms,l,o),d=o.data;return d.setAll(wV(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Vy(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function UX(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=mV(r.transform,i||null);s!=null&&(n===null&&(n=Tr.empty()),n.set(r.field,s))}return n||null}function N2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ru(r,i,(s,o)=>LX(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ja=class extends uu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Zi=class extends uu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function wV(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function M2(t,e,n){let r=new Map;_t(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,FX(o,a,n[i]))}return r}function P2(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,OX(s,o,e))}return r}var Gy=class extends uu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},rS=class extends uu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var iS=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&VX(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bh(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Bh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=dV();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let l=_V(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&ru(this.mutations,e.mutations,(n,r)=>N2(n,r))&&ru(this.baseMutations,e.baseMutations,(n,r)=>N2(n,r))}},sS=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_t(e.mutations.length===r.length);let i=function(){return NX}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var oS=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var aS=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Kt,Ge;function jX(t){switch(t){default:return Te();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function EV(t){if(t===void 0)return Us("GRPC error has no .code"),j.UNKNOWN;switch(t){case Kt.OK:return j.OK;case Kt.CANCELLED:return j.CANCELLED;case Kt.UNKNOWN:return j.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return j.INTERNAL;case Kt.UNAVAILABLE:return j.UNAVAILABLE;case Kt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Kt.NOT_FOUND:return j.NOT_FOUND;case Kt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Kt.ABORTED:return j.ABORTED;case Kt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Kt.DATA_LOSS:return j.DATA_LOSS;default:return Te()}}(Ge=Kt||(Kt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";var k2=null;function BX(){return new TextEncoder}var $X=new Oo([4294967295,4294967295],0);function O2(t){let e=BX().encode(t),n=new ET;return n.update(e),new Uint8Array(n.digest())}function F2(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Oo([n,r],0),new Oo([i,s],0)]}var lS=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qa(`Invalid padding: ${n}`);if(r<0)throw new qa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Oo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Oo.fromNumber(r)));return i.compare($X)===1&&(i=new Oo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=O2(e),[r,i]=F2(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=O2(e),[r,i]=F2(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},qa=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Wy=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Gh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Pe.min(),i,new Vt(et),Bs(),Ue())}},Gh=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Ue(),Ue(),Ue())}};var eu=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Ky=class{constructor(e,n){this.targetId=e,this.me=n}},Qy=class{constructor(e,n,r=Jn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Yy=class{constructor(){this.fe=0,this.ge=V2(),this.pe=Jn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ue(),n=Ue(),r=Ue();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new Gh(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=V2()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,_t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},cS=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Bs(),this.qe=L2(),this.Qe=new Vt(et)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(XT(s))if(r===0){let o=new me(s.path);this.Ue(n,o,_i.newNoDocument(o,Pe.min()))}else _t(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}k2?.et(function(d,h,p,g,_){var T,A,L,H,W,ee;let je={localCacheCount:d,existenceFilterCount:h.count,databaseId:p.database,projectId:p.projectId},le=h.unchangedNames;return le&&(je.bloomFilter={applied:_===0,hashCount:(T=le?.hashCount)!==null&&T!==void 0?T:0,bitmapLength:(H=(L=(A=le?.bits)===null||A===void 0?void 0:A.bitmap)===null||L===void 0?void 0:L.length)!==null&&H!==void 0?H:0,padding:(ee=(W=le?.bits)===null||W===void 0?void 0:W.padding)!==null&&ee!==void 0?ee:0,mightContain:D=>{var E;return(E=g?.mightContain(D))!==null&&E!==void 0&&E}}),je}(o,e.me,this.Le.tt(),a,l))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Vo(r).toUint8Array()}catch(l){if(l instanceof Hy)return nu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new lS(o,i,s)}catch(l){return nu(l instanceof qa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&XT(a.target)){let l=new me(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,_i.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Ue();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Wy(e,n,this.Qe,this.ke,r);return this.ke=Bs(),this.qe=L2(),this.Qe=new Vt(et),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Yy,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new On(et),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Yy),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function L2(){return new Vt(me.comparator)}function V2(){return new Vt(me.comparator)}var HX={asc:"ASCENDING",desc:"DESCENDING"},zX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qX={and:"AND",or:"OR"},uS=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function dS(t,e){return t.useProto3Json||wv(e)?e:{value:e}}function Zy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GX(t,e){return Zy(t,e.toTimestamp())}function Qi(t){return _t(!!t),Pe.fromTimestamp(function(n){let r=js(n);return new En(r.seconds,r.nanos)}(t))}function wD(t,e){return hS(t,e).canonicalString()}function hS(t,e){let n=function(i){return new xt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bV(t){let e=xt.fromString(t);return _t(AV(e)),e}function fS(t,e){return wD(t.databaseId,e.path)}function AT(t,e){let n=bV(e);if(n.get(1)!==t.databaseId.projectId)throw new te(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(TV(n))}function CV(t,e){return wD(t.databaseId,e)}function WX(t){let e=bV(t);return e.length===4?xt.emptyPath():TV(e)}function pS(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TV(t){return _t(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function U2(t,e,n){return{name:fS(t,e),fields:n.value.mapValue.fields}}function KX(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(_t(d===void 0||typeof d=="string"),Jn.fromBase64String(d||"")):(_t(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Jn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let d=c.code===void 0?j.UNKNOWN:EV(c.code);return new te(d,c.message||"")}(o);n=new Qy(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=AT(t,r.document.name),s=Qi(r.document.updateTime),o=r.document.createTime?Qi(r.document.createTime):Pe.min(),a=new Tr({mapValue:{fields:r.document.fields}}),l=_i.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new eu(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=AT(t,r.document),s=r.readTime?Qi(r.readTime):Pe.min(),o=_i.newNoDocument(i,s),a=r.removedTargetIds||[];n=new eu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=AT(t,r.document),s=r.removedTargetIds||[];n=new eu([],s,i,null)}else{if(!("filter"in e))return Te();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new aS(i,s),a=r.targetId;n=new Ky(a,o)}}return n}function QX(t,e){let n;if(e instanceof Ja)n={update:U2(t,e.key,e.value)};else if(e instanceof Gy)n={delete:fS(t,e.key)};else if(e instanceof Zi)n={update:U2(t,e.key,e.data),updateMask:iee(e.fieldMask)};else{if(!(e instanceof rS))return Te();n={verify:fS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof cu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Za)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:GX(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Te()}(t,e.precondition)),n}function YX(t,e){return t&&t.length>0?(_t(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Qi(i.updateTime):Qi(s);return o.isEqual(Pe.min())&&(o=Qi(s)),new nS(o,i.transformResults||[])}(n,e))):[]}function ZX(t,e){return{documents:[CV(t,e.path)]}}function JX(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CV(t,i);let s=function(c){if(c.length!==0)return DV(wi.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Zc(p.field),direction:tee(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=dS(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function XX(t){let e=WX(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_t(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){let p=SV(h);return p instanceof wi&&nV(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(_){return new au(Jc(_.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,wv(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){let p=!!h.before,g=h.values||[];return new ou(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){let p=!h.before,g=h.values||[];return new ou(g,p)}(n.endAt)),SX(e,i,o,s,a,"F",l,c)}function eee(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SV(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Jc(n.unaryFilter.field);return Yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Jc(n.unaryFilter.field);return Yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Jc(n.unaryFilter.field);return Yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Jc(n.unaryFilter.field);return Yt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):t.fieldFilter!==void 0?function(n){return Yt.create(Jc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wi.create(n.compositeFilter.filters.map(r=>SV(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te()}function tee(t){return HX[t]}function nee(t){return zX[t]}function ree(t){return qX[t]}function Zc(t){return{fieldPath:t.canonicalString()}}function Jc(t){return Sr.fromServerFormat(t.fieldPath)}function DV(t){return t instanceof Yt?function(n){if(n.op==="=="){if(T2(n.value))return{unaryFilter:{field:Zc(n.field),op:"IS_NAN"}};if(C2(n.value))return{unaryFilter:{field:Zc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T2(n.value))return{unaryFilter:{field:Zc(n.field),op:"IS_NOT_NAN"}};if(C2(n.value))return{unaryFilter:{field:Zc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zc(n.field),op:nee(n.op),value:n.value}}}(t):t instanceof wi?function(n){let r=n.getFilters().map(i=>DV(i));return r.length===1?r[0]:{compositeFilter:{op:ree(n.op),filters:r}}}(t):Te()}function iee(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Wh=class t{constructor(e,n,r,i,s=Pe.min(),o=Pe.min(),a=Jn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var mS=class{constructor(e){this.ct=e}};function see(t){let e=XX({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tS(e,e.limit,"L"):e}var Jy=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Lt(e.integerValue));else if("doubleValue"in e){let r=Lt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),$h(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=js(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Vo(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?X2(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Te()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),me.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Jy.bt=new Jy;var gS=class{constructor(){this._n=new yS}addToCollectionParentIndex(e,n){return this._n.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Ka.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Ka.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}},yS=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new On(xt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new On(xt.comparator)).toArray()}};var U_e=new Uint8Array(0);var Gi=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Gi.DEFAULT_COLLECTION_PERCENTILE=10,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gi.DEFAULT=new Gi(41943040,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gi.DISABLED=new Gi(-1,0,0);var Kh=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var vS=class{constructor(){this.changes=new Uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_i.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var _S=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var wS=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bh(r.mutation,i,Gr.empty(),En.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){let i=za();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Lh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=za();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Bs(),o=jh(),a=function(){return jh()}();return n.forEach((l,c)=>{let d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Zi)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Bh(d.mutation,c,d.mutation.getFieldMask(),En.now())):o.set(c.key,Gr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new _S(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){let r=jh(),i=new Vt((o,a)=>o-a),s=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=n.get(l);if(c===null)return;let d=r.get(l)||Gr.empty();d=a.applyToLocalView(c,d),r.set(l,d);let h=(i.get(a.batchId)||Ue()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,d=l.value,h=dV();d.forEach(p=>{if(!s.has(p)){let g=_V(n.get(p),r.get(p));g!==null&&h.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return G.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):G.resolve(za()),a=-1,l=s;return o.next(c=>G.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?G.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ue())).next(d=>({batchId:a,changes:uV(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=Lh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Lh();return this.indexManager.getCollectionParents(e,s).next(a=>G.forEach(a,l=>{let c=function(h,p){return new Ya(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{let d=c.getKey();o.get(d)===null&&(o=o.insert(d,_i.newInvalidDocument(d)))});let a=Lh();return o.forEach((l,c)=>{let d=s.get(l);d!==void 0&&Bh(d.mutation,c,Gr.empty(),En.now()),Iv(n,c)&&(a=a.insert(l,c))}),a})}};var ES=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return G.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qi(i.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:see(i.bundledQuery),readTime:Qi(i.readTime)}}(n)),G.resolve()}};var IS=class{constructor(){this.overlays=new Vt(me.comparator),this.hr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){let r=za();return G.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),G.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){let i=za(),s=n.length+1,o=new me(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return G.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Vt((c,d)=>c-d),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=za(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}let a=za(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return G.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new oS(n,r));let s=this.hr.get(n);s===void 0&&(s=Ue(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var Qh=class{constructor(){this.Pr=new On(Qt.Ir),this.Tr=new On(Qt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Qt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Qt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new me(new xt([])),r=new Qt(n,e),i=new Qt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new me(new xt([])),r=new Qt(n,e),i=new Qt(n,e+1),s=Ue();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Qt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Qt=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return me.comparator(e.key,n.key)||et(e.pr,n.pr)}static Er(e,n){return et(e.pr,n.pr)||me.comparator(e.key,n.key)}};var bS=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new On(Qt.Ir)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new iS(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new Qt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(o)}lookupMutationBatch(e,n){return G.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return G.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Qt(n,0),i=new Qt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),G.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new On(et);return n.forEach(i=>{let s=new Qt(i,0),o=new Qt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),G.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;me.isDocumentKey(s)||(s=s.child(""));let o=new Qt(new me(s),0),a=new On(et);return this.wr.forEachWhile(l=>{let c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),G.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_t(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return G.forEach(n.mutations,i=>{let s=new Qt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Qt(n,0),i=this.wr.firstAfterOrEqual(r);return G.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var CS=class{constructor(e){this.vr=e,this.docs=function(){return new Vt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():_i.newInvalidDocument(n))}getEntries(e,n){let r=Bs();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_i.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Bs(),o=n.path,a=new me(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||gX(mX(d),r)<=0||(i.has(d.key)||Iv(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return G.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Te()}Fr(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TS(this)}getSize(e){return G.resolve(this.size)}},TS=class extends vS{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var SS=class{constructor(e){this.persistence=e,this.Mr=new Uo(n=>yD(n),vD),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Qh,this.targetCount=0,this.Lr=Kh.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),G.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Kh(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.qn(n),G.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),G.waitFor(s).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),G.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),G.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.Nr.containsKey(n))}};var DS=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new Z2(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new SS(this),this.indexManager=new gS,this.remoteDocumentCache=function(i){return new CS(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new mS(n),this.$r=new ES(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new bS(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);let i=new AS(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return G.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},AS=class extends jT{constructor(e){super(),this.currentSequenceNumber=e}},xS=class t{constructor(e){this.persistence=e,this.zr=new Qh,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw Te()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),G.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Jr,r=>{let i=me.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Pe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return G.or([()=>G.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var RS=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ue(),i=Ue();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var NS=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var MS=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return JF()?8:vX(nn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new NS;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Fh()<=Le.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Yc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),G.resolve()):(Fh()<=Le.DEBUG&&ae("QueryEngine","Query:",Yc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Fh()<=Le.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Yc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(n))):G.resolve())}ji(e,n){if(x2(n))return G.resolve(null);let r=Ki(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tS(n,null,"F"),r=Ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Ue(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,tS(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return x2(n)||i.isEqual(Pe.min())?G.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?G.resolve(null):(Fh()<=Le.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yc(n)),this.es(e,o,n,pX(i,-1)).next(a=>a))})}Zi(e,n){let r=new On(lV(e));return n.forEach((i,s)=>{Iv(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Fh()<=Le.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Yc(n)),this.zi.getDocumentsMatchingQuery(e,n,Ka.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var PS=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Vt(et),this.rs=new Uo(s=>yD(s),vD),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wS(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function oee(t,e,n,r){return new PS(t,e,n,r)}function xV(t,e){return I(this,null,function*(){let n=Ne(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],l=Ue();for(let c of i){o.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}for(let c of s){a.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})})}function aee(t,e){let n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){let h=c.batch,p=h.keys(),g=G.resolve();return p.forEach(_=>{g=g.next(()=>d.getEntry(l,_)).next(T=>{let A=c.docVersions.get(_);_t(A!==null),T.version.compareTo(A)<0&&(h.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),d.addEntry(T)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function RV(t){let e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function lee(t,e){let n=Ne(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((d,h)=>{let p=i.get(h);if(!p)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,h)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Jn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(T,A,L){return T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(p,g,d)&&a.push(n.Qr.updateTargetData(s,g))});let l=Bs(),c=Ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(cee(s,o,e.documentUpdates).next(d=>{l=d.cs,c=d.ls})),!r.isEqual(Pe.min())){let d=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return G.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function cee(t,e,n){let r=Ue(),i=Ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Bs();return n.forEach((a,l)=>{let c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Pe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function uee(t,e){let n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dee(t,e){let n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,G.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Wh(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function kS(t,e,n){return I(this,null,function*(){let r=Ne(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ef(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function j2(t,e,n){let r=Ne(t),i=Pe.min(),s=Ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){let h=Ne(l),p=h.rs.get(d);return p!==void 0?G.resolve(h.ns.get(p)):h.Qr.getTargetData(c,d)}(r,o,Ki(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Pe.min(),n?s:Ue())).next(a=>(hee(r,AX(e),a),{documents:a,hs:s})))}function hee(t,e,n){let r=t.ss.get(e)||Pe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var Xy=class{constructor(){this.activeTargetIds=kX()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var OS=class{constructor(){this.no=new Xy,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Xy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var FS=class{io(e){}shutdown(){}};var ev=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Fy=null;function xT(){return Fy===null?Fy=function(){return 268435456+Math.round(2147483648*Math.random())}():Fy++,"0x"+Fy.toString(16)}var fee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var LS=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var kn="WebChannelConnection",VS=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){let a=xT(),l=this.vo(n,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);let c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,l,c,i).then(d=>(ae("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw nu("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){let i=fee[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){let s=xT();return new Promise((o,a)=>{let l=new IT;l.setWithCredentials(!0),l.listenOnce(CT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Oh.NO_ERROR:let d=l.getResponseJson();ae(kn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Oh.TIMEOUT:ae(kn,`RPC '${e}' ${s} timed out`),a(new te(j.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:let h=l.getStatus();if(ae(kn,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);let g=p?.error;if(g&&g.status&&g.message){let _=function(A){let L=A.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(L)>=0?L:j.UNKNOWN}(g.status);a(new te(_,g.message))}else a(new te(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new te(j.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ae(kn,`RPC '${e}' ${s} completed.`)}});let c=JSON.stringify(i);ae(kn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Oo(e,n,r){let i=xT(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=DT(),a=ST(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new bT({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;let d=s.join("");ae(kn,`Creating RPC '${e}' stream ${i}: ${d}`,l);let h=o.createWebChannel(d,l),p=!1,g=!1,_=new LS({lo:A=>{g?ae(kn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(p||(ae(kn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),ae(kn,`RPC '${e}' stream ${i} sending:`,A),h.send(A))},ho:()=>h.close()}),T=(A,L,H)=>{A.listen(L,W=>{try{H(W)}catch(ee){setTimeout(()=>{throw ee},0)}})};return T(h,Qc.EventType.OPEN,()=>{g||(ae(kn,`RPC '${e}' stream ${i} transport opened.`),_.mo())}),T(h,Qc.EventType.CLOSE,()=>{g||(g=!0,ae(kn,`RPC '${e}' stream ${i} transport closed`),_.po())}),T(h,Qc.EventType.ERROR,A=>{g||(g=!0,nu(kn,`RPC '${e}' stream ${i} transport errored:`,A),_.po(new te(j.UNAVAILABLE,"The operation could not be completed")))}),T(h,Qc.EventType.MESSAGE,A=>{var L;if(!g){let H=A.data[0];_t(!!H);let W=H,ee=W.error||((L=W[0])===null||L===void 0?void 0:L.error);if(ee){ae(kn,`RPC '${e}' stream ${i} received error:`,ee);let je=ee.status,le=function(b){let x=Kt[b];if(x!==void 0)return EV(x)}(je),D=ee.message;le===void 0&&(le=j.INTERNAL,D="Unknown error status: "+je+" with message "+ee.message),g=!0,_.po(new te(le,D)),h.close()}else ae(kn,`RPC '${e}' stream ${i} received:`,H),_.yo(H)}}),T(a,TT.STAT_EVENT,A=>{A.stat===ky.PROXY?ae(kn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===ky.NOPROXY&&ae(kn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}};function RT(){return typeof document<"u"?document:null}function bv(t){return new uS(t,!0)}var tv=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var nv=class{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new tv(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return I(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return I(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return I(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Us(n.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{let i=new te(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){let r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>I(this,null,function*(){this.state=0,this.start()}))}c_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},US=class extends nv{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=KX(this.serializer,e),r=function(s){if(!("targetChange"in s))return Pe.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Pe.min():o.readTime?Qi(o.readTime):Pe.min()}(e);return this.listener.h_(n,r)}P_(e){let n={};n.database=pS(this.serializer),n.addTarget=function(s,o){let a,l=o.target;if(a=XT(l)?{documents:ZX(s,l)}:{query:JX(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IV(s,o.resumeToken);let c=dS(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Pe.min())>0){a.readTime=Zy(s,o.snapshotVersion.toTimestamp());let c=dS(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let r=eee(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){let n={};n.database=pS(this.serializer),n.removeTarget=e,this.i_(n)}},jS=class extends nv{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=YX(e.writeResults,e.commitTime),r=Qi(e.commitTime);return this.listener.A_(r,n)}return _t(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=pS(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>QX(this.serializer,r))};this.i_(n)}};var BS=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new te(j.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,hS(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(j.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,hS(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(j.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},$S=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Us(n),this.y_=!1):ae("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var HS=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(()=>I(this,null,function*(){tl(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),yield function(l){return I(this,null,function*(){let c=Ne(l);c.M_.add(4),yield tf(c),c.N_.set("Unknown"),c.M_.delete(4),yield Cv(c)})}(this))}))}),this.N_=new $S(r,i)}};function Cv(t){return I(this,null,function*(){if(tl(t))for(let e of t.x_)yield e(!0)})}function tf(t){return I(this,null,function*(){for(let e of t.x_)yield e(!1)})}function NV(t,e){let n=Ne(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),CD(n)?bD(n):gu(n).Xo()&&ID(n,e))}function ED(t,e){let n=Ne(t),r=gu(n);n.F_.delete(e),r.Xo()&&MV(n,e),n.F_.size===0&&(r.Xo()?r.n_():tl(n)&&n.N_.set("Unknown"))}function ID(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gu(t).P_(e)}function MV(t,e){t.L_.xe(e),gu(t).I_(e)}function bD(t){t.L_=new cS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),gu(t).start(),t.N_.w_()}function CD(t){return tl(t)&&!gu(t).Zo()&&t.F_.size>0}function tl(t){return Ne(t).M_.size===0}function PV(t){t.L_=void 0}function pee(t){return I(this,null,function*(){t.N_.set("Online")})}function mee(t){return I(this,null,function*(){t.F_.forEach((e,n)=>{ID(t,e)})})}function gee(t,e){return I(this,null,function*(){PV(t),CD(t)?(t.N_.D_(e),bD(t)):t.N_.set("Unknown")})}function yee(t,e,n){return I(this,null,function*(){if(t.N_.set("Online"),e instanceof Qy&&e.state===2&&e.cause)try{yield function(i,s){return I(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))})}(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield rv(t,r)}else if(e instanceof eu?t.L_.Ke(e):e instanceof Ky?t.L_.He(e):t.L_.We(e),!n.isEqual(Pe.min()))try{let r=yield RV(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let d=s.F_.get(c);d&&s.F_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{let d=s.F_.get(l);if(!d)return;s.F_.set(l,d.withResumeToken(Jn.EMPTY_BYTE_STRING,d.snapshotVersion)),MV(s,l);let h=new Wh(d.target,l,c,d.sequenceNumber);ID(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),yield rv(t,r)}})}function rv(t,e,n){return I(this,null,function*(){if(!ef(e))throw e;t.M_.add(1),yield tf(t),t.N_.set("Offline"),n||(n=()=>RV(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){ae("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Cv(t)}))})}function kV(t,e){return e().catch(n=>rv(t,n,e))}function Tv(t){return I(this,null,function*(){let e=Ne(t),n=$o(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;vee(e);)try{let i=yield uee(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,_ee(e,i)}catch(i){yield rv(e,i)}OV(e)&&FV(e)})}function vee(t){return tl(t)&&t.v_.length<10}function _ee(t,e){t.v_.push(e);let n=$o(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function OV(t){return tl(t)&&!$o(t).Zo()&&t.v_.length>0}function FV(t){$o(t).start()}function wee(t){return I(this,null,function*(){$o(t).V_()})}function Eee(t){return I(this,null,function*(){let e=$o(t);for(let n of t.v_)e.d_(n.mutations)})}function Iee(t,e,n){return I(this,null,function*(){let r=t.v_.shift(),i=sS.from(r,e,n);yield kV(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Tv(t)})}function bee(t,e){return I(this,null,function*(){e&&$o(t).E_&&(yield function(r,i){return I(this,null,function*(){if(function(o){return jX(o)&&o!==j.ABORTED}(i.code)){let s=r.v_.shift();$o(r).t_(),yield kV(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Tv(r)}})}(t,e)),OV(t)&&FV(t)})}function B2(t,e){return I(this,null,function*(){let n=Ne(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");let r=tl(n);n.M_.add(3),yield tf(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Cv(n)})}function Cee(t,e){return I(this,null,function*(){let n=Ne(t);e?(n.M_.delete(2),yield Cv(n)):e||(n.M_.add(2),yield tf(n),n.N_.set("Unknown"))})}function gu(t){return t.B_||(t.B_=function(n,r,i){let s=Ne(n);return s.f_(),new US(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:pee.bind(null,t),To:mee.bind(null,t),Ao:gee.bind(null,t),h_:yee.bind(null,t)}),t.x_.push(e=>I(this,null,function*(){e?(t.B_.t_(),CD(t)?bD(t):t.N_.set("Unknown")):(yield t.B_.stop(),PV(t))}))),t.B_}function $o(t){return t.k_||(t.k_=function(n,r,i){let s=Ne(n);return s.f_(),new jS(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:wee.bind(null,t),Ao:bee.bind(null,t),R_:Eee.bind(null,t),A_:Iee.bind(null,t)}),t.x_.push(e=>I(this,null,function*(){e?(t.k_.t_(),yield Tv(t)):(yield t.k_.stop(),t.v_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var zS=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function TD(t,e){if(Us("AsyncQueue",`${e}: ${t}`),ef(t))return new te(j.UNAVAILABLE,`${e}: ${t}`);throw t}var iv=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Lh(),this.sortedSet=new Vt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var sv=class{constructor(){this.q_=new Vt(me.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Te():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}},du=class t{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,iv.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ev(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var qS=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},GS=class{constructor(){this.queries=new Uo(e=>aV(e),Ev),this.onlineState="Unknown",this.z_=new Set}};function LV(t,e){return I(this,null,function*(){let n=Ne(t),r=3,i=e.query,s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new qS,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield n.onListen(i,!0);break;case 1:s.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=TD(o,`Initialization of query '${Yc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&SD(n)})}function VV(t,e){return I(this,null,function*(){let n=Ne(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Tee(t,e){let n=Ne(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&SD(n)}function See(t,e,n){let r=Ne(t),i=r.queries.get(e);if(i)for(let s of i.U_)s.onError(n);r.queries.delete(e)}function SD(t){t.z_.forEach(e=>{e.next()})}var WS,$2;($2=WS||(WS={})).J_="default",$2.Cache="cache";var ov=class{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new du(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=du.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==WS.Cache}};var av=class{constructor(e){this.key=e}},lv=class{constructor(e){this.key=e}},KS=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ue(),this.mutatedKeys=Ue(),this.Ia=lV(e),this.Ta=new iv(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new sv,i=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{let p=i.get(d),g=Iv(this.query,h)?h:null,_=!!p&&this.mutatedKeys.has(p.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),A=!1;p&&g?p.data.isEqual(g.data)?_!==T&&(r.track({type:3,doc:g}),A=!0):this.Ra(p,g)||(r.track({type:2,doc:g}),A=!0,(l&&this.Ia(g,l)>0||c&&this.Ia(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),A=!0):p&&!g&&(r.track({type:1,doc:p}),A=!0,(l||c)&&(a=!0)),A&&(g?(o=o.add(g),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((d,h)=>function(g,_){let T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return T(g)-T(_)}(d.type,h.type)||this.Ia(d.doc,h.doc)),this.Va(r),i=i!=null&&i;let a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new du(this.query,e.Ta,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new sv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=Ue(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new lv(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new av(r))}),n}pa(e){this.la=e.hs,this.Pa=Ue();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return du.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},QS=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},YS=class{constructor(e){this.key=e,this.wa=!1}},ZS=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Uo(a=>aV(a),Ev),this.Da=new Map,this.Ca=new Set,this.va=new Vt(me.comparator),this.Fa=new Map,this.Ma=new Qh,this.xa={},this.Oa=new Map,this.Na=Kh.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function Dee(t,e,n=!0){return I(this,null,function*(){let r=zV(t),i,s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield UV(r,e,n,!0),i})}function Aee(t,e){return I(this,null,function*(){let n=zV(t);yield UV(n,e,!0,!1)})}function UV(t,e,n,r){return I(this,null,function*(){let i=yield dee(t.localStore,Ki(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield xee(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&NV(t.remoteStore,i),a})}function xee(t,e,n,r,i){return I(this,null,function*(){t.Ba=(h,p,g)=>function(T,A,L,H){return I(this,null,function*(){let W=A.view.da(L);W.Xi&&(W=yield j2(T.localStore,A.query,!1).then(({documents:D})=>A.view.da(D,W)));let ee=H&&H.targetChanges.get(A.targetId),je=H&&H.targetMismatches.get(A.targetId)!=null,le=A.view.applyChanges(W,T.isPrimaryClient,ee,je);return z2(T,A.targetId,le.fa),le.snapshot})}(t,h,p,g);let s=yield j2(t.localStore,e,!0),o=new KS(e,s.hs),a=o.da(s.documents),l=Gh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);z2(t,n,c.fa);let d=new QS(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot})}function Ree(t,e,n){return I(this,null,function*(){let r=Ne(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Ev(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield kS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ED(r.remoteStore,i.targetId),JS(r,i.targetId)}).catch(Xh))):(JS(r,i.targetId),yield kS(r.localStore,i.targetId,!0))})}function Nee(t,e){return I(this,null,function*(){let n=Ne(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ED(n.remoteStore,r.targetId))})}function Mee(t,e,n){return I(this,null,function*(){let r=Uee(t);try{let i=yield function(o,a){let l=Ne(o),c=En.now(),d=a.reduce((g,_)=>g.add(_.key),Ue()),h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Bs(),T=Ue();return l.os.getEntries(g,d).next(A=>{_=A,_.forEach((L,H)=>{H.isValidDocument()||(T=T.add(L))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(A=>{h=A;let L=[];for(let H of a){let W=UX(H,h.get(H.key).overlayedDocument);W!=null&&L.push(new Zi(H.key,W,eV(W.value.mapValue),Fo.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,L,a)}).next(A=>{p=A;let L=A.applyToLocalDocumentSet(h,T);return l.documentOverlayCache.saveOverlays(g,A.batchId,L)})}).then(()=>({batchId:p.batchId,changes:uV(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new Vt(et)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),yield nf(r,i.changes),yield Tv(r.remoteStore)}catch(i){let s=TD(i,"Failed to persist write");n.reject(s)}})}function jV(t,e){return I(this,null,function*(){let n=Ne(t);try{let r=yield lee(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Fa.get(s);o&&(_t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?_t(o.wa):i.removedDocuments.size>0&&(_t(o.wa),o.wa=!1))}),yield nf(n,r,e)}catch(r){yield Xh(r)}})}function H2(t,e,n){let r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let l=Ne(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(let p of h.U_)p.j_(a)&&(c=!0)}),c&&SD(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Pee(t,e,n){return I(this,null,function*(){let r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Vt(me.comparator);o=o.insert(s,_i.newNoDocument(s,Pe.min()));let a=Ue().add(s),l=new Wy(Pe.min(),new Map,new Vt(et),o,a);yield jV(r,l),r.va=r.va.remove(s),r.Fa.delete(e),DD(r)}else yield kS(r.localStore,e,!1).then(()=>JS(r,e,n)).catch(Xh)})}function kee(t,e){return I(this,null,function*(){let n=Ne(t),r=e.batch.batchId;try{let i=yield aee(n.localStore,e);$V(n,r,null),BV(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield nf(n,i)}catch(i){yield Xh(i)}})}function Oee(t,e,n){return I(this,null,function*(){let r=Ne(t);try{let i=yield function(o,a){let l=Ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(_t(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);$V(r,e,n),BV(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield nf(r,i)}catch(i){yield Xh(i)}})}function BV(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function $V(t,e,n){let r=Ne(t),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function JS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||HV(t,r)})}function HV(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(ED(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),DD(t))}function z2(t,e,n){for(let r of n)r instanceof av?(t.Ma.addReference(r.key,e),Fee(t,r)):r instanceof lv?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||HV(t,r.key)):Te()}function Fee(t,e){let n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.Ca.add(r),DD(t))}function DD(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new me(xt.fromString(e)),r=t.Na.next();t.Fa.set(r,new YS(n)),t.va=t.va.insert(n,r),NV(t.remoteStore,new Wh(Ki(_D(n.path)),r,"TargetPurposeLimboResolution",Z2.oe))}}function nf(t,e,n){return I(this,null,function*(){let r=Ne(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){let h=c?!c.fromCache:(d=n?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);let h=RS.Ki(l.targetId,c);s.push(h)}}))}),yield Promise.all(o),r.Sa.h_(i),yield function(l,c){return I(this,null,function*(){let d=Ne(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>G.forEach(c,p=>G.forEach(p.qi,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>G.forEach(p.Qi,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!ef(h))throw h;ae("LocalStore","Failed to update sequence numbers: "+h)}for(let h of c){let p=h.targetId;if(!h.fromCache){let g=d.ns.get(p),_=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(_);d.ns=d.ns.insert(p,T)}}})}(r.localStore,s))})}function Lee(t,e){return I(this,null,function*(){let n=Ne(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());let r=yield xV(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new te(j.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield nf(n,r.us)}})}function Vee(t,e){let n=Ne(t),r=n.Fa.get(e);if(r&&r.wa)return Ue().add(r.key);{let i=Ue(),s=n.Da.get(e);if(!s)return i;for(let o of s){let a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function zV(t){let e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pee.bind(null,e),e.Sa.h_=Tee.bind(null,e.eventManager),e.Sa.ka=See.bind(null,e.eventManager),e}function Uee(t){let e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Oee.bind(null,e),e}var cv=class{constructor(){this.synchronizeTabs=!1}initialize(e){return I(this,null,function*(){this.serializer=bv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return oee(this.persistence,new MS,e.initialUser,this.serializer)}createPersistence(e){return new DS(xS.Hr,this.serializer)}createSharedClientState(e){return new OS}terminate(){return I(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var XS=class{initialize(e,n){return I(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>H2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lee.bind(null,this.syncEngine),yield Cee(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new GS}()}createDatastore(e){let n=bv(e.databaseInfo.databaseId),r=function(s){return new VS(s)}(e.databaseInfo);return function(s,o,a,l){return new BS(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new HS(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>H2(this.syncEngine,n,0),function(){return ev.D()?new ev:new FS}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){let h=new ZS(i,s,o,a,l,c);return d&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return I(this,null,function*(){var e;yield function(r){return I(this,null,function*(){let i=Ne(r);ae("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield tf(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var uv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var eD=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=jy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>I(this,null,function*(){ae("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(ae("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=TD(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function NT(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield xV(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function q2(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Bee(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>B2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>B2(e.remoteStore,i)),t._onlineComponents=e})}function jee(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Bee(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{yield NT(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!jee(n))throw n;nu("Error using user provided cache. Falling back to memory cache: "+n),yield NT(t,new cv)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),yield NT(t,new cv);return t._offlineComponents})}function qV(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),yield q2(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),yield q2(t,new XS))),t._onlineComponents})}function $ee(t){return qV(t).then(e=>e.syncEngine)}function GV(t){return I(this,null,function*(){let e=yield qV(t),n=e.eventManager;return n.onListen=Dee.bind(null,e.syncEngine),n.onUnlisten=Ree.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Aee.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Nee.bind(null,e.syncEngine),n})}function Hee(t,e,n={}){let r=new vi;return t.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(s,o,a,l,c){let d=new uv({next:p=>{o.enqueueAndForget(()=>VV(s,h));let g=p.docs.has(a);!g&&p.fromCache?c.reject(new te(j.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new te(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new ov(_D(a.path),d,{includeMetadataChanges:!0,ra:!0});return LV(s,h)}(yield GV(t),t.asyncQueue,e,n,r)})),r.promise}function zee(t,e,n={}){let r=new vi;return t.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(s,o,a,l,c){let d=new uv({next:p=>{o.enqueueAndForget(()=>VV(s,h)),p.fromCache&&l.source==="server"?c.reject(new te(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new ov(a,d,{includeMetadataChanges:!0,ra:!0});return LV(s,h)}(yield GV(t),t.asyncQueue,e,n,r)})),r.promise}function WV(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var G2=new Map;function KV(t,e,n){if(!n)throw new te(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qee(t,e,n,r){if(e===!0&&r===!0)throw new te(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function W2(t){if(!me.isDocumentKey(t))throw new te(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function K2(t){if(me.isDocumentKey(t))throw new te(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te()}function $s(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Sv(t);throw new te(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var dv=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qee("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},hu=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new MT;switch(r.type){case"firstParty":return new FT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=G2.get(n);r&&(ae("ComponentProvider","Removing Datastore"),G2.delete(n),r.terminate())}(this),Promise.resolve()}};function QV(t,e,n,r={}){var i;let s=(t=$s(t,hu))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&nu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ln.MOCK_USER;else{a=ey(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new te(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ln(c)}t._authCredentials=new PT(new Uy(a,l))}}var fu=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Zn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Lo=class t extends fu{constructor(e,n,r){super(e,n,_D(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new me(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function YV(t,e,...n){if(t=ct(t),KV("collection","path",e),t instanceof hu){let r=xt.fromString(e,...n);return K2(r),new Lo(t,null,r)}{if(!(t instanceof Zn||t instanceof Lo))throw new te(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xt.fromString(e,...n));return K2(r),new Lo(t.firestore,null,r)}}function ZV(t,e,...n){if(t=ct(t),arguments.length===1&&(e=jy.newId()),KV("doc","path",e),t instanceof hu){let r=xt.fromString(e,...n);return W2(r),new Zn(t,null,new me(r))}{if(!(t instanceof Zn||t instanceof Lo))throw new te(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xt.fromString(e,...n));return W2(r),new Zn(t.firestore,t instanceof Lo?t.converter:null,new me(r))}}var tD=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new tv(this,"async_queue_retry"),this.hu=()=>{let n=RT();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=RT();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=RT();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new vi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return I(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!ef(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Us("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=zS.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&Te()}verifyOperationInProgress(){}du(){return I(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var Xa=class extends hu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new tD}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||XV(this),this._firestoreClient.terminate()}};function JV(t,e){let n=typeof t=="object"?t:mi(),r=typeof t=="string"?t:e||"(default)",i=Ir(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Xg("firestore");s&&QV(i,...s)}return i}function AD(t){return t._firestoreClient||XV(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function XV(t){var e,n,r;let i=t._freezeSettings(),s=function(a,l,c,d){return new BT(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,WV(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new eD(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Yh=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Jn.fromBase64String(e))}catch(n){throw new te(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var pu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ho=class{constructor(e){this._methodName=e}};var Zh=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}};var Gee=/^__.*__$/,nD=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ja(e,this.data,n,this.fieldTransforms)}},hv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function eU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}var fv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return mv(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(eU(this.fu)&&Gee.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},rD=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bv(e)}Fu(e,n,r,i=!1){return new fv({fu:e,methodName:n,vu:r,path:Sr.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function xD(t){let e=t._freezeSettings(),n=bv(t._databaseId);return new rD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Wee(t,e,n,r,i,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);RD("Data must be an object, but it was:",o,r);let a=nU(r,o),l,c;if(s.merge)l=new Gr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let h of s.mergeFields){let p=aD(e,h,n);if(!o.contains(p))throw new te(j.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);iU(d,p)||d.push(p)}l=new Gr(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new nD(new Tr(a),l,c)}var pv=class t extends Ho{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function tU(t,e,n){return new fv({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var iD=class t extends Ho{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=tU(this,e,!0),r=this.Mu.map(s=>nl(s,n)),i=new jo(r);return new qh(e.path,i)}isEqual(e){return e instanceof t&&pi(this.Mu,e.Mu)}},sD=class t extends Ho{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=tU(this,e,!0),r=this.Mu.map(s=>nl(s,n)),i=new Bo(r);return new qh(e.path,i)}isEqual(e){return e instanceof t&&pi(this.Mu,e.Mu)}},oD=class t extends Ho{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){let n=new Za(e.serializer,pV(e.serializer,this.xu));return new qh(e.path,n)}isEqual(e){return e instanceof t&&this.xu===e.xu}};function Kee(t,e,n,r){let i=t.Fu(1,e,n);RD("Data must be an object, but it was:",i,r);let s=[],o=Tr.empty();el(r,(l,c)=>{let d=ND(e,l,n);c=ct(c);let h=i.Su(d);if(c instanceof pv)s.push(d);else{let p=nl(c,h);p!=null&&(s.push(d),o.set(d,p))}});let a=new Gr(s);return new hv(o,a,i.fieldTransforms)}function Qee(t,e,n,r,i,s){let o=t.Fu(1,e,n),a=[aD(e,r,n)],l=[i];if(s.length%2!=0)throw new te(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(aD(e,s[p])),l.push(s[p+1]);let c=[],d=Tr.empty();for(let p=a.length-1;p>=0;--p)if(!iU(c,a[p])){let g=a[p],_=l[p];_=ct(_);let T=o.Su(g);if(_ instanceof pv)c.push(g);else{let A=nl(_,T);A!=null&&(c.push(g),d.set(g,A))}}let h=new Gr(c);return new hv(d,h,o.fieldTransforms)}function Yee(t,e,n,r=!1){return nl(n,t.Fu(r?4:3,e))}function nl(t,e){if(rU(t=ct(t)))return RD("Unsupported field value:",e,t),nU(t,e);if(t instanceof Ho)return function(r,i){if(!eU(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let l=nl(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=En.fromDate(r);return{timestampValue:Zy(i.serializer,s)}}if(r instanceof En){let s=new En(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zy(i.serializer,s)}}if(r instanceof Zh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yh)return{bytesValue:IV(i.serializer,r._byteString)};if(r instanceof Zn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:wD(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Sv(r)}`)}(t,e)}function nU(t,e){let n={};return J2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):el(t,(r,i)=>{let s=nl(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function rU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof En||t instanceof Zh||t instanceof Yh||t instanceof Zn||t instanceof Ho)}function RD(t,e,n){if(!rU(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Sv(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function aD(t,e,n){if((e=ct(e))instanceof pu)return e._internalPath;if(typeof e=="string")return ND(t,e);throw mv("Field path arguments must be of type string or ",t,!1,void 0,n)}var Zee=new RegExp("[~\\*/\\[\\]]");function ND(t,e,n){if(e.search(Zee)>=0)throw mv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pu(...e.split("."))._internalPath}catch{throw mv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mv(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new te(j.INVALID_ARGUMENT,a+t+l)}function iU(t,e){return t.some(n=>n.isEqual(e))}var gv=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new lD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(MD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},lD=class extends gv{data(){return super.data()}};function MD(t,e){return typeof e=="string"?ND(t,e):e instanceof pu?e._internalPath:e._delegate._internalPath}function Jee(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jh=class{},cD=class extends Jh{};function sU(t,e,...n){let r=[];e instanceof Jh&&r.push(e),r=r.concat(n),function(s){let o=s.filter(l=>l instanceof uD).length,a=s.filter(l=>l instanceof yv).length;if(o>1||o>0&&a>0)throw new te(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var yv=class t extends cD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return aU(e._query,n),new fu(e.firestore,e.converter,eS(e._query,n))}_parse(e){let n=xD(e.firestore);return function(s,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new te(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Y2(h,d);let g=[];for(let _ of h)g.push(Q2(l,s,_));p={arrayValue:{values:g}}}else p=Q2(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Y2(h,d),p=Yee(a,o,h,d==="in"||d==="not-in");return Yt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function oU(t,e,n){let r=e,i=MD("where",t);return yv._create(i,r,n)}var uD=class t extends Jh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:wi.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let l of a)aU(o,l),o=eS(o,l)}(e._query,n),new fu(e.firestore,e.converter,eS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Q2(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new te(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oV(e)&&n.indexOf("/")!==-1)throw new te(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(xt.fromString(n));if(!me.isDocumentKey(r))throw new te(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return b2(t,new me(r))}if(n instanceof Zn)return b2(t,n._key);throw new te(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sv(n)}.`)}function Y2(t,e){if(!Array.isArray(t)||t.length===0)throw new te(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aU(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var dD=class{convertValue(e,n="none"){switch(Qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return el(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Zh(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=mD(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hh(e));default:return null}}convertTimestamp(e){let n=js(e);return new En(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=xt.fromString(e);_t(AV(r));let i=new zy(r.get(1),r.get(3)),s=new me(r.popFirst(5));return i.isEqual(n)||Us(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function Xee(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ga=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},vv=class extends gv{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new tu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(MD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},tu=class extends vv{data(e={}){return super.data(e)}},hD=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ga(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tu(this._firestore,this._userDataWriter,r.key,r,new Ga(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let l=new tu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ga(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new tu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ga(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:ete(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function ete(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}function lU(t){t=$s(t,Zn);let e=$s(t.firestore,Xa);return Hee(AD(e),t._key).then(n=>tte(e,t,n))}var _v=class extends dD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yh(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,n)}};function cU(t){t=$s(t,fu);let e=$s(t.firestore,Xa),n=AD(e),r=new _v(e);return Jee(t._query),zee(n,t._query).then(i=>new hD(e,r,t,i))}function uU(t,e,n){t=$s(t,Zn);let r=$s(t.firestore,Xa),i=Xee(t.converter,e,n);return hU(r,[Wee(xD(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Fo.none())])}function dU(t,e,n,...r){t=$s(t,Zn);let i=$s(t.firestore,Xa),s=xD(i),o;return o=typeof(e=ct(e))=="string"||e instanceof pu?Qee(s,"updateDoc",t._key,e,n,r):Kee(s,"updateDoc",t._key,e),hU(i,[o.toMutation(t._key,Fo.exists(!0))])}function hU(t,e){return function(r,i){let s=new vi;return r.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return Mee(yield $ee(r),i,s)})),s.promise}(AD(t),e)}function tte(t,e,n){let r=n.docs.get(e._key),i=new _v(t);return new vv(t,i,e._key,r,new Ga(n.hasPendingWrites,n.fromCache),e.converter)}function fU(...t){return new iD("arrayUnion",t)}function pU(...t){return new sD("arrayRemove",t)}function mU(t){return new oD("increment",t)}(function(e,n=!0){(function(i){mu=i})(Hi),Pn(new Wt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Xa(new kT(r.getProvider("auth-internal")),new VT(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zy(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),qe(w2,"4.6.4",e),qe(w2,"4.6.4","esm2017")})();var Ei=class{constructor(e){return e}},gU="firestore",PD=class{constructor(){return Ms(gU)}};var kD=new $("angularfire2.firestore-instances");function nte(t,e){let n=No(gU,t,e);return n&&new Ei(n)}function rte(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ei(r)}}var ite={provide:PD,deps:[[new bt,kD]]},ste={provide:Ei,useFactory:nte,deps:[[new bt,kD],Cr]};function yU(t,...e){return qe("angularfire",br.full,"fst"),zt([ste,ite,{provide:kD,useFactory:rte(t),multi:!0,deps:[ye,at,zi,gi,[new bt,Ha],[new bt,Ro],...e]}])}var Dv=st(pU,!0),yu=st(fU,!0);var rf=st(YV,!0);var In=st(ZV,!0);var Hs=st(lU,!0);var sf=st(cU,!0);var vU=st(JV,!0);var _U=st(mU,!0);var OD=st(sU,!0);var vu=st(uU,!0);var zo=st(dU,!0);var Av=st(oU,!0);var Dt=(()=>{class t{firestore=S(Ei);constructor(){}getAllArticles(){return oe(sf(rf(this.firestore,"articles"))).pipe(Z(n=>n.docs.map(r=>r.data())))}getMyAccount(n){let r=In(this.firestore,"userAccounts",n);return console.log(r),oe(Hs(r)).pipe(Z(i=>i.data()))}getAllArticlesByLoggedInUser(n,r){console.log(r);let i=In(this.firestore,"userAccounts",r);return oe(Hs(i)).pipe(Z(s=>s.data()?.articles),Fe(s=>this.getArticlesByIds(n,s)))}getAllSavedArticlesByLoggedInUser(n,r){let i=In(this.firestore,"userAccounts",r);return oe(Hs(i)).pipe(Z(s=>s.data()?.saved||[]),Fe(s=>this.getArticlesByIds(n,s)))}getArticlesByIds(n,r){let i=r.map(s=>this.getArticleById(n,s));return ud(i)}getArticleById(n,r){let i=rf(this.firestore,"articles"),s=OD(i,Av("status","==",n),Av("_id","==",r));return oe(sf(s)).pipe(Z(o=>o.docs.map(a=>a.data())))}createArticle(n){let r=In(this.firestore,"articles",n._id);return oe(vu(r,n)).pipe(Fe(()=>this.saveArticleIdToUserAccount(r.id,n?.authorId)))}saveArticleIdToUserAccount(n,r){let i=In(this.firestore,"userAccounts",r);return oe(zo(i,{articles:yu(n)}))}handlePageViews(n){return oe(zo(In(this.firestore,"articles",n),{views:_U(1)}))}addToSaved(n,r){let i=In(this.firestore,"userAccounts",r);return oe(zo(i,{saved:yu(n)}))}removeFromSaved(n,r){let i=In(this.firestore,"userAccounts",r);return oe(zo(i,{saved:Dv(n)}))}isSavedArticle(n,r){return this.getMyAccount(n).pipe(Z(i=>(console.log(i),i&&i.saved&&Array.isArray(i.saved)?i.saved.includes(r):!1)),Xt(i=>(console.error("Error checking if article is saved:",i),ue(!1))))}createComment(n){let r=In(this.firestore,"articles",n.articleId);return oe(zo(r,{comments:yu(n)})).pipe(Xt(i=>$n(i.message)))}getComments(n){let r=rf(this.firestore,"articles"),i=OD(r,Av("articleId","==",n&&n));return oe(sf(i)).pipe(Z(s=>s.docs.map(o=>o.data())))}followAuthor(n,r,i){let s=this.updateFollowing(n,i,r),o=this.updateFollowers(n,r,i);return s.pipe(Fe(()=>o),tt(()=>console.log("Follow and add follower operations completed successfully")),Xt(a=>(console.error("Error in follow and add followers operations:",a),$n(()=>a))))}updateFollowing(n,r,i){let s=In(this.firestore,"userAccounts",r);return oe(zo(s,{following:n=="follow"?yu(i):Dv(i)}))}updateFollowers(n,r,i){let s=In(this.firestore,"userAccounts",r);return oe(zo(s,{followers:n=="follow"?yu(r):Dv(r)}))}getAuthorDetailsByAuthorID(n){let r=In(this.firestore,"articles",n);return oe(Hs(r)).pipe(Z(i=>i.data()?.authorId),Fe(i=>this.getMyAccount(i)))}getAllAuthors(){return oe(sf(rf(this.firestore,"userAccounts"))).pipe(Z(n=>n.docs.map(r=>r.data())))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ji=(()=>{class t{router=S(Ze);data=pe();isSaved=!1;refreshEvent=new De;articleService=S(Dt);store=S(it);constructor(){Mn(()=>{this.isSavedArticle(this.data()?._id)})}ngOnInit(){this.readingTime()}readingTime(){let n=document.getElementById("article")?.innerText,r=300,i=n.trim().split(/\s+/).length;return Math.ceil(i/r)}navigate(n,r){this.router.navigate(["discover","article-details",n,r])}navigateToAuthorPage(n){this.router.navigate(["discover","author-details",n])}addTosave(n){this.store.select("loggedUser").subscribe(r=>{r?.user&&(this.isSaved?this.articleService.removeFromSaved(n,r?.user?.userUid).subscribe(i=>{this.isSavedArticle(this.data()?._id),this.refreshEvent.emit(!0)}):this.articleService.addToSaved(n,r?.user?.userUid).subscribe(i=>{this.isSavedArticle(this.data()?._id),this.refreshEvent.emit(!0)}))})}isSavedArticle(n){this.store.select("loggedUser").subscribe(r=>{console.log(n),r?.user&&this.articleService.isSavedArticle(r?.user?.userUid,n).subscribe(i=>{this.isSaved=i})})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-article-card"]],inputs:{data:[1,"data"]},outputs:{refreshEvent:"refreshEvent"},standalone:!0,features:[se],decls:40,vars:12,consts:[["id","article",1,"group","shadow-sm","border-gray-200","sm:flex","bg-white","rounded-xl","border"],[1,"p-4","relative","flex-1"],[1,"cursor-pointer",3,"click"],[1,"text-xl","font-medium","text-gray-900","dark:text-white"],[1,"mt-2","line-clamp-3","text-sm/relaxed","text-gray-500","dark:text-gray-400"],[1,"absolute","bottom-4","pr-10","z-10","w-full","flex","justify-between","line-clamp-3","items-center","gap-4"],[1,"flex","items-center","gap-4"],[1,"text-gray-500","dark:text-gray-400","text-sm","font-medium"],[1,"text-gray-800","dark:text-gray-400","px-2","py-0.5","rounded-xl","text-sm","bg-gray-200"],[1,"flex","text-gray-500","items-center","gap-x-1","dark:text-gray-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5"],["stroke-linecap","round","stroke-linejoin","round","d","M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],[1,"text-sm"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.068.157 2.148.279 3.238.364.466.037.893.281 1.153.671L12 21l2.652-3.978c.26-.39.687-.634 1.153-.67 1.09-.086 2.17-.208 3.238-.365 1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","stroke","none",1,"size-5","cursor-pointer",3,"ngClass"],["stroke-linecap","round","stroke-linejoin","round","d","M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"],[1,"flex","items-center","gap-1","group","text-gray-700"],["stroke-linecap","round","stroke-linejoin","round","d","M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],[1,"font-medium","text-sm","cursor-pointer","hover:underline",3,"click"],["alt","",1,"h-44","sm:m-4","w-auto","rounded-xl","object-cover","shadow-xl","transition","group-hover:grayscale-[50%]","dark:shadow-gray-700/25",3,"src"]],template:function(r,i){if(r&1&&(y(0,"article",0)(1,"div",1)(2,"a",2),Y("click",function(){let o;return i.navigate((o=i.data())==null?null:o._id,(o=i.data())==null?null:o.views)}),y(3,"h3",3),N(4),w()(),y(5,"p",4),N(6),w(),y(7,"div",5)(8,"div",6)(9,"p",7),N(10),Lr(11,"date"),w(),y(12,"p",8),N(13),w(),y(14,"div",9)(15,"span"),he(),y(16,"svg",10),V(17,"path",11)(18,"path",12),w()(),_e(),y(19,"span",13),N(20),w()(),y(21,"div",9)(22,"span"),he(),y(23,"svg",10),V(24,"path",14),w()(),_e(),y(25,"span",13),N(26),w()()(),y(27,"div",6)(28,"div",9)(29,"span",15),Y("click",function(){let o;return i.addTosave((o=i.data())==null?null:o._id)}),he(),y(30,"svg",16),V(31,"path",17),w()(),_e(),y(32,"span",13),N(33,"1.8K"),w()(),y(34,"div",18),he(),y(35,"svg",10),V(36,"path",19),w(),_e(),y(37,"p",20),Y("click",function(){let o;return i.navigateToAuthorPage((o=i.data())==null?null:o.authorId)}),N(38),w()()()()(),V(39,"img",21),w()),r&2){let s,o,a,l,c,d,h,p;R(4),Ce(" ",(s=i.data())==null?null:s.title," "),R(2),Ce(" ",(o=i.data())==null?null:o.description," "),R(4),Ft(fc(11,9,(a=i.data())==null?null:a.published,"mediumDate")),R(3),Ce(" ",(l=i.data())==null?null:l.readTime," min read"),R(7),Ft((c=i.data())==null?null:c.views),R(6),Ft((d=i.data())!=null&&d.comments?(d=i.data())==null||d.comments==null?null:d.comments.length:0),R(4),O("ngClass",i.isSaved?"fill-emerald-600":"fill-none stroke-current"),R(8),Ft((h=i.data())==null?null:h.author),R(),O("src",(p=i.data())==null?null:p.articlePhoto,ai)}},dependencies:[To,Fi,_n]})}return t})();var wU=(()=>{class t{featuredData=pe();router=S(Ze);constructor(){Mn(()=>{})}ngOnInit(){this.readingTime()}readingTime(){let r=this.featuredData()?.title.trim().split(/\s+/).length+this.featuredData()?.editorContent.trim().split(/\s+/).length;return Math.ceil(r/300)}navigate(n){this.router.navigate(["discover","article-details",n?.toLowerCase().replace(/ /g,"-")])}navigateToAuthorPage(n){this.router.navigate(["discover","author-details",n?.toLowerCase().replace(/ /g,"-")])}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-featured"]],inputs:{featuredData:[1,"featuredData"]},standalone:!0,features:[se],decls:42,vars:11,consts:[["id","article",1,"group","relative","shadow-sm","h-[400px]","border-gray-200","bg-white","rounded-xl","border"],["alt","",1,"h-56","w-full","rounded-t-xl","object-cover","shadow-xl","transition","group-hover:grayscale-[50%]","dark:shadow-gray-700/25",3,"src"],[1,"p-4"],["href","#"],[1,"text-lg","font-medium","text-gray-900","dark:text-white"],[1,"mt-2","line-clamp-3","text-sm/relaxed","text-gray-500","dark:text-gray-400"],[1,"absolute","bottom-2","px-4","pt-4","z-10","w-full","flex","justify-between","line-clamp-3","items-center","gap-4"],[1,"flex","items-center","gap-4"],[1,"text-gray-800","dark:text-gray-400","px-4","py-0.5","rounded-xl","text-sm","border","border-gray-300"],[1,"text-gray-500","dark:text-gray-400","text-sm","font-medium"],[1,"text-gray-800","dark:text-gray-400","px-2","py-0.5","rounded-xl","text-sm","bg-gray-200"],[1,"flex","text-gray-500","items-center","gap-x-1","dark:text-gray-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5"],["stroke-linecap","round","stroke-linejoin","round","d","M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],[1,"text-sm"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.068.157 2.148.279 3.238.364.466.037.893.281 1.153.671L12 21l2.652-3.978c.26-.39.687-.634 1.153-.67 1.09-.086 2.17-.208 3.238-.365 1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"],["stroke-linecap","round","stroke-linejoin","round","d","M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"],[1,"flex","items-center","gap-1","group","text-gray-700"],["stroke-linecap","round","stroke-linejoin","round","d","M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],[1,"font-medium","text-sm","cursor-pointer","hover:underline",3,"click"]],template:function(r,i){if(r&1&&(y(0,"article",0),V(1,"img",1),y(2,"div",2)(3,"a",3)(4,"h3",4),N(5),w()(),y(6,"p",5),N(7),w()(),y(8,"div",6)(9,"div",7)(10,"p",8),N(11,"Popular "),w(),y(12,"p",9),N(13),Lr(14,"date"),w(),y(15,"p",10),N(16),w(),y(17,"div",11)(18,"span"),he(),y(19,"svg",12),V(20,"path",13)(21,"path",14),w()(),_e(),y(22,"span",15),N(23),w()(),y(24,"div",11)(25,"span"),he(),y(26,"svg",12),V(27,"path",16),w()(),_e(),y(28,"span",15),N(29),w()()(),y(30,"div",7)(31,"div",11)(32,"span"),he(),y(33,"svg",12),V(34,"path",17),w()(),_e(),y(35,"span",15),N(36,"1.8K"),w()(),y(37,"div",18),he(),y(38,"svg",12),V(39,"path",19),w(),_e(),y(40,"p",20),Y("click",function(){let o;return i.navigateToAuthorPage((o=i.featuredData())==null?null:o.author)}),N(41),w()()()()()),r&2){let s,o,a,l,c,d,h,p;R(),O("src",(s=i.featuredData())==null?null:s.articlePhoto,ai),R(4),Ce(" ",(o=i.featuredData())==null?null:o.title," "),R(2),Ce(" ",(a=i.featuredData())==null?null:a.description," "),R(6),Ft(fc(14,8,(l=i.featuredData())==null?null:l.published,"mediumDate")),R(3),Ce(" ",(c=i.featuredData())==null?null:c.readTime," min read"),R(7),Ft((d=i.featuredData())==null?null:d.views),R(6),Ft((h=i.featuredData())!=null&&h.comments?(h=i.featuredData())==null||h.comments==null?null:h.comments.length:0),R(12),Ft((p=i.featuredData())==null?null:p.author)}},dependencies:[Fi]})}return t})();var RU=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(X(tn),X(At))},e.\u0275dir=Ye({type:e});let t=e;return t})(),$D=(()=>{let e=class e extends RU{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Gn(e)))(s||e)}})(),e.\u0275dir=Ye({type:e,features:[yn]});let t=e;return t})(),sl=new $("");var ote={provide:sl,useExisting:sr(()=>Xi),multi:!0};function ate(){let t=Cs()?Cs().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var lte=new $(""),Xi=(()=>{let e=class e extends RU{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ate())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(X(tn),X(At),X(lte,8))},e.\u0275dir=Ye({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Y("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[ci([ote]),yn]});let t=e;return t})();function qo(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function NU(t){return t!=null&&typeof t.length=="number"}var ol=new $(""),HD=new $(""),cte=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,lr=class{static min(e){return ute(e)}static max(e){return dte(e)}static required(e){return MU(e)}static requiredTrue(e){return hte(e)}static email(e){return fte(e)}static minLength(e){return PU(e)}static maxLength(e){return pte(e)}static pattern(e){return mte(e)}static nullValidator(e){return Rv(e)}static compose(e){return UU(e)}static composeAsync(e){return BU(e)}};function ute(t){return e=>{if(qo(e.value)||qo(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function dte(t){return e=>{if(qo(e.value)||qo(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function MU(t){return qo(t.value)?{required:!0}:null}function hte(t){return t.value===!0?null:{required:!0}}function fte(t){return qo(t.value)||cte.test(t.value)?null:{email:!0}}function PU(t){return e=>qo(e.value)||!NU(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function pte(t){return e=>NU(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function mte(t){if(!t)return Rv;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(qo(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Rv(t){return null}function kU(t){return t!=null}function OU(t){return yo(t)?oe(t):t}function FU(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function LU(t,e){return e.map(n=>n(t))}function gte(t){return!t.validate}function VU(t){return t.map(e=>gte(e)?e:n=>e.validate(n))}function UU(t){if(!t)return null;let e=t.filter(kU);return e.length==0?null:function(n){return FU(LU(n,e))}}function jU(t){return t!=null?UU(VU(t)):null}function BU(t){if(!t)return null;let e=t.filter(kU);return e.length==0?null:function(n){let r=LU(n,e).map(OU);return ud(r).pipe(Z(FU))}}function $U(t){return t!=null?BU(VU(t)):null}function EU(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function HU(t){return t._rawValidators}function zU(t){return t._rawAsyncValidators}function FD(t){return t?Array.isArray(t)?t:[t]:[]}function Nv(t,e){return Array.isArray(t)?t.includes(e):t===e}function IU(t,e){let n=FD(e);return FD(t).forEach(i=>{Nv(n,i)||n.push(i)}),n}function bU(t,e){return FD(e).filter(n=>!Nv(t,n))}var Mv=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jU(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$U(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},rl=class extends Mv{get formDirective(){return null}get path(){return null}},il=class extends Mv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Pv=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},yte={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Owe=ve(U({},yte),{"[class.ng-submitted]":"isSubmitted"}),Wo=(()=>{let e=class e extends Pv{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(X(il,2))},e.\u0275dir=Ye({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Ea("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[yn]});let t=e;return t})(),Vv=(()=>{let e=class e extends Pv{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(X(rl,10))},e.\u0275dir=Ye({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Ea("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[yn]});let t=e;return t})();var of="VALID",xv="INVALID",_u="PENDING",af="DISABLED",Go=class{},kv=class extends Go{constructor(e,n){super(),this.value=e,this.source=n}},lf=class extends Go{constructor(e,n){super(),this.pristine=e,this.source=n}},cf=class extends Go{constructor(e,n){super(),this.touched=e,this.source=n}},wu=class extends Go{constructor(e,n){super(),this.status=e,this.source=n}},LD=class extends Go{constructor(e){super(),this.source=e}},VD=class extends Go{constructor(e){super(),this.source=e}};function zD(t){return(Uv(t)?t.validators:t)||null}function vte(t){return Array.isArray(t)?jU(t):t||null}function qD(t,e){return(Uv(e)?e.asyncValidators:t)||null}function _te(t){return Array.isArray(t)?$U(t):t||null}function Uv(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function qU(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function GU(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var Eu=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ws(()=>this.statusReactive()),this.statusReactive=gn(void 0),this._pristine=ws(()=>this.pristineReactive()),this.pristineReactive=gn(!0),this._touched=ws(()=>this.touchedReactive()),this.touchedReactive=gn(!1),this._events=new ot,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Vr(this.statusReactive)}set status(e){Vr(()=>this.statusReactive.set(e))}get valid(){return this.status===of}get invalid(){return this.status===xv}get pending(){return this.status==_u}get disabled(){return this.status===af}get enabled(){return this.status!==af}get pristine(){return Vr(this.pristineReactive)}set pristine(e){Vr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Vr(this.touchedReactive)}set touched(e){Vr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(IU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(IU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(bU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(bU(e,this._rawAsyncValidators))}hasValidator(e){return Nv(this._rawValidators,e)}hasAsyncValidator(e){return Nv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ve(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new cf(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new cf(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ve(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new lf(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new lf(!0,r))}markAsPending(e={}){this.status=_u;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wu(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ve(U({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=af,this.errors=null,this._forEachChild(i=>{i.disable(ve(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kv(this.value,r)),this._events.next(new wu(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ve(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=of,this._forEachChild(r=>{r.enable(ve(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ve(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===of||this.status===_u)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kv(this.value,n)),this._events.next(new wu(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ve(U({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?af:of}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=_u,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=OU(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new wu(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new De,this.statusChanges=new De}_calculateStatus(){return this._allControlsDisabled()?af:this.errors?xv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_u)?_u:this._anyControlsHaveStatus(xv)?xv:of}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new lf(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new cf(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Uv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=vte(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=_te(this._rawAsyncValidators)}},Ov=class extends Eu{constructor(e,n,r){super(zD(n),qD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){GU(this,!0,e),Object.keys(e).forEach(r=>{qU(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var UD=class extends Ov{};var jv=new $("CallSetDisabledState",{providedIn:"root",factory:()=>Bv}),Bv="always";function WU(t,e){return[...e.path,t]}function jD(t,e,n=Bv){GD(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Ete(t,e),bte(t,e),Ite(t,e),wte(t,e)}function CU(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Lv(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Fv(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function wte(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function GD(t,e){let n=HU(t);e.validator!==null?t.setValidators(EU(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=zU(t);e.asyncValidator!==null?t.setAsyncValidators(EU(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Fv(e._rawValidators,i),Fv(e._rawAsyncValidators,i)}function Lv(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=HU(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=zU(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Fv(e._rawValidators,r),Fv(e._rawAsyncValidators,r),n}function Ete(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&KU(t,e)})}function Ite(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&KU(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function KU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bte(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Cte(t,e){t==null,GD(t,e)}function Tte(t,e){return Lv(t,e)}function QU(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Ste(t){return Object.getPrototypeOf(t.constructor)===$D}function Dte(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function YU(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Xi?n=s:Ste(s)?r=s:i=s}),i||r||n||null}function Ate(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function TU(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function SU(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var uf=class extends Eu{constructor(e=null,n,r){super(zD(n),qD(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Uv(n)&&(n.nonNullable||n.initialValueIsDefault)&&(SU(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){TU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){TU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){SU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xte=t=>t instanceof uf;var Rte={provide:il,useExisting:sr(()=>df)},DU=Promise.resolve(),df=(()=>{let e=class e extends il{constructor(r,i,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new uf,this._registered=!1,this.name="",this.update=new De,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=YU(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),QU(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){jD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){DU.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&vn(i);DU.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?WU(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(X(rl,9),X(ol,10),X(HD,10),X(sl,10),X(Nn,8),X(jv,8))},e.\u0275dir=Ye({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ci([Rte]),yn,ar]});let t=e;return t})();var ZU=new $("");var Nte={provide:rl,useExisting:sr(()=>hf)},hf=(()=>{let e=class e extends rl{get submitted(){return Vr(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=ws(()=>this._submittedReactive()),this._submittedReactive=gn(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new De,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Lv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return jD(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){CU(r.control||null,r,!1),Ate(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this._submittedReactive.set(!0),Dte(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new LD(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new VD(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(CU(i||null,r),xte(s)&&(jD(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);Cte(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&Tte(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){GD(this.form,this),this._oldForm&&Lv(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(X(ol,10),X(HD,10),X(jv,8))},e.\u0275dir=Ye({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&Y("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ci([Nte]),yn,ar]});let t=e;return t})();var Mte={provide:il,useExisting:sr(()=>ff)},ff=(()=>{let e=class e extends il{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new De,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=YU(this,o)}ngOnChanges(r){this._added||this._setUpControl(),QU(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return WU(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(X(rl,13),X(ol,10),X(HD,10),X(sl,10),X(ZU,8))},e.\u0275dir=Ye({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ci([Mte]),yn,ar]});let t=e;return t})(),Pte={provide:sl,useExisting:sr(()=>XU),multi:!0};function JU(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function kte(t){return t.split(":")[0]}var XU=(()=>{let e=class e extends $D{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=JU(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=kte(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Gn(e)))(s||e)}})(),e.\u0275dir=Ye({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&Y("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[ci([Pte]),yn]});let t=e;return t})(),ej=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(JU(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(X(At),X(tn),X(XU,9))},e.\u0275dir=Ye({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Ote={provide:sl,useExisting:sr(()=>tj),multi:!0};function AU(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Fte(t){return t.split(":")[0]}var tj=(()=>{let e=class e extends $D{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let l=0;l<a.length;l++){let c=a[l],d=this._getOptionValue(c.value);s.push(d)}}else{let a=i.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let d=this._getOptionValue(c.value);s.push(d)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=Fte(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Gn(e)))(s||e)}})(),e.\u0275dir=Ye({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&Y("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[ci([Ote]),yn]});let t=e;return t})(),nj=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(AU(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(AU(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(X(At),X(tn),X(tj,9))},e.\u0275dir=Ye({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();function Lte(t){return typeof t=="number"?t:parseInt(t,10)}var rj=(()=>{let e=class e{constructor(){this._validator=Rv}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Rv,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ye({type:e,features:[ar]});let t=e;return t})();var Vte={provide:ol,useExisting:sr(()=>WD),multi:!0};var WD=(()=>{let e=class e extends rj{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=vn,this.createValidator=r=>MU}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Gn(e)))(s||e)}})(),e.\u0275dir=Ye({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&Rn("required",s._enabled?"":null)},inputs:{required:"required"},features:[ci([Vte]),yn]});let t=e;return t})();var Ute={provide:ol,useExisting:sr(()=>KD),multi:!0},KD=(()=>{let e=class e extends rj{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=r=>Lte(r),this.createValidator=r=>PU(r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Gn(e)))(s||e)}})(),e.\u0275dir=Ye({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&Rn("minlength",s._enabled?s.minlength:null)},inputs:{minlength:"minlength"},features:[ci([Ute]),yn]});let t=e;return t})();var ij=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=$t({});let t=e;return t})(),BD=class extends Eu{constructor(e,n,r){super(zD(n),qD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){GU(this,!1,e),e.forEach((r,i)=>{qU(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function xU(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var $v=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return xU(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Ov(s,o)}record(r,i=null){let s=this._reduceControls(r);return new UD(s,i)}control(r,i,s){let o={};return this.useNonNullable?(xU(i)?o=i:(o.validators=i,o.asyncValidators=s),new uf(r,ve(U({},o),{nonNullable:!0}))):new uf(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new BD(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof uf)return r;if(r instanceof Eu)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Iu=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:jv,useValue:r.callSetDisabledState??Bv}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=$t({imports:[ij]});let t=e;return t})(),Hv=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:ZU,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:jv,useValue:r.callSetDisabledState??Bv}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=$t({imports:[ij]});let t=e;return t})();function jte(t,e){if(t&1){let n=ft();y(0,"div",25),Y("click",function(){let i=He(n).$implicit,s=ie();return ze(s.currentFeaturedBlog=i)}),w()}if(t&2){let n=e.$implicit,r=ie();O("ngClass",n._id==(r.currentFeaturedBlog==null?null:r.currentFeaturedBlog._id)?"bg-emerald-400":"bg-gray-400 ")}}function Bte(t,e){if(t&1&&(y(0,"div",26),V(1,"app-article-card",27),w()),t&2){let n=e.$implicit;R(),O("data",n)}}var sj=(()=>{class t{popular_blogs;selectedId="";currentFeaturedBlog;source$=Ap(0,5e3);pageSize=5;currentPage=1;totalPages=0;currentItems=[];articleService=S(Dt);store=S(it);currentuser;ngOnInit(){this.getArticles()}getArticles(){this.store.select("loggedUser").subscribe(n=>{n?.user&&(this.currentuser=n?.user,this.articleService.getAllArticles().subscribe(r=>{this.popular_blogs=r,this.totalPages=Math.ceil(this.popular_blogs.length/this.pageSize),this.loadItems(),this.source$.pipe(Z(()=>this.popular_blogs?.[Math.floor(Math.random()*this.popular_blogs?.length)])).subscribe(i=>{this.currentFeaturedBlog=i})}))})}greet(){let r=new Date().getHours();return r<12?"Good Morning":r<18?"Good Afternoon":"Good Evening"}loadItems(){let n=(this.currentPage-1)*this.pageSize,r=n+this.pageSize;this.currentItems=this.popular_blogs.slice(n,r)}previousPage(){this.currentPage>1&&(this.currentPage--,this.loadItems())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.loadItems())}getToValue(){return Math.min(this.currentPage*this.pageSize,this.popular_blogs?.length)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-home"]],standalone:!0,features:[se],decls:43,vars:13,consts:[[1,"font-medium","text-xl","text-gray-800"],[1,"py-4"],[1,"mb-4"],[3,"featuredData"],[1,"flex","gap-1","justify-center","py-2"],["class","w-3.5 h-3.5 border-2 border-white cursor-pointer dark:border-gray-800 rounded-full",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center"],[1,"text-gray-600","text-sm"],[1,"flex","gap-4","items-center"],[1,"-mt-6"],["for","HeadlineAct",1,"block","text-sm","font-medium","text-gray-900"],["name","HeadlineAct","id","HeadlineAct",1,"mt-1.5","w-full","rounded-lg","border-gray-300","text-gray-700","sm:text-sm"],["value",""],["value","JM"],["value","SRV"],["value","JH"],[1,"flex","justify-end","gap-1"],[1,"inline-flex","size-8","cursor-pointer","items-center","justify-center","rounded","border","border-gray-300","bg-white","text-gray-900","rtl:rotate-180","dark:border-gray-800","dark:bg-gray-900","dark:text-white",3,"click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-3","w-3"],["fill-rule","evenodd","d","M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule","evenodd"],["for","PaginationPage",1,"sr-only"],["type","number","disabled","","min","1","id","PaginationPage",1,"h-8","w-12","rounded","border","border-gray-300","bg-white","p-0","text-center","text-xs","font-medium","text-gray-900","[-moz-appearance:_textfield]","dark:border-gray-800","dark:bg-gray-900","dark:text-white","[&::-webkit-inner-spin-button]:m-0","[&::-webkit-inner-spin-button]:appearance-none","[&::-webkit-outer-spin-button]:m-0","[&::-webkit-outer-spin-button]:appearance-none",3,"value"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],["class","py-2",4,"ngFor","ngForOf"],[1,"w-3.5","h-3.5","border-2","border-white","cursor-pointer","dark:border-gray-800","rounded-full",3,"click","ngClass"],[1,"py-2"],[3,"data"]],template:function(r,i){r&1&&(y(0,"div")(1,"p",0),N(2),w(),y(3,"div",1)(4,"div",2),V(5,"app-featured",3),y(6,"div",4),Q(7,jte,1,1,"div",5),w()(),y(8,"div",6)(9,"div")(10,"p",7),N(11),w()(),y(12,"div",8)(13,"div",9)(14,"label",10),N(15," Sort By "),w(),y(16,"select",11)(17,"option",12),N(18,"Please select"),w(),y(19,"option",13),N(20,"Most Recent"),w(),y(21,"option",14),N(22,"Oldest"),w(),y(23,"option",15),N(24,"Popular"),w(),y(25,"option",15),N(26,"Editor's Pick"),w()()(),y(27,"div",16)(28,"a",17),Y("click",function(){return i.previousPage()}),y(29,"span",18),N(30,"Prev Page"),w(),he(),y(31,"svg",19),V(32,"path",20),w()(),_e(),y(33,"div")(34,"label",21),N(35,"Page"),w(),V(36,"input",22),w(),y(37,"a",17),Y("click",function(){return i.nextPage()}),y(38,"span",18),N(39,"Next Page"),w(),he(),y(40,"svg",19),V(41,"path",23),w()()()()(),Q(42,Bte,2,1,"div",24),w()()),r&2&&(R(2),ba("",i.greet()," ",i.currentuser==null?null:i.currentuser.displayName,""),R(3),O("featuredData",i.currentFeaturedBlog),R(2),O("ngForOf",i.popular_blogs==null?null:i.popular_blogs.slice(0,3)),R(4),qE("Showing ",(i.currentPage-1)*i.pageSize+1," to ",i.getToValue()," Articles of ",i.popular_blogs==null?null:i.popular_blogs.length," "),R(17),Ea("disabled",i.currentPage===1),R(8),O("value",i.currentPage),R(),Ea("disabled",i.currentPage>=i.totalPages),R(5),O("ngForOf",i.currentItems))},dependencies:[Ji,wU,Gt,_n,Iu,ej,nj]})}return t})();var $te=t=>({width:t});function Hte(t,e){if(t&1){let n=ft();y(0,"li",13),Y("click",function(){let i=He(n).$implicit,s=ie(2);return ze(s.setCurrentSelector(i))}),y(1,"button",14),N(2),w()()}if(t&2){let n=e.$implicit;R(2),Ft(n)}}function zte(t,e){if(t&1&&(y(0,"div",10)(1,"ul",11),Q(2,Hte,3,1,"li",12),w()()),t&2){let n=ie();R(2),O("ngForOf",n.dropdownMenu)}}function qte(t,e){t&1&&(y(0,"div",15),he(),y(1,"svg",16),V(2,"path",17),w()())}function Gte(t,e){if(t&1&&(y(0,"li")(1,"a",23),N(2),w()()),t&2){let n=e.$implicit,r=ie(3);R(2),Ft(r.currentValue=="Articles"?n.title:r.currentValue=="Authors"?n.author:n==null?null:n.tags)}}function Wte(t,e){if(t&1&&(y(0,"ul",21),Q(1,Gte,3,1,"li",22),w()),t&2){let n=ie(2);R(),O("ngForOf",n.filteredItems)}}function Kte(t,e){t&1&&(y(0,"div")(1,"a",24),N(2,"No Data Found"),w()())}function Qte(t,e){if(t&1&&(y(0,"div",18),Q(1,Wte,2,1,"ul",19)(2,Kte,3,0,"div",20),w()),t&2){let n=ie();R(),O("ngIf",n.filteredItems&&n.filteredItems.length>0),R(),O("ngIf",n.filteredItems.length==0)}}var zv=(()=>{class t{width=pe(400);showSearchIcon=!0;searchValue;showCOntent=!1;showDropdown=!1;currentValue="Articles";articles=[];authors=[];filteredItems=[];dropdownMenu=["Articles","Authors","Tags"];articleService=S(Dt);keyInput(n){this.searchValue?(this.showCOntent=!0,this.showDropdown=!1,this.search()):(this.showCOntent=!1,this.showDropdown=!1)}ngOnInit(){this.articleService.getAllArticles().subscribe(n=>{this.articles=n})}setCurrentSelector(n){this.currentValue=n,this.showDropdown=!1}search(){this.filteredItems=this.articles.filter(n=>{let r=this.searchValue.toLowerCase();if(this.currentValue==="Articles")return n?.title?.toLowerCase().includes(r)||n?.description?.toLowerCase().includes(r);if(this.currentValue==="Authors")return n?.author?.toLowerCase().includes(r);if(this.currentValue==="Tags")return n?.tags?.toLowerCase().includes(r)})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-search"]],inputs:{width:[1,"width"]},standalone:!0,features:[se],decls:11,vars:8,consts:[[1,"relative",3,"ngStyle"],[1,"flex"],["type","button",1,"flex-shrink-0","z-10","inline-flex","items-center","py-2.5","px-4","text-sm","font-medium","text-center","text-gray-900","bg-gray-100","border","border-gray-300","rounded-s-lg","hover:bg-gray-200","focus:ring-4","focus:outline-none","focus:ring-gray-100","dark:bg-gray-700","dark:hover:bg-gray-600","dark:focus:ring-gray-700","dark:text-white","dark:border-gray-600",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 10 6",1,"w-2.5","h-2.5","ms-2.5"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 4 4 4-4"],["class","z-[99] card absolute top-11 bg-white divide-y divide-gray-100 rounded-lg shadow  w-auto dark:bg-gray-700",4,"ngIf"],[1,"relative","w-full"],["type","search","id","search-dropdown","placeholder","Search Articles,Authors,Tags...","required","",1,"block","p-2.5","w-full","z-20","text-sm","text-gray-900","bg-gray-50","rounded-e-lg","border-s-gray-50","border-s-2","border","border-gray-300","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-s-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:border-blue-500",3,"input","ngModelChange","ngModel"],["type","submit","class","text-white absolute end-2.5 bottom-0.5 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",4,"ngIf"],["class","z-[999] absolute  w-full card my-2 bg-white divide-y divide-gray-100 rounded-lg shadow  dark:bg-gray-700",4,"ngIf"],[1,"z-[99]","card","absolute","top-11","bg-white","divide-y","divide-gray-100","rounded-lg","shadow","w-auto","dark:bg-gray-700"],["aria-labelledby","dropdown-button",1,"py-2","text-sm","text-gray-700","dark:text-gray-200"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["type","button",1,"inline-flex","w-full","px-4","py-2","hover:bg-gray-100","dark:hover:bg-gray-600","dark:hover:text-white"],["type","submit",1,"text-white","absolute","end-2.5","bottom-0.5","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-4","py-2","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],[1,"z-[999]","absolute","w-full","card","my-2","bg-white","divide-y","divide-gray-100","rounded-lg","shadow","dark:bg-gray-700"],["class","py-2 text-sm text-gray-700 dark:text-gray-200","aria-labelledby","dropdownDefaultButton",4,"ngIf"],[4,"ngIf"],["aria-labelledby","dropdownDefaultButton",1,"py-2","text-sm","text-gray-700","dark:text-gray-200"],[4,"ngFor","ngForOf"],[1,"block","px-4","py-2","hover:bg-gray-100","dark:hover:bg-gray-600","cursor-pointer","dark:hover:text-white"],[1,"block","px-4","py-2","text-xs","hover:bg-gray-100","dark:hover:bg-gray-600","cursor-pointer","dark:hover:text-white"]],template:function(r,i){r&1&&(y(0,"div",0)(1,"div",1)(2,"button",2),Y("click",function(){return i.showDropdown=!i.showDropdown}),N(3),he(),y(4,"svg",3),V(5,"path",4),w()(),Q(6,zte,3,1,"div",5),_e(),y(7,"div",6)(8,"input",7),Y("input",function(o){return i.keyInput(o)}),Ta("ngModelChange",function(o){return dc(i.searchValue,o)||(i.searchValue=o),o}),w(),Q(9,qte,3,0,"div",8),w()(),Q(10,Qte,3,2,"div",9),w()),r&2&&(O("ngStyle",Kn(6,$te,i.width()+"px")),R(3),Ce("",i.currentValue," "),R(3),O("ngIf",i.showDropdown),R(2),Ca("ngModel",i.searchValue),R(),O("ngIf",i.showSearchIcon),R(),O("ngIf",i.showCOntent))},dependencies:[Iu,Xi,Wo,WD,df,Ss,Gt,lt,eg]})}return t})();var qv=(()=>{class t{data=pe();router=S(Ze);navigate(n){this.router.navigate(["discover","article-details",n,this.data()?.views])}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-reader-card"]],inputs:{data:[1,"data"]},standalone:!0,features:[se],decls:8,vars:3,consts:[[1,"group","cursor-pointer","relative","shadow-sm","border-gray-200","bg-white","rounded-xl","border",3,"click"],["alt","",1,"h-40","w-full","rounded-t-xl","object-cover","shadow-xl","transition","group-hover:grayscale-[50%]","dark:shadow-gray-700/25",3,"src"],[1,"p-4"],[1,"text-lg","font-medium","text-gray-900","dark:text-white"],[1,"mt-2","line-clamp-3","text-sm/relaxed","text-gray-500","dark:text-gray-400"]],template:function(r,i){if(r&1&&(y(0,"article",0),Y("click",function(){let o;return i.navigate((o=i.data())==null?null:o._id)}),V(1,"img",1),y(2,"div",2)(3,"a")(4,"h3",3),N(5),w()(),y(6,"p",4),N(7),w()()()),r&2){let s,o,a;R(),O("src",(s=i.data())==null?null:s.articlePhoto,ai),R(4),Ce(" ",(o=i.data())==null?null:o.title," "),R(2),Ce(" ",(a=i.data())==null?null:a.description," ")}}})}return t})();var Yte=t=>["author-details",t],oj=(()=>{class t{data=pe();static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-author-card"]],inputs:{data:[1,"data"]},standalone:!0,features:[se],decls:15,vars:8,consts:[[1,"group","relative","shadow-sm","h-[300px]","border-gray-200","bg-white","rounded-xl","border"],[1,"h-40","w-full","rounded-xl","object-cover","border","border-gray-300","shadow-sm","transition","group-hover:grayscale-[50%]","dark:shadow-gray-700/25",3,"src"],[1,"p-4"],["href","#"],[1,"text-lg","w-[100%]","overflow-hidden","font-medium","text-gray-900","dark:text-white"],[1,"mt-2","line-clamp-3","text-sm/relaxed","text-gray-500","dark:text-gray-400"],[1,"absolute","bottom-2","px-4","pt-4","z-10","w-full","flex","justify-center","line-clamp-3","items-center","gap-4"],[1,"px-4","py-1","rounded-lg","flex","gap-2","items-center","justify-center","text-sm","font-medium","w-full","bg-emerald-200","text-emerald-600",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","3","stroke","currentColor",1,"size-3"],["stroke-linecap","round","stroke-linejoin","round","d","m4.5 19.5 15-15m0 0H8.25m11.25 0v11.25"]],template:function(r,i){if(r&1&&(y(0,"article",0),V(1,"img",1),y(2,"div",2)(3,"a",3)(4,"h3",4),N(5),w()(),y(6,"p",5),N(7),Lr(8,"date"),w()(),y(9,"div",6)(10,"button",7),N(11,"Visit "),y(12,"span"),he(),y(13,"svg",8),V(14,"path",9),w()()()()()),r&2){let s,o,a,l;R(),O("src",(s=i.data())!=null&&s.photoUrl?(s=i.data())==null?null:s.photoUrl:"assets/user-dummy1.png",ai),R(4),Ce(" ",(o=i.data())!=null&&o.displayName?(o=i.data())==null?null:o.displayName:(o=i.data())==null?null:o.email," "),R(2),Ce(" user of online publishing platform since ",hc(8,4,(a=i.data())==null?null:a.joinedOn)," "),R(3),O("routerLink",Kn(6,Yte,(l=i.data())==null?null:l.userUid))}},dependencies:[To,Br,Fi]})}return t})();var aj=(()=>{class t{keyWords=["Science","sci-fi"];readersChoices=Array(4);static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-discover"]],standalone:!0,features:[se],decls:1,vars:0,template:function(r,i){r&1&&V(0,"router-outlet")},dependencies:[Rs]})}return t})();function Zte(t,e){if(t&1){let n=ft();y(0,"a",15),Y("click",function(){let i=He(n).$implicit,s=ie();return ze(s.updateCurrentTab(i))}),N(1),w()}if(t&2){let n=e.$implicit,r=ie();O("ngClass",r.currentTab()==n?"text-emerald-600 border-emerald-600 hover:border-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:border-emerald-600 dark:hover:text-emerald-200":"text-gray-500 hover:border-gray-300 border-none hover:text-gray-700 dark:text-gray-400 dark:hover:border-gray-600 dark:hover:text-gray-200"),R(),Ce(" ",n," ")}}function Jte(t,e){if(t&1&&(y(0,"div",17),V(1,"app-article-card",18),w()),t&2){let n=e.$implicit;R(),O("data",n)}}function Xte(t,e){if(t&1&&(y(0,"div"),Q(1,Jte,2,1,"div",16),w()),t&2){let n=ie();R(),O("ngForOf",n.articles)}}var lj=(()=>{class t{id=pe();currentTab=gn("Home");tabNames=["Home","About","Following"];articleService=S(Dt);loggedUser$;authorDetails;store$=S(it);articles=[];isFollowing=!1;constructor(){Mn(()=>{this.getArticles()})}ngOnInit(){}updateCurrentTab(n){this.currentTab.set(n)}getAuthorName(){return this.id()?.replace(/-/g," ")}getArticles(){this.store$.select("loggedUser").subscribe(n=>{this.loggedUser$=n?.user,this.loggedUser$?.userUid&&this.articleService.getMyAccount(this.id()).subscribe(r=>{this.authorDetails=r,console.log(r),this.isUserFollowing(this.authorDetails?.userUid),r.articles&&this.articleService.getArticlesByIds("published",r.articles).subscribe(i=>{this.articles=i?.flat()})})})}isUserFollowing(n){this.articleService.getMyAccount(this.loggedUser$?.userUid).subscribe(r=>{r&&r.following&&Array.isArray(r.following)?this.isFollowing=r.following.includes(n):this.isFollowing=!1})}followUser(){this.isFollowing?this.articleService.followAuthor("unfollow",this.authorDetails?.userUid,this.loggedUser$?.userUid).subscribe(n=>{this.getArticles()}):this.articleService.followAuthor("follow",this.authorDetails?.userUid,this.loggedUser$?.userUid).subscribe(n=>{this.getArticles()})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-author-details"]],inputs:{id:[1,"id"]},standalone:!0,features:[se],decls:23,vars:7,consts:[[1,"py-12","px-4"],[1,"max-w-xl","flex","justify-between","items-center"],[1,"text-3xl","py-1","capitalize","font-medium","text-gray-900"],[1,"px-8","hover:bg-emerald-300","hover:text-emerald-700","rounded-lg","py-1","text-sm","font-medium","bg-emerald-200","text-emerald-600",3,"click"],[1,"text-sm","pb-2","text-gray-500"],[1,"text-emerald-600","font-medium"],[1,"font-medium","text-emerald-600"],[1,"text-emerald-600","font-medium","pt-1","text-xs"],[1,"py-6"],[1,""],[1,"border-b","w-full","border-gray-200","dark:border-gray-700"],["aria-label","Tabs",1,"-mb-px","flex","gap-6"],["class","shrink-0 cursor-pointer border-b-2   px-1 pb-2 text-sm font-medium  ",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-4"],[4,"ngIf"],[1,"shrink-0","cursor-pointer","border-b-2","px-1","pb-2","text-sm","font-medium",3,"click","ngClass"],["class","mb-4",4,"ngFor","ngForOf"],[1,"mb-4"],[3,"data"]],template:function(r,i){r&1&&(y(0,"div",0)(1,"div",1)(2,"h3",2),N(3),w(),y(4,"button",3),Y("click",function(){return i.followUser()}),N(5),w()(),y(6,"p",4),N(7,"An Software professional with 2.8 years of experience , specializing in angular"),w(),y(8,"small",5),N(9,"Member since August 2024."),w(),N(10," \xA0 "),y(11,"small",6),N(12),w(),N(13,"\xA0 "),y(14,"p",7),N(15),w(),y(16,"div",8)(17,"div",9)(18,"div",10)(19,"nav",11),Q(20,Zte,2,2,"a",12),w()(),y(21,"div",13),Q(22,Xte,2,1,"div",14),w()()()()),r&2&&(R(3),Ce("",i.authorDetails==null?null:i.authorDetails.displayName," "),R(2),Ce("",i.isFollowing?"Unfollow":"Follow"," "),R(7),ba(" ",i.authorDetails!=null&&i.authorDetails.followers?i.authorDetails==null||i.authorDetails.followers==null?null:i.authorDetails.followers.length:0," Followers | ",i.authorDetails==null||i.authorDetails.following==null?null:i.authorDetails.following.length," Following"),R(3),Ce(" ",i.authorDetails==null?null:i.authorDetails.email," "),R(5),O("ngForOf",i.tabNames),R(2),O("ngIf",i.currentTab()=="Home"))},dependencies:[_n,Gt,Ji,lt]})}return t})();function ene(t,e){if(t&1&&(y(0,"span",21),N(1),w()),t&2){let n=e.$implicit;R(),Ce("#",n,"")}}function tne(t,e){if(t&1&&(rn(0),V(1,"app-reader-card",22),sn()),t&2){let n=e.$implicit;R(),O("data",n)}}function nne(t,e){if(t&1&&(rn(0),V(1,"app-author-card",22),sn()),t&2){let n=e.$implicit;R(),O("data",n)}}var cj=(()=>{class t{keyWords=["Science","sci-fi"];authors=[];readersChoices=[];itemsPerPage=4;currentPage=0;currentAuthorPage=0;AuthorsPerpage=4;articleService=S(Dt);ngOnInit(){this.articleService.getAllArticles().subscribe(n=>{this.readersChoices=n}),this.articleService.getAllAuthors().subscribe(n=>{this.authors=n})}get currentItems(){let n=this.currentPage*this.itemsPerPage,r=n+this.itemsPerPage;return this.readersChoices.slice(n,r)}get maxPage(){return Math.floor((this.readersChoices.length-1)/this.itemsPerPage)}nextRow(){this.currentPage<this.maxPage&&this.currentPage++}prevRow(){this.currentPage>0&&this.currentPage--}get currentAuthors(){let n=this.currentAuthorPage*this.AuthorsPerpage,r=n+this.AuthorsPerpage;return this.authors.slice(n,r)}get authorsMaxPage(){return Math.floor((this.authors.length-1)/this.AuthorsPerpage)}nextauthorsRow(){this.currentAuthorPage<this.authorsMaxPage&&this.currentAuthorPage++}prevAuthorsRow(){this.currentAuthorPage>0&&this.currentAuthorPage--}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-discover-home"]],standalone:!0,features:[se],decls:37,vars:8,consts:[[1,"py-4"],[1,"flex","justify-center","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"size-7"],["d","M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm306.7 69.1L162.4 380.6c-19.4 7.5-38.5-11.6-31-31l55.5-144.3c3.3-8.5 9.9-15.1 18.4-18.4l144.3-55.5c19.4-7.5 38.5 11.6 31 31L325.1 306.7c-3.2 8.5-9.9 15.1-18.4 18.4zM288 256a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"],[1,"text-3xl","font-bold"],[1,"text-center","py-1","text-gray-700","text-lg"],[1,"flex","justify-center","items-center","gap-2","pt-8"],[3,"width"],[1,"text-center","py-4"],[1,"font-medium","text-gray-700","text-sm"],["class","px-4 py-0.5 bg-gray-200/75 text-gray-600 rounded-xl mx-2",4,"ngFor","ngForOf"],[1,"py-4","relative"],[1,"font-medium","text-xl","text-gray-700","py-4"],[1,"absolute","z-10","-left-7","top-1/2",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2.5","stroke","currentColor",1,"border-none","cursor-pointer","rounded-full","hover:bg-emerald-200","bg-emerald-100","text-emerald-600","shadow-sm","w-7","h-7","p-1"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 19.5 8.25 12l7.5-7.5"],[1,"grid","grid-cols-4","gap-4","mx-4"],[4,"ngFor","ngForOf"],[1,"absolute","-right-7","z-10","top-1/2",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"border-none","cursor-pointer","rounded-full","hover:bg-emerald-200","bg-emerald-100","text-emerald-600","shadow-sm","w-7","h-7","p-1"],["stroke-linecap","round","stroke-linejoin","round","d","m8.25 4.5 7.5 7.5-7.5 7.5"],[1,"px-4","py-0.5","bg-gray-200/75","text-gray-600","rounded-xl","mx-2"],[3,"data"]],template:function(r,i){r&1&&(y(0,"div",0)(1,"div",1)(2,"span"),he(),y(3,"svg",2),V(4,"path",3),w()(),_e(),y(5,"span",4),N(6,"Discover"),w()(),y(7,"p",5),N(8,"Step into a new zone , join a new conversation"),w(),y(9,"div",6),V(10,"app-search",7),w(),y(11,"div",8)(12,"span",9),N(13,"Trending Keywords : "),Q(14,ene,2,1,"span",10),w()(),y(15,"div",11)(16,"h3",12),N(17,"Reader's Choice"),w(),y(18,"button",13),Y("click",function(){return i.prevRow()}),he(),y(19,"svg",14),V(20,"path",15),w()(),_e(),y(21,"div",16),Q(22,tne,2,1,"ng-container",17),w(),y(23,"button",18),Y("click",function(){return i.nextRow()}),he(),y(24,"svg",19),V(25,"path",20),w()()(),_e(),y(26,"div",11)(27,"h3",12),N(28,"Rising Authors"),w(),y(29,"button",13),Y("click",function(){return i.prevAuthorsRow()}),he(),y(30,"svg",14),V(31,"path",15),w()(),_e(),y(32,"div",16),Q(33,nne,2,1,"ng-container",17),w(),y(34,"button",18),Y("click",function(){return i.nextauthorsRow()}),he(),y(35,"svg",19),V(36,"path",20),w()()()()),r&2&&(R(10),O("width",700),R(4),O("ngForOf",i.keyWords),R(4),O("disabled",i.currentPage===0),R(4),O("ngForOf",i.currentItems),R(),O("disabled",i.currentPage>=i.maxPage),R(6),O("disabled",i.currentAuthorPage===0),R(4),O("ngForOf",i.currentAuthors),R(),O("disabled",i.currentAuthorPage>=i.authorsMaxPage))},dependencies:[zv,Gt,qv,oj]})}return t})();var Gv=class t{static isArray(e,n=!0){return Array.isArray(e)&&(n||e.length!==0)}static isObject(e,n=!0){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&(n||Object.keys(e).length!==0)}static equals(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.equalsByValue(e,n)}static equalsByValue(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.equalsByValue(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=this.isDate(e),c=this.isDate(n);if(l!=c)return!1;if(l&&c)return e.getTime()==n.getTime();var d=e instanceof RegExp,h=n instanceof RegExp;if(d!=h)return!1;if(d&&h)return e.toString()==n.toString();var p=Object.keys(e);if(o=p.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,p[s]))return!1;for(s=o;s--!==0;)if(a=p[s],!this.equalsByValue(e[a],n[a]))return!1;return!0}return e!==e&&n!==n}static resolveFieldData(e,n){if(e&&n){if(this.isFunction(n))return n(e);if(n.indexOf(".")==-1)return e[n];{let r=n.split("."),i=e;for(let s=0,o=r.length;s<o;++s){if(i==null)return null;i=i[r[s]]}return i}}else return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,n,r){let i;e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))}static insertIntoOrderedArray(e,n,r,i){if(r.length>0){let s=!1;for(let o=0;o<r.length;o++)if(this.findIndexInList(r[o],i)>n){r.splice(o,0,e),s=!0;break}s||r.push(e)}else r.push(e)}static findIndexInList(e,n){let r=-1;if(n){for(let i=0;i<n.length;i++)if(n[i]==e){r=i;break}}return r}static contains(e,n){if(e!=null&&n&&n.length){for(let r of n)if(this.equals(e,r))return!0}return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return Object.prototype.toString.call(e)==="[object Date]"}static isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!this.isDate(e)&&typeof e=="object"&&Object.keys(e).length===0}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,n,r,i=1){let s=-1,o=this.isEmpty(e),a=this.isEmpty(n);return o&&a?s=0:o?s=i:a?s=-i:typeof e=="string"&&typeof n=="string"?s=e.localeCompare(n,r,{numeric:!0}):s=e<n?-1:e>n?1:0,s}static sort(e,n,r=1,i,s=1){let o=t.compare(e,n,i,r),a=r;return(t.isEmpty(e)||t.isEmpty(n))&&(a=s===1?r:s),a*o}static merge(e,n){if(!(e==null&&n==null)){{if((e==null||typeof e=="object")&&(n==null||typeof n=="object"))return U(U({},e||{}),n||{});if((e==null||typeof e=="string")&&(n==null||typeof n=="string"))return[e||"",n||""].join(" ")}return n||e}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)}static getItemValue(e,...n){return this.isFunction(e)?e(...n):e}static findLastIndex(e,n){let r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf([...e].reverse().find(n))}return r}static findLast(e,n){let r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=[...e].reverse().find(n)}return r}static deepEquals(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,c=n instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==n.getTime();var d=e instanceof RegExp,h=n instanceof RegExp;if(d!=h)return!1;if(d&&h)return e.toString()==n.toString();var p=Object.keys(e);if(o=p.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,p[s]))return!1;for(s=o;s--!==0;)if(a=p[s],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n}};function rne(){let t=[],e=(s,o)=>{let a=t.length>0?t[t.length-1]:{key:s,value:o},l=a.value+(a.key===s?0:o)+2;return t.push({key:s,value:l}),l},n=s=>{t=t.filter(o=>o.value!==s)},r=()=>t.length>0?t[t.length-1].value:0,i=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:i,set:(s,o,a)=>{o&&(o.style.zIndex=String(e(s,a)))},clear:s=>{s&&(n(i(s)),s.style.zIndex="")},getCurrent:()=>r()}}var mf=rne();var Fn=(()=>{class t{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return t})();var Wv=(()=>{class t{ripple=!1;inputStyle=gn("outlined");overlayOptions={};csp=gn({nonce:void 0});filterMatchModeOptions={text:[Fn.STARTS_WITH,Fn.CONTAINS,Fn.NOT_CONTAINS,Fn.ENDS_WITH,Fn.EQUALS,Fn.NOT_EQUALS],numeric:[Fn.EQUALS,Fn.NOT_EQUALS,Fn.LESS_THAN,Fn.LESS_THAN_OR_EQUAL_TO,Fn.GREATER_THAN,Fn.GREATER_THAN_OR_EQUAL_TO],date:[Fn.DATE_IS,Fn.DATE_IS_NOT,Fn.DATE_BEFORE,Fn.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new ot;translationObserver=this.translationSource.asObservable();getTranslation(n){return this.translation[n]}setTranslation(n){this.translation=U(U({},this.translation),n),this.translationSource.next(this.translation)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Kv=(()=>{class t{template;type;name;constructor(n){this.template=n}getType(){return this.name}static \u0275fac=function(r){return new(r||t)(X(us))};static \u0275dir=Ye({type:t,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return t})(),QD=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ht({type:t});static \u0275inj=$t({})}return t})();var Zt=(()=>{class t{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(n,r){n&&r&&(n.classList?n.classList.add(r):n.className+=" "+r)}static addMultipleClasses(n,r){if(n&&r)if(n.classList){let i=r.trim().split(" ");for(let s=0;s<i.length;s++)n.classList.add(i[s])}else{let i=r.split(" ");for(let s=0;s<i.length;s++)n.className+=" "+i[s]}}static removeClass(n,r){n&&r&&(n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(n,r){n&&r&&[r].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(s=>this.removeClass(n,s)))}static hasClass(n,r){return n&&r?n.classList?n.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(n.className):!1}static siblings(n){return Array.prototype.filter.call(n.parentNode.children,function(r){return r!==n})}static find(n,r){return Array.from(n.querySelectorAll(r))}static findSingle(n,r){return this.isElement(n)?n.querySelector(r):null}static index(n){let r=n.parentNode.childNodes,i=0;for(var s=0;s<r.length;s++){if(r[s]==n)return i;r[s].nodeType==1&&i++}return-1}static indexWithinGroup(n,r){let i=n.parentNode?n.parentNode.childNodes:[],s=0;for(var o=0;o<i.length;o++){if(i[o]==n)return s;i[o].attributes&&i[o].attributes[r]&&i[o].nodeType==1&&s++}return-1}static appendOverlay(n,r,i="self"){i!=="self"&&n&&r&&this.appendChild(n,r)}static alignOverlay(n,r,i="self",s=!0){n&&r&&(s&&(n.style.minWidth=`${t.getOuterWidth(r)}px`),i==="self"?this.relativePosition(n,r):this.absolutePosition(n,r))}static relativePosition(n,r,i=!0){let s=H=>{if(H)return getComputedStyle(H).getPropertyValue("position")==="relative"?H:s(H.parentElement)},o=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),a=r.offsetHeight??r.getBoundingClientRect().height,l=r.getBoundingClientRect(),c=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),h=this.getViewport(),g=s(n)?.getBoundingClientRect()||{top:-1*c,left:-1*d},_,T;l.top+a+o.height>h.height?(_=l.top-g.top-o.height,n.style.transformOrigin="bottom",l.top+_<0&&(_=-1*l.top)):(_=a+l.top-g.top,n.style.transformOrigin="top");let A=l.left+o.width-h.width,L=l.left-g.left;o.width>h.width?T=(l.left-g.left)*-1:A>0?T=L-A:T=l.left-g.left,n.style.top=_+"px",n.style.left=T+"px",i&&(n.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(n,r,i=!0){let s=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),o=s.height,a=s.width,l=r.offsetHeight??r.getBoundingClientRect().height,c=r.offsetWidth??r.getBoundingClientRect().width,d=r.getBoundingClientRect(),h=this.getWindowScrollTop(),p=this.getWindowScrollLeft(),g=this.getViewport(),_,T;d.top+l+o>g.height?(_=d.top+h-o,n.style.transformOrigin="bottom",_<0&&(_=h)):(_=l+d.top+h,n.style.transformOrigin="top"),d.left+a>g.width?T=Math.max(0,d.left+p+c-a):T=d.left+p,n.style.top=_+"px",n.style.left=T+"px",i&&(n.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(n,r=[]){return n.parentNode===null?r:this.getParents(n.parentNode,r.concat([n.parentNode]))}static getScrollableParents(n){let r=[];if(n){let i=this.getParents(n),s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of i){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let d of c){let h=this.findSingle(a,d);h&&o(h)&&r.push(h)}}a.nodeType!==9&&o(a)&&r.push(a)}}return r}static getHiddenElementOuterHeight(n){n.style.visibility="hidden",n.style.display="block";let r=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",r}static getHiddenElementOuterWidth(n){n.style.visibility="hidden",n.style.display="block";let r=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",r}static getHiddenElementDimensions(n){let r={};return n.style.visibility="hidden",n.style.display="block",r.width=n.offsetWidth,r.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible",r}static scrollInView(n,r){let i=getComputedStyle(n).getPropertyValue("borderTopWidth"),s=i?parseFloat(i):0,o=getComputedStyle(n).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=n.getBoundingClientRect(),d=r.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,h=n.scrollTop,p=n.clientHeight,g=this.getOuterHeight(r);d<0?n.scrollTop=h+d:d+g>p&&(n.scrollTop=h+d-p+g)}static fadeIn(n,r){n.style.opacity=0;let i=+new Date,s=0,o=function(){s=+n.style.opacity.replace(",",".")+(new Date().getTime()-i)/r,n.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(n,r){var i=1,s=50,o=r,a=s/o;let l=setInterval(()=>{i=i-a,i<=0&&(i=0,clearInterval(l)),n.style.opacity=i},s)}static getWindowScrollTop(){let n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}static getWindowScrollLeft(){let n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}static matches(n,r){var i=Element.prototype,s=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return s.call(n,r)}static getOuterWidth(n,r){let i=n.offsetWidth;if(r){let s=getComputedStyle(n);i+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return i}static getHorizontalPadding(n){let r=getComputedStyle(n);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(n){let r=getComputedStyle(n);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(n){let r=n.offsetWidth,i=getComputedStyle(n);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(n){let r=n.offsetWidth,i=getComputedStyle(n);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(n){let r=n.offsetHeight,i=getComputedStyle(n);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(n,r){let i=n.offsetHeight;if(r){let s=getComputedStyle(n);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}static getHeight(n){let r=n.offsetHeight,i=getComputedStyle(n);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(n){let r=n.offsetWidth,i=getComputedStyle(n);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let n=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0],o=n.innerWidth||i.clientWidth||s.clientWidth,a=n.innerHeight||i.clientHeight||s.clientHeight;return{width:o,height:a}}static getOffset(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(n,r){let i=n.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,n)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var n=window.navigator.userAgent,r=n.indexOf("MSIE ");if(r>0)return!0;var i=n.indexOf("Trident/");if(i>0){var s=n.indexOf("rv:");return!0}var o=n.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(n,r){if(this.isElement(r))r.appendChild(n);else if(r&&r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(n);else throw"Cannot append "+r+" to "+n}static removeChild(n,r){if(this.isElement(r))r.removeChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(n);else throw"Cannot remove "+n+" from "+r}static removeElement(n){"remove"in Element.prototype?n.remove():n.parentNode.removeChild(n)}static isElement(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}static calculateScrollbarWidth(n){if(n){let r=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);let r=n.offsetHeight-n.clientHeight;return document.body.removeChild(n),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(n,r,i){n[r].apply(n,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let n=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(n){return Number.isInteger?Number.isInteger(n):typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}static isHidden(n){return!n||n.offsetParent===null}static isVisible(n){return n&&n.offsetParent!=null}static isExist(n){return n!==null&&typeof n<"u"&&n.nodeName&&n.parentNode}static focus(n,r){n&&document.activeElement!==n&&n.focus(r)}static getFocusableSelectorString(n=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n}`}static getFocusableElements(n,r=""){let i=this.find(n,this.getFocusableSelectorString(r)),s=[];for(let o of i){let a=getComputedStyle(o);this.isVisible(o)&&a.display!="none"&&a.visibility!="hidden"&&s.push(o)}return s}static getFocusableElement(n,r=""){let i=this.findSingle(n,this.getFocusableSelectorString(r));if(i){let s=getComputedStyle(i);if(this.isVisible(i)&&s.display!="none"&&s.visibility!="hidden")return i}return null}static getFirstFocusableElement(n,r=""){let i=this.getFocusableElements(n,r);return i.length>0?i[0]:null}static getLastFocusableElement(n,r){let i=this.getFocusableElements(n,r);return i.length>0?i[i.length-1]:null}static getNextFocusableElement(n,r=!1){let i=t.getFocusableElements(n),s=0;if(i&&i.length>0){let o=i.indexOf(i[0].ownerDocument.activeElement);r?o==-1||o===0?s=i.length-1:s=o-1:o!=-1&&o!==i.length-1&&(s=o+1)}return i[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(n,r){if(!n)return null;switch(n){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:let i=typeof n;if(i==="string")return document.querySelector(n);if(i==="object"&&n.hasOwnProperty("nativeElement"))return this.isExist(n.nativeElement)?n.nativeElement:void 0;let o=(a=>!!(a&&a.constructor&&a.call&&a.apply))(n)?n():n;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(n,r){if(n){let i=n.getAttribute(r);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(n="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,n)}static unblockBodyScroll(n="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,n)}static createElement(n,r={},...i){if(n){let s=document.createElement(n);return this.setAttributes(s,r),s.append(...i),s}}static setAttribute(n,r="",i){this.isElement(n)&&i!==null&&i!==void 0&&n.setAttribute(r,i)}static setAttributes(n,r={}){if(this.isElement(n)){let i=(s,o)=>{let a=n?.$attrs?.[s]?[n?.$attrs?.[s]]:[];return[o].flat().reduce((l,c)=>{if(c!=null){let d=typeof c;if(d==="string"||d==="number")l.push(c);else if(d==="object"){let h=Array.isArray(c)?i(s,c):Object.entries(c).map(([p,g])=>s==="style"&&(g||g===0)?`${p.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${g}`:g?p:void 0);l=h.length?l.concat(h.filter(p=>!!p)):l}}return l},a)};Object.entries(r).forEach(([s,o])=>{if(o!=null){let a=s.match(/^on(.+)/);a?n.addEventListener(a[1].toLowerCase(),o):s==="pBind"?this.setAttributes(n,o):(o=s==="class"?[...new Set(i("class",o))].join(" ").trim():s==="style"?i("style",o).join(";").trim():o,(n.$attrs=n.$attrs||{})&&(n.$attrs[s]=o),n.setAttribute(s,o))}})}}static isFocusableElement(n,r=""){return this.isElement(n)?n.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`):!1}}return t})();var ine=["*"],uj=(()=>{class t{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let n=Gv.isEmpty(this.label);this.role=n?void 0:"img",this.ariaLabel=n?void 0:this.label,this.ariaHidden=n}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",vn],styleClass:"styleClass"},standalone:!0,features:[wa,se],ngContentSelectors:ine,decls:1,vars:0,template:function(r,i){r&1&&(Ia(),_s(0))},encapsulation:2,changeDetection:0})}return t})();var ZD=(()=>{class t extends uj{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Gn(t)))(i||t)}})();static \u0275cmp=ne({type:t,selectors:[["TimesIcon"]],standalone:!0,features:[yn,se],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(r,i){r&1&&(he(),y(0,"svg",0),V(1,"path",1),w()),r&2&&(Lm(i.getClassNames()),Rn("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return t})();var dj=(()=>{class t{document;platformId;renderer;el;zone;config;constructor(n,r,i,s,o,a){this.document=n,this.platformId=r,this.renderer=i,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){dI(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(n){let r=this.getInk();if(!r||this.document.defaultView?.getComputedStyle(r,null).display==="none")return;if(Zt.removeClass(r,"p-ink-active"),!Zt.getHeight(r)&&!Zt.getWidth(r)){let a=Math.max(Zt.getOuterWidth(this.el.nativeElement),Zt.getOuterHeight(this.el.nativeElement));r.style.height=a+"px",r.style.width=a+"px"}let i=Zt.getOffset(this.el.nativeElement),s=n.pageX-i.left+this.document.body.scrollTop-Zt.getWidth(r)/2,o=n.pageY-i.top+this.document.body.scrollLeft-Zt.getHeight(r)/2;this.renderer.setStyle(r,"top",o+"px"),this.renderer.setStyle(r,"left",s+"px"),Zt.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&Zt.removeClass(a,"p-ink-active")},401)}getInk(){let n=this.el.nativeElement.children;for(let r=0;r<n.length;r++)if(typeof n[r].className=="string"&&n[r].className.indexOf("p-ink")!==-1)return n[r];return null}resetInk(){let n=this.getInk();n&&Zt.removeClass(n,"p-ink-active")}onAnimationEnd(n){this.timeout&&clearTimeout(this.timeout),Zt.removeClass(n.currentTarget,"p-ink-active")}create(){let n=this.renderer.createElement("span");this.renderer.addClass(n,"p-ink"),this.renderer.appendChild(this.el.nativeElement,n),this.renderer.setAttribute(n,"aria-hidden","true"),this.renderer.setAttribute(n,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(n,"animationend",this.onAnimationEnd.bind(this)))}remove(){let n=this.getInk();n&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,Zt.removeElement(n))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(r){return new(r||t)(X(mt),X(xn),X(tn),X(At),X(ye),X(Wv,8))};static \u0275dir=Ye({type:t,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return t})(),hj=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ht({type:t});static \u0275inj=$t({})}return t})();var one=["*"],ane=(t,e,n,r,i,s)=>({"p-sidebar":!0,"p-sidebar-active":t,"p-sidebar-left":e,"p-sidebar-right":n,"p-sidebar-top":r,"p-sidebar-bottom":i,"p-sidebar-full":s}),lne=(t,e)=>({transform:t,transition:e}),cne=t=>({value:"visible",params:t});function une(t,e){t&1&&ac(0)}function dne(t,e){if(t&1&&(rn(0),Q(1,une,1,0,"ng-container",5),sn()),t&2){let n=ie(2);R(),O("ngTemplateOutlet",n.headlessTemplate)}}function hne(t,e){t&1&&ac(0)}function fne(t,e){t&1&&V(0,"TimesIcon",13),t&2&&(O("styleClass","p-sidebar-close-icon"),Rn("data-pc-section","closeicon"))}function pne(t,e){}function mne(t,e){t&1&&Q(0,pne,0,0,"ng-template")}function gne(t,e){if(t&1&&(y(0,"span",14),Q(1,mne,1,0,null,5),w()),t&2){let n=ie(4);Rn("data-pc-section","closeicon"),R(),O("ngTemplateOutlet",n.closeIconTemplate)}}function yne(t,e){if(t&1){let n=ft();y(0,"button",10),Y("click",function(i){He(n);let s=ie(3);return ze(s.close(i))})("keydown.enter",function(i){He(n);let s=ie(3);return ze(s.close(i))}),Q(1,fne,1,2,"TimesIcon",11)(2,gne,2,2,"span",12),w()}if(t&2){let n=ie(3);Rn("aria-label",n.ariaCloseLabel)("data-pc-section","closebutton")("data-pc-group-section","iconcontainer"),R(),O("ngIf",!n.closeIconTemplate),R(),O("ngIf",n.closeIconTemplate)}}function vne(t,e){t&1&&ac(0)}function _ne(t,e){t&1&&ac(0)}function wne(t,e){if(t&1&&(rn(0),y(1,"div",15),Q(2,_ne,1,0,"ng-container",5),w(),sn()),t&2){let n=ie(3);R(),Rn("data-pc-section","footer"),R(),O("ngTemplateOutlet",n.footerTemplate)}}function Ene(t,e){if(t&1&&(y(0,"div",6),Q(1,hne,1,0,"ng-container",5)(2,yne,3,5,"button",7),w(),y(3,"div",8),_s(4),Q(5,vne,1,0,"ng-container",5),w(),Q(6,wne,3,2,"ng-container",9)),t&2){let n=ie(2);Rn("data-pc-section","header"),R(),O("ngTemplateOutlet",n.headerTemplate),R(),O("ngIf",n.showCloseIcon),R(),Rn("data-pc-section","content"),R(2),O("ngTemplateOutlet",n.contentTemplate),R(),O("ngIf",n.footerTemplate)}}function Ine(t,e){if(t&1){let n=ft();y(0,"div",3,0),Y("@panelState.start",function(i){He(n);let s=ie();return ze(s.onAnimationStart(i))})("@panelState.done",function(i){He(n);let s=ie();return ze(s.onAnimationEnd(i))})("keydown",function(i){He(n);let s=ie();return ze(s.onKeyDown(i))}),Q(2,dne,2,1,"ng-container",4)(3,Ene,7,6,"ng-template",null,1,pc),w()}if(t&2){let n=uc(4),r=ie();Lm(r.styleClass),O("ngClass",ek(9,ane,r.visible,r.position==="left"&&!r.fullScreen,r.position==="right"&&!r.fullScreen,r.position==="top"&&!r.fullScreen,r.position==="bottom"&&!r.fullScreen,r.fullScreen))("@panelState",Kn(19,cne,XP(16,lne,r.transformOptions,r.transitionOptions)))("ngStyle",r.style),Rn("data-pc-name","sidebar")("data-pc-section","root"),R(2),O("ngIf",r.headlessTemplate)("ngIfElse",n)}}var bne=pb([Pc({transform:"{{transform}}",opacity:0}),hb("{{transition}}")]),Cne=pb([hb("{{transition}}",Pc({transform:"{{transform}}",opacity:0}))]),fj=(()=>{class t{document;el;renderer;cd;config;appendTo;blockScroll=!1;style;styleClass;ariaCloseLabel;autoZIndex=!0;baseZIndex=0;modal=!0;dismissible=!0;showCloseIcon=!0;closeOnEscape=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";get visible(){return this._visible}set visible(n){this._visible=n}get position(){return this._position}set position(n){switch(this._position=n,n){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break}}get fullScreen(){return this._fullScreen}set fullScreen(n){this._fullScreen=n,n&&(this.transformOptions="none")}templates;onShow=new De;onHide=new De;visibleChange=new De;initialized;_visible;_position="left";_fullScreen=!1;container;transformOptions="translate3d(-100%, 0px, 0px)";mask;maskClickListener;documentEscapeListener;animationEndListener;contentTemplate;headerTemplate;footerTemplate;closeIconTemplate;headlessTemplate;constructor(n,r,i,s,o){this.document=n,this.el=r,this.renderer=i,this.cd=s,this.config=o}ngAfterViewInit(){this.initialized=!0}ngAfterContentInit(){this.templates?.forEach(n=>{switch(n.getType()){case"content":this.contentTemplate=n.template;break;case"header":this.headerTemplate=n.template;break;case"footer":this.footerTemplate=n.template;break;case"closeicon":this.closeIconTemplate=n.template;break;case"headless":this.headlessTemplate=n.template;break;default:this.contentTemplate=n.template;break}})}onKeyDown(n){n.code==="Escape"&&this.hide(!1)}show(){this.autoZIndex&&mf.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(n=!0){n&&this.onHide.emit({}),this.modal&&this.disableModality()}close(n){this.hide(),this.visibleChange.emit(!1),n.preventDefault()}enableModality(){this.mask||(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(this.container.style.zIndex)-1)),Zt.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",n=>{this.dismissible&&this.close(n)})),this.renderer.appendChild(this.document.body,this.mask),this.blockScroll&&Zt.blockBodyScroll())}disableModality(){this.mask&&(Zt.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyModal.bind(this)))}destroyModal(){this.unbindMaskClickListener(),this.mask&&this.renderer.removeChild(this.document.body,this.mask),this.blockScroll&&Zt.unblockBodyScroll(),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(n){switch(n.toState){case"visible":this.container=n.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener();break}}onAnimationEnd(n){switch(n.toState){case"void":this.hide(!1),mf.clear(this.container),this.unbindGlobalListeners();break}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):Zt.appendChild(this.container,this.appendTo))}bindDocumentEscapeListener(){let n=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentEscapeListener=this.renderer.listen(n,"keydown",r=>{r.which==27&&parseInt(this.container.style.zIndex)===mf.get(this.container)&&this.close(r)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.renderer.appendChild(this.el.nativeElement,this.container),this.container&&this.autoZIndex&&mf.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}static \u0275fac=function(r){return new(r||t)(X(mt),X(At),X(tn),X(Nn),X(Wv))};static \u0275cmp=ne({type:t,selectors:[["p-sidebar"]],contentQueries:function(r,i,s){if(r&1&&Vm(s,Kv,4),r&2){let o;lc(o=cc())&&(i.templates=o)}},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:[2,"blockScroll","blockScroll",vn],style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:[2,"autoZIndex","autoZIndex",vn],baseZIndex:[2,"baseZIndex","baseZIndex",QE],modal:[2,"modal","modal",vn],dismissible:[2,"dismissible","dismissible",vn],showCloseIcon:[2,"showCloseIcon","showCloseIcon",vn],closeOnEscape:[2,"closeOnEscape","closeOnEscape",vn],transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},features:[wa],ngContentSelectors:one,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["role","complementary",3,"ngClass","ngStyle","class","keydown",4,"ngIf"],["role","complementary",3,"keydown","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[1,"p-sidebar-header"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[4,"ngIf"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-sidebar-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-sidebar-close-icon"],[1,"p-sidebar-footer"]],template:function(r,i){r&1&&(Ia(),Q(0,Ine,5,21,"div",2)),r&2&&O("ngIf",i.visible)},dependencies:()=>[_n,lt,Rk,eg,dj,ZD],styles:[`@layer primeng{.p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto;flex-grow:1}.p-sidebar-header{display:flex;align-items:center}.p-sidebar-footer{margin-top:auto}.p-sidebar-icon{display:flex;align-items:center;justify-content:center;margin-left:auto}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;-webkit-transition:none;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}}
`],encapsulation:2,data:{animation:[WO("panelState",[fb("void => visible",[mb(bne)]),fb("visible => void",[mb(Cne)])])]},changeDetection:0})}return t})(),pj=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ht({type:t});static \u0275inj=$t({imports:[Ss,hj,QD,ZD,QD]})}return t})();var es=tC("login",t=>({user:t})),Qv=tC("logout");var ts=function(t){return t.success="success",t.error="error",t}(ts||{}),cn=(()=>{class t{loaderSubject=new St(!1);showLoader=this.loaderSubject.asObservable();loaderMessage;toastSubject$=new St(void 0);toast$=this.toastSubject$.asObservable();toastStack=[];constructor(){}addToToast(n){this.toastSubject$.next(n),setTimeout(()=>{this.toastSubject$.next(void 0)},3e3)}show(){this.loaderSubject.next(!0)}hide(){this.loaderSubject.next(!1)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var mj=(()=>{class t{firebase=S(Yn);firestore=S(Ei);toastService=S(cn);store=S(it);router=S(Ze);UserData;constructor(){this.firebase.onAuthStateChanged(n=>{n?(this.UserData=n,localStorage.setItem("user",JSON.stringify(this.UserData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}getAuthenticatedUser(){return this.firebase.currentUser}get isUserLoggedIn(){return!0}register(n,r,i){let s=xy(this.firebase,n,i);return oe(s).pipe(Z(o=>My(o.user,{displayName:r}).then(()=>o)),Fe(o=>oe(o)),Xt(o=>(this.toastService.addToToast({type:ts.error,message:o.message}),$n(o))))}loginWithGoogle(){let n=Ny(this.firebase,new Kc);return new de(r=>{n.then(i=>{let o=Kc.credentialFromResult(i).accessToken;sessionStorage.setItem("token",i?.user?.accessToken);let a=i.user;if(a){let{displayName:l,email:c,uid:d,metadata:h}=a;this.createAccountInFirestore({displayName:l,email:c,userUid:d,joinedOn:h.creationTime}).then(()=>{r.next({user:a,token:o}),r.complete()}).catch(p=>{r.error(p)})}else r.error("No user information available.")}).catch(i=>{r.error(i)})})}login(n,r){let i=Ry(this.firebase,n,r).then(s=>{let o=s.user;if(console.log(o),o){let{displayName:a,email:l,uid:c,metadata:d,photoURL:h}=o;this.createAccountInFirestore({displayName:a,email:l,userUid:c,joinedOn:d.creationTime,photo:h})}}).catch(s=>{let o=s.code,a=s.message});return oe(i)}createAccountInFirestore(n){return I(this,null,function*(){let r=In(this.firestore,"userAccounts",n.userUid),i=yield Hs(r);this.store.dispatch(es(n)),i.exists()?console.log("Account already exists"):(yield vu(r,n),console.log("Account created successfully")),this.router.navigate(["/"])})}getAuthState(){return this.firebase.onAuthStateChanged(n=>n),oe([])}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Sne(t,e){t&1&&(y(0,"div",9),he(),y(1,"svg",10),V(2,"path",11),w()())}var gf=(()=>{class t{showProfile=pe(!0);isNestedComment=pe();parentId=pe();comment;exportComment=new De;closeForm=new De;submitComment(){this.exportComment.emit({body:this.comment,parentId:this.isNestedComment()&&this.parentId()?this.parentId():null})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-comment-form"]],inputs:{showProfile:[1,"showProfile"],isNestedComment:[1,"isNestedComment"],parentId:[1,"parentId"]},outputs:{exportComment:"exportComment",closeForm:"closeForm"},standalone:!0,features:[se],decls:12,vars:2,consts:[[1,"flex","gap-2"],["class","relative w-10 h-10 overflow-hidden bg-gray-200 rounded-full dark:bg-gray-600",4,"ngIf"],[1,"flex-1"],["for","OrderNotes",1,"sr-only"],[1,"overflow-hidden","rounded-lg","border","border-gray-200","shadow-sm","dark:border-gray-700"],["id","OrderNotes","rows","4","placeholder","What are your thoughts?",1,"w-full","resize-none","border-none","align-top","focus:ring-0","sm:text-sm","dark:bg-gray-800","dark:text-white",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-end","gap-2","bg-white","p-3","dark:bg-gray-800"],["type","button",1,"rounded","bg-gray-200","px-3","py-1.5","text-sm","font-medium","text-gray-700","hover:text-gray-600","dark:bg-gray-700","dark:text-gray-200","dark:hover:text-gray-100",3,"click"],["type","button",1,"rounded","bg-emerald-600","px-3","py-1.5","text-sm","font-medium","text-white","hover:bg-emerald-700",3,"click"],[1,"relative","w-10","h-10","overflow-hidden","bg-gray-200","rounded-full","dark:bg-gray-600"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"absolute","w-12","h-12","text-gray-400","-left-1"],["fill-rule","evenodd","d","M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule","evenodd"]],template:function(r,i){r&1&&(y(0,"div",0),Q(1,Sne,3,0,"div",1),y(2,"div",2)(3,"label",3),N(4,"Comment"),w(),y(5,"div",4)(6,"textarea",5),Ta("ngModelChange",function(o){return dc(i.comment,o)||(i.comment=o),o}),w(),y(7,"div",6)(8,"button",7),Y("click",function(){return i.comment=""}),N(9," Clear "),w(),y(10,"button",8),Y("click",function(){return i.submitComment()}),N(11," Submit "),w()()()()()),r&2&&(R(),O("ngIf",i.showProfile()),R(5),Ca("ngModel",i.comment))},dependencies:[lt,Iu,Xi,Wo,df]})}return t})();var Dne=["CommentFormComponent"];function Ane(t,e){if(t&1){let n=ft();y(0,"app-comment-form",17),Y("exportComment",function(i){He(n);let s=ie();return ze(s.getFormData(i))}),w()}if(t&2){let n=ie();O("isNestedComment",!0)("parentId",n.replyingId)("showProfile",!1)}}function xne(t,e){if(t&1){let n=ft();y(0,"div",14)(1,"app-comment-holder",19),Y("exportCommentdata",function(i){He(n);let s=ie(2);return ze(s.getFormData(i))}),w()()}if(t&2){let n=e.$implicit;R(),O("comment",n)}}function Rne(t,e){if(t&1&&(rn(0),Q(1,xne,2,1,"div",18),sn()),t&2){let n,r=ie();R(),O("ngForOf",(n=r.comment())==null?null:n.children)}}var gj=(()=>{class t{comment=pe();isReplying=!1;replyingId;showReplies=!1;commentForm=gf;exportCommentdata=new De;constructor(){Mn(()=>{console.log(this.comment())})}ngOnInit(){}handleReply(n){this.isReplying=!this.isReplying,this.replyingId=n}getFormData(n){this.exportCommentdata.emit(n),this.isReplying=!1,this.replyingId=""}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-comment-holder"]],viewQuery:function(r,i){if(r&1&&ZP(Dne,5),r&2){let s;lc(s=cc())&&(i.commentForm=s.first)}},inputs:{comment:[1,"comment"]},outputs:{exportCommentdata:"exportCommentdata"},standalone:!0,features:[se],decls:23,vars:5,consts:[[1,"flex","gap-2","py-2"],[1,"relative","w-10","h-10","overflow-hidden","bg-gray-200","rounded-full","dark:bg-gray-600"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"absolute","w-12","h-12","text-gray-400","-left-1"],["fill-rule","evenodd","d","M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule","evenodd"],[1,"flex-1"],[1,"text-sm","font-medium","text-gray-800"],[1,"cursor-pointer","text-gray-600"],[1,"pt-2","text-sm","text-gray-700"],[1,"flex","items-center","justify-between","gap-2"],[1,"flex","cursor-pointer","text-gray-500","items-center","gap-x-1","dark:text-gray-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.068.157 2.148.279 3.238.364.466.037.893.281 1.153.671L12 21l2.652-3.978c.26-.39.687-.634 1.153-.67 1.09-.086 2.17-.208 3.238-.365 1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"],[1,"text-sm"],[1,"text-sm","text-emerald-600","cursor-pointer","flex","justify-end","max-w-xs","font-medium","py-2",3,"click"],[1,"ml-10","border-l-2","pl-2"],[3,"isNestedComment","parentId","showProfile","exportComment",4,"ngIf"],[4,"ngIf"],[3,"exportComment","isNestedComment","parentId","showProfile"],["class","ml-10 border-l-2 pl-2",4,"ngFor","ngForOf"],[3,"exportCommentdata","comment"]],template:function(r,i){if(r&1&&(y(0,"div",0)(1,"div",1),he(),y(2,"svg",2),V(3,"path",3),w()(),_e(),y(4,"div",4)(5,"p",5),N(6),w(),y(7,"small",6),N(8,"July 30 12 pm"),w(),y(9,"p",7),N(10),w(),y(11,"div",8)(12,"div",9),Y("click",function(){return i.showReplies=!i.showReplies}),y(13,"span"),he(),y(14,"svg",10),V(15,"path",11),w()(),_e(),y(16,"span",12),N(17),w()(),y(18,"small",13),Y("click",function(){let o;return i.handleReply((o=i.comment())==null?null:o._id)}),N(19,"Reply"),w()()()(),y(20,"div",14),Q(21,Ane,1,3,"app-comment-form",15),w(),Q(22,Rne,2,1,"ng-container",16)),r&2){let s,o,a;R(6),Ft((s=i.comment())==null?null:s.username),R(4),Ce(" ",(o=i.comment())==null?null:o.body," "),R(7),Ce("",(a=i.comment())!=null&&a.children?(a=i.comment())==null||a.children==null?null:a.children.length:0," Replies"),R(4),O("ngIf",i.isReplying&&i.replyingId==i.comment()._id),R(),O("ngIf",i.showReplies)}},dependencies:[t,lt,Gt,gf]})}return t})();var bn=[];for(Yv=0;Yv<256;++Yv)bn.push((Yv+256).toString(16).slice(1));var Yv;function yj(t,e=0){return(bn[t[e+0]]+bn[t[e+1]]+bn[t[e+2]]+bn[t[e+3]]+"-"+bn[t[e+4]]+bn[t[e+5]]+"-"+bn[t[e+6]]+bn[t[e+7]]+"-"+bn[t[e+8]]+bn[t[e+9]]+"-"+bn[t[e+10]]+bn[t[e+11]]+bn[t[e+12]]+bn[t[e+13]]+bn[t[e+14]]+bn[t[e+15]]).toLowerCase()}var Zv,Nne=new Uint8Array(16);function JD(){if(!Zv&&(Zv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Zv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zv(Nne)}var Mne=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),XD={randomUUID:Mne};function Pne(t,e,n){if(XD.randomUUID&&!e&&!t)return XD.randomUUID();t=t||{};var r=t.random||(t.rng||JD)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return yj(r)}var yf=Pne;function kne(t,e){if(t&1){let n=ft();y(0,"div")(1,"app-comment-holder",6),Y("exportCommentdata",function(i){He(n);let s=ie();return ze(s.getComment(i))}),w()()}if(t&2){let n=e.$implicit;R(),O("comment",n)}}var vj=(()=>{class t{service=S(mj);articleService=S(Dt);comments=[];currentCommentId;currentArticle=pe();store$=S(it);commentsUpdated=new De;loggedUser$;constructor(){Mn(()=>{this.store$.select("loggedUser").subscribe(n=>{this.loggedUser$=n.user,this.comments=this.handleComments(this.currentArticle()?.comments)})})}ngOnInit(){}getComments(n){}handleComments(n){let r={},i=[];return n?.forEach(s=>{r[s._id]=ve(U({},s),{children:[]})}),n?.forEach(s=>{if(s.parentId){let o=r[s.parentId];o&&o.children?.push(r[s._id])}else i.push(r[s._id])}),i}getComment(n){let{body:r,parentId:i}=n,s={_id:yf(),articleId:this.currentArticle()?._id,body:r,username:this.loggedUser$?.displayName,userId:this.loggedUser$?.userUid,parentId:i,createdAt:new Date().toDateString()};this.articleService.createComment(s).subscribe(o=>{this.getComments(this.currentArticle()?._id),this.commentsUpdated.emit(!0)})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-comments"]],inputs:{currentArticle:[1,"currentArticle"]},outputs:{commentsUpdated:"commentsUpdated"},standalone:!0,features:[se],decls:13,vars:1,consts:[[1,"overflow-x-auto"],[3,"exportComment"],[1,"py-4"],["id","Tab",1,"w-ful","outline-none","focus:outline-none","active:outline-none","rounded-md","border-none","w-fit","dark:bg-gray-900","dark:text-white"],["select",""],[4,"ngFor","ngForOf"],[3,"exportCommentdata","comment"]],template:function(r,i){r&1&&(y(0,"div",0)(1,"app-comment-form",1),Y("exportComment",function(o){return i.getComment(o)}),w(),y(2,"div",2)(3,"select",3)(4,"option"),N(5,"Most Relevant"),w(),y(6,"option"),N(7,"Oldest"),w(),y(8,"option"),N(9,"Newest"),w(),y(10,"option",4),N(11,"Notifications"),w()()(),Q(12,kne,2,1,"div",5),w()),r&2&&(R(12),O("ngForOf",i.comments))},dependencies:[Gt,gj,gf]})}return t})();var One=()=>({width:"37%"});function Fne(t,e){if(t&1&&(rn(0),V(1,"app-reader-card",31),sn()),t&2){let n=e.$implicit;R(),O("data",n)}}function Lne(t,e){if(t&1&&(y(0,"span",32),N(1),w()),t&2){let n=ie();R(),Ce("Comments(",n.currentData!=null&&n.currentData.comments?n.currentData==null||n.currentData.comments==null?null:n.currentData.comments.length:0,")")}}var _j=(()=>{class t{articleName=pe();title;sidebarVisible2=!1;readersChoices=[];currentData;editorContent;articleService=S(Dt);sanitizer=S(Ud);views=pe();constructor(){Mn(()=>{this.getData(this.articleName())})}ngOnInit(){this.articleService.handlePageViews(this.articleName())}getData(n){this.articleService.getArticleById("published",n).subscribe(r=>{this.currentData=r[0],this.editorContent=this.transformHtml(),this.articleService.getAllArticles().subscribe(i=>{this.readersChoices=i})})}transformHtml(){return this.sanitizer.bypassSecurityTrustHtml(this.currentData?.editorContent)}openComments(){this.sidebarVisible2=!0}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-article-details"]],inputs:{articleName:[1,"articleName"],views:[1,"views"]},standalone:!0,features:[se],decls:52,vars:17,consts:[[1,"py-4","px-4","mx-auto","max-w-3xl"],[1,"max-w-xl"],[1,"text-3xl","py-1","capitalize","font-medium","text-gray-800"],[1,"text-gray-600","text-sm","px-1"],[1,"pt-6","flex","gap-4"],[1,"relative","w-10","h-10","overflow-hidden","bg-gray-200","rounded-full","dark:bg-gray-600"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"absolute","w-12","h-12","text-gray-400","-left-1"],["fill-rule","evenodd","d","M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule","evenodd"],[1,"text-sm","font-medium","text-gray-700"],[1,"px-8","cursor-pointer","text-emerald-600"],[1,"text-sm","text-gray-600"],[1,"px-8"],[1,"my-4","py-2","border-t","border-b","border-gray-200/75","w-full","flex","justify-between","line-clamp-3","items-center","gap-4"],[1,"flex","items-center","gap-4"],[1,"flex","text-gray-500","items-center","gap-x-1","dark:text-gray-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5"],["stroke-linecap","round","stroke-linejoin","round","d","M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],[1,"text-sm"],[1,"flex","cursor-pointer","text-gray-500","items-center","gap-x-1","dark:text-gray-400",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.068.157 2.148.279 3.238.364.466.037.893.281 1.153.671L12 21l2.652-3.978c.26-.39.687-.634 1.153-.67 1.09-.086 2.17-.208 3.238-.365 1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"],["stroke-linecap","round","stroke-linejoin","round","d","M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"],[1,"ql-snow"],[1,"ql-editor",3,"innerHtml"],[1,"py-4"],[1,"font-medium","text-xl","text-gray-700","py-4"],[1,"grid","grid-cols-3","gap-4"],[4,"ngFor","ngForOf"],["position","right",3,"visibleChange","visible"],["pTemplate","header"],[3,"commentsUpdated","currentArticle"],[3,"data"],[1,"font-semibold","text-xl"]],template:function(r,i){r&1&&(y(0,"div",0)(1,"div",1)(2,"h3",2),N(3),w(),y(4,"p",3),N(5),w()(),y(6,"div",4)(7,"div",5),he(),y(8,"svg",6),V(9,"path",7),w()(),_e(),y(10,"div")(11,"p",8),N(12),y(13,"span",9),N(14,"Follow"),w()(),y(15,"p",10),N(16),y(17,"span",11),N(18),Lr(19,"date"),w()()()(),y(20,"div",12)(21,"div",13)(22,"div",14)(23,"span"),he(),y(24,"svg",15),V(25,"path",16)(26,"path",17),w()(),_e(),y(27,"span",18),N(28),w()(),y(29,"div",19),Y("click",function(){return i.openComments()}),y(30,"span"),he(),y(31,"svg",15),V(32,"path",20),w()(),_e(),y(33,"span",18),N(34),w()()(),y(35,"div",13)(36,"div",14)(37,"span"),he(),y(38,"svg",15),V(39,"path",21),w()(),_e(),y(40,"span",18),N(41,"1.8K"),w()()()(),y(42,"div",22),V(43,"div",23),w(),y(44,"div",24)(45,"h3",25),N(46,"Recommended for you"),w(),y(47,"div",26),Q(48,Fne,2,1,"ng-container",27),w()(),y(49,"p-sidebar",28),Ta("visibleChange",function(o){return dc(i.sidebarVisible2,o)||(i.sidebarVisible2=o),o}),Q(50,Lne,2,1,"ng-template",29),y(51,"app-comments",30),Y("commentsUpdated",function(){return i.getData(i.articleName())}),w()()()),r&2&&(R(3),Ce("",i.currentData==null?null:i.currentData.title," "),R(2),Ft(i.currentData==null?null:i.currentData.description),R(7),Ce("",i.currentData==null?null:i.currentData.author," "),R(4),Ce("",i.currentData==null?null:i.currentData.readTime," min read "),R(2),Ce("Published on ",fc(19,13,i.currentData==null?null:i.currentData.published,"mediumDate"),""),R(10),Ft(i.views()),R(6),Ft(i.currentData!=null&&i.currentData.comments?i.currentData==null||i.currentData.comments==null?null:i.currentData.comments.length:0),R(9),O("innerHtml",i.editorContent,wE),R(5),O("ngForOf",i.readersChoices==null?null:i.readersChoices.splice(0,3)),R(),HP(Fr(16,One)),Ca("visible",i.sidebarVisible2),R(2),O("currentArticle",i.currentData))},dependencies:[Gt,qv,pj,fj,Kv,vj,Fi],styles:[".p-sidebar-close{padding:10px!important;display:flex!important;justify-content:end!important;width:100%!important}"]})}return t})();var Jv={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"],["table"]]},eA=new $("config",{providedIn:"root",factory:()=>({modules:Jv})});var wj=t=>zt([{provide:eA,useValue:t}]);var Vne=[[["","above-quill-editor-toolbar",""]],[["","quill-editor-toolbar",""]],[["","below-quill-editor-toolbar",""]]],Une=["[above-quill-editor-toolbar]","[quill-editor-toolbar]","[below-quill-editor-toolbar]"];function jne(t,e){t&1&&V(0,"div",0)}function Bne(t,e){t&1&&V(0,"div",0)}var Xv=(t,e)=>t||e||"html",$ne=()=>new de(t=>{let e=requestAnimationFrame(()=>{t.next(),t.complete()});return()=>cancelAnimationFrame(e)}),Hne=(()=>{let e=class e{constructor(r,i){this.config=i,this.quill$=jl(()=>I(this,null,function*(){if(!this.Quill){let s=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;let o=yield import("./chunk-FULH5IZU.js");this.document.addEventListener=s,this.Quill=o.default?.default??o.default??o}return this.config.customOptions?.forEach(s=>{let o=this.Quill.import(s.import);o.whitelist=s.whitelist,this.Quill.register(o,!0,this.config.suppressGlobalRegisterWarning)}),yield this.registerCustomModules(this.Quill,this.config.customModules,this.config.suppressGlobalRegisterWarning)})).pipe(T0({bufferSize:1,refCount:!0})),this.document=r.get(mt),this.config||(this.config={modules:Jv})}getQuill(){return this.quill$}registerCustomModules(r,i,s){return I(this,null,function*(){if(Array.isArray(i))for(let{implementation:o,path:a}of i)ld(o)&&(o=yield v0(o)),r.register(a,o,s);return r})}};e.\u0275fac=function(i){return new(i||e)(q(at),q(eA,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zne=(()=>{let e=class e{constructor(){this.format=pe(void 0),this.theme=pe(void 0),this.modules=pe(void 0),this.debug=pe(!1),this.readOnly=pe(!1),this.placeholder=pe(void 0),this.maxLength=pe(void 0),this.minLength=pe(void 0),this.required=pe(!1),this.formats=pe(void 0),this.customToolbarPosition=pe("top"),this.sanitize=pe(void 0),this.beforeRender=pe(void 0),this.styles=pe(null),this.registry=pe(void 0),this.bounds=pe(void 0),this.customOptions=pe([]),this.customModules=pe([]),this.trackChanges=pe(void 0),this.classes=pe(void 0),this.trimOnValidation=pe(!1),this.linkPlaceholder=pe(void 0),this.compareValues=pe(!1),this.filterNull=pe(!1),this.debounceTime=pe(void 0),this.defaultEmptyValue=pe(null),this.onEditorCreated=new De,this.onEditorChanged=new De,this.onContentChanged=new De,this.onSelectionChanged=new De,this.onFocus=new De,this.onBlur=new De,this.onNativeFocus=new De,this.onNativeBlur=new De,this.disabled=!1,this.toolbarPosition=gn("top"),this.subscription=null,this.quillSubscription=null,this.elementRef=S(At),this.document=S(mt),this.cd=S(Nn),this.domSanitizer=S(Ud),this.platformId=S(xn),this.renderer=S(tn),this.zone=S(ye),this.service=S(Hne),this.destroyRef=S(Oi),this.valueGetter=pe(r=>{let i=r.getSemanticHTML();this.isEmptyValue(i)&&(i=this.defaultEmptyValue());let s=i,o=Xv(this.format(),this.service.config.format);if(o==="text")s=r.getText();else if(o==="object")s=r.getContents();else if(o==="json")try{s=JSON.stringify(r.getContents())}catch{s=r.getText()}return s}),this.valueSetter=pe((r,i)=>{let s=Xv(this.format(),this.service.config.format);if(s==="html")return([!0,!1].includes(this.sanitize())?this.sanitize():this.service.config.sanitize||!1)&&(i=this.domSanitizer.sanitize(mr.HTML,i)),r.clipboard.convert({html:i});if(s==="json")try{return JSON.parse(i)}catch{return[{insert:i}]}return i}),this.selectionChangeHandler=(r,i,s)=>{let o=this.trackChanges()||this.service.config.trackChanges,a=!r&&!!this.onModelTouched&&(s==="user"||o&&o==="all");!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!a||this.zone.run(()=>{r===null?this.onBlur.emit({editor:this.quillEditor,source:s}):i===null&&this.onFocus.emit({editor:this.quillEditor,source:s}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:i,range:r,source:s}),a&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(r,i,s)=>{let o=this.quillEditor.getText(),a=this.quillEditor.getContents(),l=this.quillEditor.getSemanticHTML();this.isEmptyValue(l)&&(l=this.defaultEmptyValue());let c=this.trackChanges()||this.service.config.trackChanges,d=(s==="user"||c&&c==="all")&&!!this.onModelChange;!this.onContentChanged.observed&&!d||this.zone.run(()=>{if(d){let h=this.valueGetter();this.onModelChange(h(this.quillEditor))}this.onContentChanged.emit({content:a,delta:r,editor:this.quillEditor,html:l,oldDelta:i,source:s,text:o}),this.cd.markForCheck()})},this.editorChangeHandler=(r,i,s,o)=>{if(this.onEditorChanged.observed)if(r==="text-change"){let a=this.quillEditor.getText(),l=this.quillEditor.getContents(),c=this.quillEditor.getSemanticHTML();this.isEmptyValue(c)&&(c=this.defaultEmptyValue()),this.zone.run(()=>{this.onEditorChanged.emit({content:l,delta:i,editor:this.quillEditor,event:r,html:c,oldDelta:s,source:o,text:a}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:r,oldRange:s,range:i,source:o}),this.cd.markForCheck()})}}static normalizeClassNames(r){return r.trim().split(" ").reduce((s,o)=>{let a=o.trim();return a&&s.push(a),s},[])}ngOnInit(){this.toolbarPosition.set(this.customToolbarPosition())}ngAfterViewInit(){vc(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe(yt(r=>{let i=[this.service.registerCustomModules(r,this.customModules())],s=this.beforeRender()??this.service.config.beforeRender;return s&&i.push(s()),Promise.all(i).then(()=>r)})).subscribe(r=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");let i=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),s=Object.assign({},this.modules()||this.service.config.modules);i?s.toolbar=i:s.toolbar===void 0&&(s.toolbar=Jv.toolbar);let o=this.placeholder()!==void 0?this.placeholder():this.service.config.placeholder;o===void 0&&(o="Insert text here ...");let a=this.styles();a&&Object.keys(a).forEach(p=>{this.renderer.setStyle(this.editorElem,p,a[p])}),this.classes()&&this.addClasses(this.classes()),this.customOptions().forEach(p=>{let g=r.import(p.import);g.whitelist=p.whitelist,r.register(g,!0)});let l=this.bounds()&&this.bounds()==="self"?this.editorElem:this.bounds();l||(l=this.service.config.bounds?this.service.config.bounds:this.document.body);let c=this.debug();!c&&c!==!1&&this.service.config.debug&&(c=this.service.config.debug);let d=this.readOnly();!d&&this.readOnly()!==!1&&(d=this.service.config.readOnly!==void 0?this.service.config.readOnly:!1);let h=this.formats();if(!h&&h===void 0&&(h=this.service.config.formats?[...this.service.config.formats]:this.service.config.formats===null?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new r(this.editorElem,{bounds:l,debug:c,formats:h,modules:s,placeholder:o,readOnly:d,registry:this.registry(),theme:this.theme()||(this.service.config.theme?this.service.config.theme:"snow")}),this.onNativeBlur.observed&&(this.quillEditor.scroll.domNode.addEventListener("blur",()=>this.onNativeBlur.next({editor:this.quillEditor,source:"dom"})),this.quillEditor.getModule("toolbar").container?.addEventListener("mousedown",g=>g.preventDefault())),this.onNativeFocus.observed&&this.quillEditor.scroll.domNode.addEventListener("focus",()=>this.onNativeFocus.next({editor:this.quillEditor,source:"dom"})),this.linkPlaceholder()){let g=this.quillEditor?.theme?.tooltip?.root?.querySelector("input[data-link]");g?.dataset&&(g.dataset.link=this.linkPlaceholder())}}),this.content){if(Xv(this.format(),this.service.config.format)==="text")this.quillEditor.setText(this.content,"silent");else{let T=this.valueSetter()(this.quillEditor,this.content);this.quillEditor.setContents(T,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),!(!this.onEditorCreated.observed&&!this.onValidatorChanged)&&$ne().pipe(Gb(this.destroyRef)).subscribe(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){this.dispose(),this.quillSubscription?.unsubscribe(),this.quillSubscription=null}ngOnChanges(r){if(this.quillEditor){if(r.readOnly&&this.quillEditor.enable(!r.readOnly.currentValue),r.placeholder&&(this.quillEditor.root.dataset.placeholder=r.placeholder.currentValue),r.styles){let i=r.styles.currentValue,s=r.styles.previousValue;s&&Object.keys(s).forEach(o=>{this.renderer.removeStyle(this.editorElem,o)}),i&&Object.keys(i).forEach(o=>{this.renderer.setStyle(this.editorElem,o,this.styles()[o])})}if(r.classes){let i=r.classes.currentValue,s=r.classes.previousValue;s&&this.removeClasses(s),i&&this.addClasses(i)}r.debounceTime&&this.addQuillEventListeners()}}addClasses(r){e.normalizeClassNames(r).forEach(i=>{this.renderer.addClass(this.editorElem,i)})}removeClasses(r){e.normalizeClassNames(r).forEach(i=>{this.renderer.removeClass(this.editorElem,i)})}writeValue(r){if(this.filterNull()&&r===null||(this.content=r,!this.quillEditor))return;let i=Xv(this.format(),this.service.config.format),o=this.valueSetter()(this.quillEditor,r);if(this.compareValues()){let a=this.quillEditor.getContents();if(JSON.stringify(a)===JSON.stringify(o))return}if(r){i==="text"?this.quillEditor.setText(r):this.quillEditor.setContents(o);return}this.quillEditor.setText("")}setDisabledState(r=this.disabled){this.disabled=r,this.quillEditor&&(r?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly()||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(r){this.onModelChange=r}registerOnTouched(r){this.onModelTouched=r}registerOnValidatorChange(r){this.onValidatorChanged=r}validate(){if(!this.quillEditor)return null;let r={},i=!0,s=this.quillEditor.getText(),o=this.trimOnValidation()?s.trim().length:s.length===1&&s.trim().length===0?0:s.length-1,a=this.quillEditor.getContents().ops,l=!!a&&a.length===1&&[`
`,""].includes(a[0].insert?.toString());return this.minLength()&&o&&o<this.minLength()&&(r.minLengthError={given:o,minLength:this.minLength()},i=!1),this.maxLength()&&o>this.maxLength()&&(r.maxLengthError={given:o,maxLength:this.maxLength()},i=!1),this.required()&&!o&&l&&(r.requiredError={empty:!0},i=!1),i?null:r}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new Tt,this.subscription.add(oa(this.quillEditor,"selection-change").subscribe(([s,o,a])=>{this.selectionChangeHandler(s,o,a)}));let r=oa(this.quillEditor,"text-change"),i=oa(this.quillEditor,"editor-change");typeof this.debounceTime()=="number"&&(r=r.pipe(xp(this.debounceTime())),i=i.pipe(xp(this.debounceTime()))),this.subscription.add(r.subscribe(([s,o,a])=>{this.textChangeHandler(s,o,a)})),this.subscription.add(i.subscribe(([s,o,a,l])=>{this.editorChangeHandler(s,o,a,l)}))})}dispose(){this.subscription!==null&&(this.subscription.unsubscribe(),this.subscription=null)}isEmptyValue(r){return r==="<p></p>"||r==="<div></div>"||r==="<p><br></p>"||r==="<div><br></div>"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ye({type:e,inputs:{format:[1,"format"],theme:[1,"theme"],modules:[1,"modules"],debug:[1,"debug"],readOnly:[1,"readOnly"],placeholder:[1,"placeholder"],maxLength:[1,"maxLength"],minLength:[1,"minLength"],required:[1,"required"],formats:[1,"formats"],customToolbarPosition:[1,"customToolbarPosition"],sanitize:[1,"sanitize"],beforeRender:[1,"beforeRender"],styles:[1,"styles"],registry:[1,"registry"],bounds:[1,"bounds"],customOptions:[1,"customOptions"],customModules:[1,"customModules"],trackChanges:[1,"trackChanges"],classes:[1,"classes"],trimOnValidation:[1,"trimOnValidation"],linkPlaceholder:[1,"linkPlaceholder"],compareValues:[1,"compareValues"],filterNull:[1,"filterNull"],debounceTime:[1,"debounceTime"],defaultEmptyValue:[1,"defaultEmptyValue"],valueGetter:[1,"valueGetter"],valueSetter:[1,"valueSetter"]},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur",onNativeFocus:"onNativeFocus",onNativeBlur:"onNativeBlur"},features:[ar]});let t=e;return t})(),Ej=(()=>{let e=class e extends zne{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Gn(e)))(s||e)}})(),e.\u0275cmp=ne({type:e,selectors:[["quill-editor"]],standalone:!0,features:[ci([{multi:!0,provide:sl,useExisting:sr(()=>e)},{multi:!0,provide:ol,useExisting:sr(()=>e)}]),yn,se],ngContentSelectors:Une,decls:5,vars:2,consts:[["quill-editor-element",""]],template:function(i,s){i&1&&(Ia(Vne),Q(0,jne,1,0,"div",0),_s(1),_s(2,1),_s(3,2),Q(4,Bne,1,0,"div",0)),i&2&&(zE(s.toolbarPosition()!=="top"?0:-1),R(4),zE(s.toolbarPosition()==="top"?4:-1))},styles:["[_nghost-%COMP%]{display:inline-block}"]});let t=e;return t})();var e_=t=>({"outline-red-600 ring-red-600 border-red-600 placeholder:text-red-600":t});function qne(t,e){t&1&&(y(0,"a",15),N(1," Schedule "),w())}function Gne(t,e){if(t&1){let n=ft();y(0,"a",16),Y("click",function(){He(n);let i=ie();return ze(i.handlePublishArticle())}),N(1," Publish Blog "),w()}}function Wne(t,e){t&1&&(y(0,"small",37),N(1,"Please enter your article title"),w())}function Kne(t,e){t&1&&(y(0,"small",37),N(1,"Please enter your article description"),w())}function Qne(t,e){t&1&&(y(0,"small",37),N(1,"Please enter your article tags"),w())}function Yne(t,e){t&1&&(y(0,"small",37),N(1,"Please upload your article photo"),w())}function Zne(t,e){if(t&1){let n=ft();y(0,"div",17)(1,"div",18)(2,"label",19),N(3,"Article title"),w(),V(4,"input",20),Q(5,Wne,2,0,"small",21),w(),y(6,"div",18)(7,"label",22),N(8,"Article Description"),w(),V(9,"input",23),Q(10,Kne,2,0,"small",21),w(),y(11,"div",18)(12,"label",24),N(13,"Article Tags"),w(),y(14,"small",25),N(15,"please enter your tags, with comma seperated values."),w(),V(16,"input",26),Q(17,Qne,2,0,"small",21),w(),y(18,"div",27)(19,"label",24),N(20,"Article Cover photo"),w(),y(21,"small",25),N(22,"please upload high quality image."),w(),y(23,"div",28)(24,"label",29)(25,"div",30),he(),y(26,"svg",31),V(27,"path",32),w(),_e(),y(28,"p",33)(29,"span",34),N(30,"Click to upload"),w()(),y(31,"p",35),N(32,"SVG, PNG, JPG or GIF (MAX. 800x400px)"),w()(),y(33,"input",36),Y("change",function(i){He(n);let s=ie();return ze(s.uploadImages(i))}),w()()(),Q(34,Yne,2,0,"small",21),w()()}if(t&2){let n=ie();O("formGroup",n.articleForm),R(4),O("ngClass",Kn(9,e_,n.isControlInvalid("title"))),R(),O("ngIf",n.isControlInvalid("title")),R(4),O("ngClass",Kn(11,e_,n.isControlInvalid("description"))),R(),O("ngIf",n.isControlInvalid("description")),R(6),O("ngClass",Kn(13,e_,n.isControlInvalid("tags"))),R(),O("ngIf",n.isControlInvalid("tags")),R(7),O("ngClass",Kn(15,e_,n.isControlInvalid("articlePhoto"))),R(10),O("ngIf",n.isControlInvalid("articlePhoto"))}}function Jne(t,e){if(t&1){let n=ft();y(0,"div",38)(1,"quill-editor",39),Y("onContentChanged",function(i){He(n);let s=ie();return ze(s.handleContent(i))}),w()()}}function Xne(t,e){if(t&1){let n=ft();y(0,"a",40),Y("click",function(){He(n);let i=ie();return ze(i.handleNext())}),N(1," Next "),w()}}var Ij=(()=>{class t{isBasicDetailsFilled=!1;isFirstPageSubmitted=!1;articleForm;fb=S($v);articleService=S(Dt);router=S(Ze);store$=S(it);loggedUser$;currentTime=new Date;ngOnInit(){this.articleForm=this.fb.group({title:["",lr.required],description:["",lr.required],tags:["",lr.required],articlePhoto:["",lr.required],editorContent:["",lr.required]}),this.store$.select("loggedUser").subscribe(n=>{this.loggedUser$=n.user})}handleContent(n){this.articleForm.get("editorContent")?.setValue(n?.html)}uploadImages(n){let r=n.target.files[0],i=new FileReader;i.onload=s=>{this.articleForm.get("articlePhoto")?.setValue(s.target?.result)},i.readAsDataURL(r)}removePicture(){this.articleForm.get("articlePath")?.setValue("")}handleNext(){this.articleForm.get("title")?.valid&&this.articleForm.get("description")?.valid&&this.articleForm.get("tags")?.valid&&this.articleForm.get("articlePhoto")?.valid?this.isBasicDetailsFilled=!0:this.isFirstPageSubmitted=!0}readingTime(){let r=this.articleForm.value?.title.trim().split(/\s+/).length+this.articleForm.value?.editorContent.trim().split(/\s+/).length+this.articleForm.value?.description.trim().split(/\s+/).length;return Math.ceil(r/300)}handlePublishArticle(){let n=ve(U({_id:yf()},this.articleForm.value),{authorId:this.loggedUser$?.userUid,author:this.loggedUser$.displayName,status:"published",readTime:this.readingTime(),published:this.currentTime.toDateString(),updated:this.currentTime.toDateString(),comments:[],views:0});this.articleService.createArticle(n).subscribe(r=>{console.log(r)})}getDescription(){return this.isBasicDetailsFilled?this.articleForm.value?.description:"Please fill all therequired fields"}isControlInvalid(n){let r=this.articleForm?.get(n);return this.isFirstPageSubmitted&&!this.articleForm.value[n]||r.touched&&!this.articleForm.value[n]}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-create-post"]],standalone:!0,features:[se],decls:21,vars:7,consts:[[1,"flex","items-center","justify-between"],[1,"flex","gap-2","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6","border","cursor-pointer","rounded-full","w-10","h-10","p-2"],["stroke-linecap","round","stroke-linejoin","round","d","M6.75 15.75 3 12m0 0 3.75-3.75M3 12h18"],[1,"font-medium","text-base"],[1,"line-clamp-3","text-xs/relaxed"],[1,"flex","gap-4"],["routerLink","create-post",1,"block","rounded-lg","cursor-pointer","bg-gray-300","text-gray-700","text-center","px-4","py-2","text-sm","font-medium"],["routerLink","create-post","class","block rounded-lg cursor-pointer bg-blue-300  text-blue-700 text-center px-4 py-2 text-sm font-medium ",4,"ngIf"],["class","block rounded-lg cursor-pointer bg-emerald-300 active::bg-emerald-200  text-emerald-700 text-center px-4 py-2 text-sm font-medium hover:text-emerald-700",3,"click",4,"ngIf"],["class","px-12 py-4 ",3,"formGroup",4,"ngIf"],["class","my-4",4,"ngIf"],[1,"flex","gap-4","justify-end"],[1,"block","rounded-lg","cursor-pointer","bg-gray-300","text-gray-700","text-center","px-4","py-2","text-sm","font-medium",3,"click"],["class","block rounded-lg cursor-pointer bg-blue-300  text-blue-700 text-center px-4 py-2 text-sm font-medium ",3,"click",4,"ngIf"],["routerLink","create-post",1,"block","rounded-lg","cursor-pointer","bg-blue-300","text-blue-700","text-center","px-4","py-2","text-sm","font-medium"],[1,"block","rounded-lg","cursor-pointer","bg-emerald-300","active::bg-emerald-200","text-emerald-700","text-center","px-4","py-2","text-sm","font-medium","hover:text-emerald-700",3,"click"],[1,"px-12","py-4",3,"formGroup"],[1,"mb-4"],["for","articleTitle",1,"block","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","title","type","text","id","articleTitle","placeholder","Enter your article title",1,"mt-1","w-full","rounded-md","border-gray-300","shadow-sm","placeholder:text-xs","sm:text-sm","dark:border-gray-700","dark:bg-gray-800","dark:text-white",3,"ngClass"],["class","text-red-600",4,"ngIf"],["for","articleDesc",1,"block","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","description","type","text","id","articleDesc","placeholder","Enter your article Description",1,"mt-1","placeholder:text-xs","w-full","rounded-md","border-gray-300","shadow-sm","sm:text-sm","dark:border-gray-700","dark:bg-gray-800","dark:text-white",3,"ngClass"],["for","articleTags",1,"block","text-sm/none","font-medium","text-gray-900","dark:text-white"],[1,"text-xs/tight","text-blue-600"],["formControlName","tags","type","text","id","articleTags","placeholder","Enter your article tags with comma seperated values.",1,"mt-1","placeholder:text-xs","w-full","rounded-md","border-gray-300","shadow-sm","sm:text-sm","dark:border-gray-700","dark:bg-gray-800","dark:text-white",3,"ngClass"],[1,"mb-2"],[1,"flex","items-center","justify-center","w-full"],["for","dropzone-file",1,"flex","flex-col","items-center","justify-center","w-full","h-36","border-2","border-gray-300","border-dashed","rounded-lg","cursor-pointer","bg-gray-50","dark:bg-gray-700","hover:bg-gray-100","dark:border-gray-600","dark:hover:border-gray-500","dark:hover:bg-gray-600",3,"ngClass"],[1,"flex","flex-col","items-center","justify-center","pt-5","pb-6"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 16",1,"w-8","h-8","mb-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"],[1,"mb-2","text-sm","text-gray-500","dark:text-gray-400"],[1,"font-semibold"],[1,"text-xs","text-gray-500","dark:text-gray-400"],["id","dropzone-file","type","file",1,"hidden",3,"change"],[1,"text-red-600"],[1,"my-4"],[3,"onContentChanged"],[1,"block","rounded-lg","cursor-pointer","bg-blue-300","text-blue-700","text-center","px-4","py-2","text-sm","font-medium",3,"click"]],template:function(r,i){r&1&&(y(0,"div",0)(1,"div",1)(2,"span"),he(),y(3,"svg",2),V(4,"path",3),w()(),_e(),y(5,"div")(6,"p",4),N(7),w(),y(8,"p",5),N(9),w()()(),y(10,"div",6)(11,"a",7),N(12," Save Draft "),w(),Q(13,qne,2,0,"a",8)(14,Gne,2,0,"a",9),w()(),Q(15,Zne,35,17,"div",10)(16,Jne,2,0,"div",11),y(17,"div",12)(18,"a",13),Y("click",function(){return i.isBasicDetailsFilled?i.isBasicDetailsFilled=!1:i.router.navigate(["/"])}),N(19," Cancel "),w(),Q(20,Xne,2,0,"a",14),w()),r&2&&(R(7),Ce(" ",i.isBasicDetailsFilled?i.articleForm.value==null?null:i.articleForm.value.title:"Create Post",""),R(2),Ce(" ",i.getDescription(),""),R(4),O("ngIf",i.isBasicDetailsFilled),R(),O("ngIf",i.isBasicDetailsFilled),R(),O("ngIf",!i.isBasicDetailsFilled),R(),O("ngIf",i.isBasicDetailsFilled),R(4),O("ngIf",!i.isBasicDetailsFilled))},dependencies:[Ej,lt,Hv,Xi,Wo,Vv,hf,ff,_n],styles:[".ql-snow{border-radius:12px!important}  .ql-container{margin-top:20px!important;border:1px solid #ccc!important;min-height:50vh!important}  .ql-editor img{border-radius:20px!important}"]})}return t})();var bj=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-my-blogs"]],standalone:!0,features:[se],decls:1,vars:0,template:function(r,i){r&1&&V(0,"router-outlet")},dependencies:[Rs]})}return t})();var t_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-no-data"]],standalone:!0,features:[se],decls:3,vars:0,consts:[[1,"grid","h-[50vh]","place-content-center","bg-white","px-4","dark:bg-gray-900"],[1,"capitalize","tracking-widest","text-gray-600","dark:text-gray-400"]],template:function(r,i){r&1&&(y(0,"div",0)(1,"h1",1),N(2,"No Data Found"),w()())}})}return t})();function ere(t,e){t&1&&(y(0,"div")(1,"p",4),N(2,"My Publications"),w(),y(3,"p",5),N(4,"Showing all the published articles "),w()())}function tre(t,e){t&1&&(y(0,"div")(1,"p",4),N(2,"My Drafts"),w(),y(3,"p",5),N(4,"Showing all the drafted articles "),w()())}function nre(t,e){t&1&&(y(0,"div")(1,"p",4),N(2,"My Scheduled articles"),w(),y(3,"p",5),N(4,"Showing all the scheduled articles "),w()())}function rre(t,e){if(t&1&&(y(0,"div",7),V(1,"app-article-card",8),w()),t&2){let n=e.$implicit;R(),O("data",n)}}function ire(t,e){if(t&1&&(rn(0),Q(1,rre,2,1,"div",6),sn()),t&2){let n=ie();R(),O("ngForOf",n.articles)}}function sre(t,e){t&1&&V(0,"app-no-data")}var Cj=(()=>{class t{category=pe();articles=[];publishedArticles=[];articleService=S(Dt);loggedUser$;store$=S(it);constructor(){Mn(()=>{this.getArticles(this.category())})}ngOnInit(){}getArticles(n){this.store$.select("loggedUser").subscribe(r=>{this.loggedUser$=r?.user,r?.user&&this.articleService.getAllArticlesByLoggedInUser(n,this.loggedUser$?.userUid).subscribe(i=>{console.log(i),this.articles=i?.flat()})})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-blogs-child"]],inputs:{category:[1,"category"]},standalone:!0,features:[se],decls:8,vars:5,consts:[["nodata",""],[1,"py-2"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"font-medium","text-lg"],[1,"line-clamp-3","text-xs","text-gray-600"],["class","my-2",4,"ngFor","ngForOf"],[1,"my-2"],[3,"data"]],template:function(r,i){if(r&1&&(y(0,"div",1),Q(1,ere,5,0,"div",2)(2,tre,5,0,"div",2)(3,nre,5,0,"div",2),y(4,"div",1),Q(5,ire,2,1,"ng-container",3)(6,sre,1,0,"ng-template",null,0,pc),w()()),r&2){let s=uc(7);R(),O("ngIf",i.category()=="published"),R(),O("ngIf",i.category()=="drafts"),R(),O("ngIf",i.category()=="scheduled"),R(2),O("ngIf",i.articles&&i.articles.length>0)("ngIfElse",s)}},dependencies:[Ji,Gt,lt,t_]})}return t})();function ore(t,e){if(t&1){let n=ft();y(0,"div",6)(1,"app-article-card",7),Y("refreshEvent",function(){He(n);let i=ie(2);return ze(i.getData())}),w()()}if(t&2){let n=e.$implicit;R(),O("data",n)}}function are(t,e){if(t&1&&(rn(0),Q(1,ore,2,1,"div",5),sn()),t&2){let n=ie();R(),O("ngForOf",n.savedArticles)}}function lre(t,e){t&1&&V(0,"app-no-data")}var Tj=(()=>{class t{articleService=S(Dt);savedArticleIds=[];savedArticles=[];store$=S(it);loggedUser$;ngOnInit(){this.getData()}getData(){this.store$.select("loggedUser").subscribe(n=>{this.loggedUser$=n?.user,this.loggedUser$&&this.articleService.getAllSavedArticlesByLoggedInUser("published",this.loggedUser$?.userUid).subscribe(r=>{this.savedArticles=r?.flat()})})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-saved"]],standalone:!0,features:[se],decls:10,vars:2,consts:[["nodata",""],[1,"py-2"],[1,"font-medium","text-lg"],[1,"line-clamp-3","text-xs","text-gray-600"],[4,"ngIf","ngIfElse"],["class","my-2",4,"ngFor","ngForOf"],[1,"my-2"],[3,"refreshEvent","data"]],template:function(r,i){if(r&1&&(y(0,"div",1)(1,"div")(2,"p",2),N(3,"My Saved Articles"),w(),y(4,"p",3),N(5,"Showing all the saved articles "),w()(),y(6,"div",1),Q(7,are,2,1,"ng-container",4)(8,lre,1,0,"ng-template",null,0,pc),w()()),r&2){let s=uc(9);R(7),O("ngIf",i.savedArticles&&i.savedArticles.length>0)("ngIfElse",s)}},dependencies:[lt,Gt,Ji,t_]})}return t})();function cre(t,e){if(t&1){let n=ft();y(0,"a",14),Y("click",function(){let i=He(n).$implicit,s=ie(2);return ze(s.updateCurrentTab(i))}),N(1),w()}if(t&2){let n=e.$implicit,r=ie(2);O("ngClass",r.currentTab()==n?"text-emerald-600 border-emerald-600 hover:border-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:border-emerald-600 dark:hover:text-emerald-200":"text-gray-500 hover:border-gray-300 border-none hover:text-gray-700 dark:text-gray-400 dark:hover:border-gray-600 dark:hover:text-gray-200"),R(),Ce(" ",n," ")}}function ure(t,e){if(t&1&&(rn(0),V(1,"app-article-card",16),sn()),t&2){let n=e.$implicit;R(),O("data",n)}}function dre(t,e){if(t&1&&(y(0,"div"),Q(1,ure,2,1,"ng-container",15),w()),t&2){let n=ie(2);R(),O("ngForOf",n.myArticles)}}function hre(t,e){if(t&1&&(y(0,"div",1)(1,"div",2)(2,"h3",3),N(3),w()(),y(4,"p",4),N(5,"An Software professional with 2.8 years of experience , specializing in angular"),w(),y(6,"small",5),N(7),Lr(8,"date"),w(),N(9," \xA0 "),y(10,"small",6),N(11),w(),y(12,"div",7)(13,"div",8)(14,"div",9)(15,"nav",10),Q(16,cre,2,2,"a",11),w()(),y(17,"div",12),Q(18,dre,2,1,"div",13),w()()()()),t&2){let n=ie();R(3),Ce("",n.myDetails==null?null:n.myDetails.displayName," "),R(4),Ce("Member since ",hc(8,6,n.myDetails==null?null:n.myDetails.joinedOn),"."),R(4),ba("",n.myDetails!=null&&n.myDetails.followers?n.myDetails==null||n.myDetails.followers==null?null:n.myDetails.followers.length:0," Followers | ",n.myDetails==null||n.myDetails.following==null?null:n.myDetails.following.length," Following"),R(5),O("ngForOf",n.tabNames),R(2),O("ngIf",n.currentTab()=="Home")}}var Sj=(()=>{class t{currentTab=gn("Home");tabNames=["Home","About","Following"];articleService=S(Dt);loggedUser$;store$=S(it);myDetails;myArticles=[];constructor(){}ngOnInit(){this.getMyDetails()}updateCurrentTab(n){this.currentTab.set(n)}getMyDetails(){this.store$.select("loggedUser").subscribe(n=>{this.loggedUser$=n?.user,this.loggedUser$?.userUid&&this.articleService.getMyAccount(this.loggedUser$?.userUid).subscribe(r=>{this.myDetails=r,r.articles&&this.articleService.getArticlesByIds("published",r.articles).subscribe(i=>{this.myArticles=i?.flat()})})})}getArticles(){this.store$.select("loggedUser").subscribe(n=>{this.loggedUser$=n?.user,this.articleService.getAllArticlesByLoggedInUser("published",this.loggedUser$?.uid).subscribe(r=>{console.log(r)})})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-account"]],standalone:!0,features:[se],decls:1,vars:1,consts:[["class","py-12 px-4",4,"ngIf"],[1,"py-12","px-4"],[1,"max-w-xl","flex","justify-between","items-center"],[1,"text-3xl","py-1","capitalize","font-medium","text-gray-900"],[1,"text-sm","pb-2","text-gray-500"],[1,"text-emerald-600","font-medium"],[1,"font-medium","text-emerald-600"],[1,"py-6"],[1,""],[1,"border-b","w-full","border-gray-200","dark:border-gray-700"],["aria-label","Tabs",1,"-mb-px","flex","gap-6"],["class","shrink-0 cursor-pointer border-b-2   px-1 pb-2 text-sm font-medium  ",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-4"],[4,"ngIf"],[1,"shrink-0","cursor-pointer","border-b-2","px-1","pb-2","text-sm","font-medium",3,"click","ngClass"],[4,"ngFor","ngForOf"],[3,"data"]],template:function(r,i){r&1&&Q(0,hre,19,8,"div",0),r&2&&O("ngIf",i.myDetails)},dependencies:[Ss,_n,Gt,lt,Fi,Ji]})}return t})();var ns=(()=>{class t{firebase=S(Yn);firestore=S(Ei);toastService=S(cn);storage=localStorage;router=S(Ze);store=S(it);constructor(){}registerUser(n,r,i){this.toastService.show();let s=xy(this.firebase,n,i);return oe(s).pipe(Z(o=>My(o.user,{displayName:r}).then(()=>o)),Fe(o=>oe(o)),Fe(o=>this.createAccountInFirestore({userUid:o.user.uid,email:n,username:r,joinedOn:o.user.metadata.creationTime,photoUrl:o.user.photoURL}).pipe(Z(()=>o))),Fe(o=>oe(o.user.getIdToken()).pipe(Fe(a=>this.addAccessTokenToLocalStorage(a).pipe(Z(()=>o))))),tt(o=>{this.store.dispatch(es({user:o.user}))}),Xt(o=>(this.toastService.addToToast({type:ts.error,message:o.message}),$n(o))),Dn(()=>{this.toastService.hide()}))}loginWithUserNameandPassword(n,r){this.toastService.show();let i=Ry(this.firebase,n,r);return oe(i).pipe(Z(s=>s),Fe(s=>this.createAccountInFirestore({userUid:s.user.uid,email:n,username:s.user.displayName||"",joinedOn:s.user.metadata.creationTime,photoUrl:s.user.photoURL}).pipe(Z(()=>s))),Fe(s=>oe(s.user.getIdToken()).pipe(Fe(o=>this.addAccessTokenToLocalStorage(o).pipe(Z(()=>s))))),tt(s=>{this.store.dispatch(es({user:s.user}))}),Dn(()=>{this.toastService.hide()}))}loginWithProvider(n){this.toastService.show();let r=Ny(this.firebase,n=="google"?new Kc:new aT);return oe(r).pipe(Z(i=>i),Fe(i=>this.createAccountInFirestore({userUid:i.user.uid,email:i.user.email||"",username:i.user.displayName||"",joinedOn:i.user.metadata.creationTime,photoUrl:i.user.photoURL||""}).pipe(Z(()=>i))),Fe(i=>oe(i.user.getIdToken()).pipe(Fe(s=>this.addAccessTokenToLocalStorage(s).pipe(Z(()=>i))))),tt(i=>{this.store.dispatch(es(U({},i.user)))}),Dn(()=>{this.toastService.hide()}))}createAccountInFirestore(n){this.toastService.show();let r=In(this.firestore,"userAccounts",n.userUid);return oe(Hs(r)).pipe(Fe(i=>i.exists()?(console.log("Account already exists"),oe(Promise.resolve(null))):oe(vu(r,n)).pipe(tt(()=>console.log("Account created successfully")))),Dn(()=>{this.toastService.hide()}))}addAccessTokenToLocalStorage(n){return new de(r=>{try{this.storage.setItem("token",n),r.next(),r.complete()}catch(i){r.error(i)}})}isLoggedIn(){return!!localStorage.getItem("token")}logout(){this.toastService.show();let n=y2(this.firebase);return oe(n).pipe(tt(()=>{localStorage.removeItem("token"),this.router.navigate(["login"])}),tt(()=>{this.store.dispatch(Qv())}),Dn(()=>{this.toastService.hide()}))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Dj=(()=>{class t{authService=S(ns);toastService=S(cn);router=S(Ze);loginWithProvider(n){this.authService.loginWithProvider(n).subscribe(r=>{r&&(this.toastService.addToToast({type:ts.success,message:`Welcome To Online Publishing Platform ${r?.user?.displayName||r?.user?.email}`}),this.router.navigate(["/"]))})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-login"]],standalone:!0,features:[se],decls:47,vars:0,consts:[[1,"flex","min-h-full","flex-row","justify-center","px-6","py-8","lg:px-8"],[1,"col-span-1","bg-white","shadow-md","rounded-xl","border","border-gray-200","px-6","mx-auto","py-8"],[1,"pb-6","text-emerald-600","text-xl","text-center","font-semibold"],[1,"flex","gap-4"],[1,"flex","items-center","gap-2","px-4","py-2","bg-white","border","border-gray-200","rounded-lg","cursor-pointer","hover:bg-gray-100","text-sm","font-medium","text-gray-700","w-fit",3,"click"],["viewBox","0 0 21 20","fill","none","xmlns","http://www.w3.org/2000/svg",1,"size-5"],["clip-path","url(#clip0_13183_10121)"],["d","M20.3081 10.2303C20.3081 9.55056 20.253 8.86711 20.1354 8.19836H10.7031V12.0492H16.1046C15.8804 13.2911 15.1602 14.3898 14.1057 15.0879V17.5866H17.3282C19.2205 15.8449 20.3081 13.2728 20.3081 10.2303Z","fill","#3F83F8"],["d","M10.7019 20.0006C13.3989 20.0006 15.6734 19.1151 17.3306 17.5865L14.1081 15.0879C13.2115 15.6979 12.0541 16.0433 10.7056 16.0433C8.09669 16.0433 5.88468 14.2832 5.091 11.9169H1.76562V14.4927C3.46322 17.8695 6.92087 20.0006 10.7019 20.0006V20.0006Z","fill","#34A853"],["d","M5.08857 11.9169C4.66969 10.6749 4.66969 9.33008 5.08857 8.08811V5.51233H1.76688C0.348541 8.33798 0.348541 11.667 1.76688 14.4927L5.08857 11.9169V11.9169Z","fill","#FBBC04"],["d","M10.7019 3.95805C12.1276 3.936 13.5055 4.47247 14.538 5.45722L17.393 2.60218C15.5852 0.904587 13.1858 -0.0287217 10.7019 0.000673888C6.92087 0.000673888 3.46322 2.13185 1.76562 5.51234L5.08732 8.08813C5.87733 5.71811 8.09302 3.95805 10.7019 3.95805V3.95805Z","fill","#EA4335"],["id","clip0_13183_10121"],["width","20","height","20","fill","white","transform","translate(0.5)"],["height","25","aria-hidden","true","viewBox","0 0 24 24","version","1.1","width","25","data-view-component","true",1,"octicon","octicon-mark-github","v-align-middle","color-fg-default"],["d","M12.5.75C6.146.75 1 5.896 1 12.25c0 5.089 3.292 9.387 7.863 10.91.575.101.79-.244.79-.546 0-.273-.014-1.178-.014-2.142-2.889.532-3.636-.704-3.866-1.35-.13-.331-.69-1.352-1.18-1.625-.402-.216-.977-.748-.014-.762.906-.014 1.553.834 1.769 1.179 1.035 1.74 2.688 1.25 3.349.948.1-.747.402-1.25.733-1.538-2.559-.287-5.232-1.279-5.232-5.678 0-1.25.445-2.285 1.178-3.09-.115-.288-.517-1.467.115-3.048 0 0 .963-.302 3.163 1.179.92-.259 1.897-.388 2.875-.388.977 0 1.955.13 2.875.388 2.2-1.495 3.162-1.179 3.162-1.179.633 1.581.23 2.76.115 3.048.733.805 1.179 1.825 1.179 3.09 0 4.413-2.688 5.39-5.247 5.678.417.36.776 1.05.776 2.128 0 1.538-.014 2.774-.014 3.162 0 .302.216.662.79.547C20.709 21.637 24 17.324 24 12.25 24 5.896 18.854.75 12.5.75Z"],[1,"flex","items-center","gap-4","pt-4"],[1,"bg-gray-200","h-0.5","w-[50%]"],[1,"text-gray-600"],[1,"bg-gray-200","h-0.5","w-[45%]"],[1,"mt-2","mx-2"],[1,"space-y-6"],["for","username",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"mt-2"],["formControlName","userName","id","username","name","email","type","text",1,"block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],[1,"flex","items-center","justify-between"],["for","password",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["id","password","formControlName","password","name","password","type","password",1,"block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-emerald-600","sm:text-sm","sm:leading-6"],[1,"text-red-600"],["type","submit",1,"flex","w-full","justify-center","rounded-md","bg-emerald-600","px-3","py-1.5","text-sm","font-semibold","leading-6","text-white","shadow-sm","hover:bg-emerald-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-emerald-600"],[1,"mt-5","text-center","text-sm","text-gray-500"],["routerLink","/register",1,"font-semibold","cursor-pointer","leading-6","text-emerald-600","hover:text-emerald-500"]],template:function(r,i){r&1&&(y(0,"div",0)(1,"div",1)(2,"p",2),N(3,"Welcome to Online publishing platform, "),w(),y(4,"div",3)(5,"a",4),Y("click",function(){return i.loginWithProvider("google")}),he(),y(6,"svg",5)(7,"g",6),V(8,"path",7)(9,"path",8)(10,"path",9)(11,"path",10),w(),y(12,"defs")(13,"clipPath",11),V(14,"rect",12),w()()(),N(15," Log in with Google "),w(),_e(),y(16,"a",4),Y("click",function(){return i.loginWithProvider("github")}),he(),y(17,"svg",13),V(18,"path",14),w(),N(19," Log in with Github "),w()(),_e(),y(20,"div",15),V(21,"span",16),y(22,"span",17),N(23,"or"),w(),V(24,"span",18),w(),y(25,"div",19)(26,"div",20)(27,"div")(28,"label",21),N(29,"User Name"),w(),y(30,"div",22),V(31,"input",23),w()(),y(32,"div")(33,"div",24)(34,"label",25),N(35,"Password"),w()(),y(36,"div",22),V(37,"input",26),y(38,"small",27),N(39,"Please enter your password"),w()()(),y(40,"div")(41,"button",28),N(42,"Sign in"),w()()(),y(43,"p",29),N(44," Not a member? "),y(45,"a",30),N(46,"Register Now"),w()()()()())},dependencies:[Br]})}return t})();var tA=t=>({"outline-red-600 ring-red-600":t}),fre=()=>["/login"];function pre(t,e){t&1&&(y(0,"small",33),N(1,"Please enter valid email address"),w())}function mre(t,e){t&1&&(y(0,"small",33),N(1,"Please enter your email address"),w())}function gre(t,e){t&1&&(y(0,"small",33),N(1,"Please enter your username"),w())}function yre(t,e){t&1&&(y(0,"small",33),N(1,"Please enter your password"),w())}function vre(t,e){t&1&&(y(0,"small",33),N(1,"password minimum length should be 6"),w())}var Aj=(()=>{class t{registrationForm;fb=S($v);isSubmitted=!1;authService=S(ns);toastService=S(cn);router=S(Ze);ngOnInit(){this.registrationForm=this.fb.group({email:["",[lr.required,lr.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],username:["",lr.required],password:["",[lr.required,lr.minLength(6)]]})}register(){if(this.registrationForm.valid){let{email:n,username:r,password:i}=this.registrationForm.value;this.authService.registerUser(n,r,i).subscribe(s=>{this.toastService.addToToast({type:ts.success,message:" Registration Success"}),this.router.navigate(["/"])})}else this.isSubmitted=!0}loginWithProvider(n){this.authService.loginWithProvider(n).subscribe(r=>{r&&(this.toastService.addToToast({type:ts.success,message:`Welcome To Online Publishing Platform ${r?.user?.displayName||r?.user?.email}`}),this.router.navigate(["/"]))})}isControlInvalid(n){let r=this.registrationForm?.get(n);return this.isSubmitted&&!this.registrationForm.value[n]||r.touched&&!this.registrationForm.value[n]}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-register"]],standalone:!0,features:[se],decls:55,vars:17,consts:[[1,"flex","min-h-full","flex-col","justify-center","px-6","py-6","lg:px-8"],[1,"col-span-1","card","bg-white","shadow-md","rounded-xl","border","border-gray-200","px-6","mx-auto","py-8"],[1,"pb-6","text-emerald-600","text-xl","text-center","font-semibold"],[1,"flex","gap-4"],[1,"flex","items-center","gap-2","px-4","py-2","bg-white","border","border-gray-300","rounded-lg","cursor-pointer","hover:bg-gray-100","text-sm","font-medium","text-gray-700","w-fit",3,"click"],["viewBox","0 0 21 20","fill","none","xmlns","http://www.w3.org/2000/svg",1,"size-5"],["clip-path","url(#clip0_13183_10121)"],["d","M20.3081 10.2303C20.3081 9.55056 20.253 8.86711 20.1354 8.19836H10.7031V12.0492H16.1046C15.8804 13.2911 15.1602 14.3898 14.1057 15.0879V17.5866H17.3282C19.2205 15.8449 20.3081 13.2728 20.3081 10.2303Z","fill","#3F83F8"],["d","M10.7019 20.0006C13.3989 20.0006 15.6734 19.1151 17.3306 17.5865L14.1081 15.0879C13.2115 15.6979 12.0541 16.0433 10.7056 16.0433C8.09669 16.0433 5.88468 14.2832 5.091 11.9169H1.76562V14.4927C3.46322 17.8695 6.92087 20.0006 10.7019 20.0006V20.0006Z","fill","#34A853"],["d","M5.08857 11.9169C4.66969 10.6749 4.66969 9.33008 5.08857 8.08811V5.51233H1.76688C0.348541 8.33798 0.348541 11.667 1.76688 14.4927L5.08857 11.9169V11.9169Z","fill","#FBBC04"],["d","M10.7019 3.95805C12.1276 3.936 13.5055 4.47247 14.538 5.45722L17.393 2.60218C15.5852 0.904587 13.1858 -0.0287217 10.7019 0.000673888C6.92087 0.000673888 3.46322 2.13185 1.76562 5.51234L5.08732 8.08813C5.87733 5.71811 8.09302 3.95805 10.7019 3.95805V3.95805Z","fill","#EA4335"],["id","clip0_13183_10121"],["width","20","height","20","fill","white","transform","translate(0.5)"],["height","25","aria-hidden","true","viewBox","0 0 24 24","version","1.1","width","25","data-view-component","true",1,"octicon","octicon-mark-github","v-align-middle","color-fg-default"],["d","M12.5.75C6.146.75 1 5.896 1 12.25c0 5.089 3.292 9.387 7.863 10.91.575.101.79-.244.79-.546 0-.273-.014-1.178-.014-2.142-2.889.532-3.636-.704-3.866-1.35-.13-.331-.69-1.352-1.18-1.625-.402-.216-.977-.748-.014-.762.906-.014 1.553.834 1.769 1.179 1.035 1.74 2.688 1.25 3.349.948.1-.747.402-1.25.733-1.538-2.559-.287-5.232-1.279-5.232-5.678 0-1.25.445-2.285 1.178-3.09-.115-.288-.517-1.467.115-3.048 0 0 .963-.302 3.163 1.179.92-.259 1.897-.388 2.875-.388.977 0 1.955.13 2.875.388 2.2-1.495 3.162-1.179 3.162-1.179.633 1.581.23 2.76.115 3.048.733.805 1.179 1.825 1.179 3.09 0 4.413-2.688 5.39-5.247 5.678.417.36.776 1.05.776 2.128 0 1.538-.014 2.774-.014 3.162 0 .302.216.662.79.547C20.709 21.637 24 17.324 24 12.25 24 5.896 18.854.75 12.5.75Z"],[1,"flex","items-center","gap-4","pt-4"],[1,"bg-gray-200","h-0.5","w-[50%]"],[1,"text-gray-600"],[1,"bg-gray-200","h-0.5","w-[45%]"],[1,"mt-2","mx-2",3,"formGroup"],[1,"space-y-3"],["for","email",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"mt-2"],["formControlName","email","id","email","name","email","type","email",1,"block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-emerald-600","sm:text-sm","sm:leading-6",3,"ngClass"],["class","text-red-600",4,"ngIf"],["for","username",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["formControlName","username","id","username","name","username","type","text",1,"block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-emerald-600","sm:text-sm","sm:leading-6",3,"ngClass"],[1,"flex","items-center","justify-between"],["for","password",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["minlength","6","id","password","formControlName","password","name","password","type","password",1,"block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-emerald-600","sm:text-sm","sm:leading-6",3,"ngClass"],["type","submit",1,"flex","w-full","justify-center","rounded-md","bg-emerald-600","px-3","py-1.5","text-sm","font-semibold","leading-6","text-white","shadow-sm","hover:bg-emerald-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-emerald-600",3,"click"],[1,"mt-4","text-center","text-sm","text-gray-500"],[1,"font-semibold","leading-6","text-emerald-600","hover:text-emerald-500",3,"routerLink"],[1,"text-red-600"]],template:function(r,i){if(r&1&&(y(0,"div",0)(1,"div",1)(2,"p",2),N(3,"Welcome to Online publishing platform, "),w(),y(4,"div",3)(5,"a",4),Y("click",function(){return i.loginWithProvider("google")}),he(),y(6,"svg",5)(7,"g",6),V(8,"path",7)(9,"path",8)(10,"path",9)(11,"path",10),w(),y(12,"defs")(13,"clipPath",11),V(14,"rect",12),w()()(),N(15," Continue with Google "),w(),_e(),y(16,"a",4),Y("click",function(){return i.loginWithProvider("github")}),he(),y(17,"svg",13),V(18,"path",14),w(),N(19," Continue with Github "),w()(),_e(),y(20,"div",15),V(21,"span",16),y(22,"span",17),N(23,"or"),w(),V(24,"span",18),w(),y(25,"div",19)(26,"div",20)(27,"div")(28,"label",21),N(29,"Email Address"),w(),y(30,"div",22),V(31,"input",23),w(),Q(32,pre,2,0,"small",24)(33,mre,2,0,"small",24),w(),y(34,"div")(35,"label",25),N(36,"User Name"),w(),y(37,"div",22),V(38,"input",26),w(),Q(39,gre,2,0,"small",24),w(),y(40,"div")(41,"div",27)(42,"label",28),N(43,"Password"),w()(),y(44,"div",22),V(45,"input",29),Q(46,yre,2,0,"small",24)(47,vre,2,0,"small",24),w()(),y(48,"div")(49,"button",30),Y("click",function(){return i.register()}),N(50,"Register"),w()()(),y(51,"p",31),N(52," Already have an account? "),y(53,"a",32),N(54,"Login here"),w()()()()()),r&2){let s,o;R(25),O("formGroup",i.registrationForm),R(6),O("ngClass",Kn(10,tA,i.isControlInvalid("email"))),R(),O("ngIf",(s=i.registrationForm.get("email"))==null?null:s.hasError("pattern")),R(),O("ngIf",i.isControlInvalid("email")),R(5),O("ngClass",Kn(12,tA,i.isControlInvalid("username"))),R(),O("ngIf",i.isControlInvalid("username")),R(6),O("ngClass",Kn(14,tA,i.isControlInvalid("password"))),R(),O("ngIf",i.isControlInvalid("password")),R(),O("ngIf",!(!(i.registrationForm==null||(o=i.registrationForm.get("password"))==null)&&o.touched)&&((o=i.registrationForm.get("password"))==null?null:o.hasError("minlength"))),R(6),O("routerLink",Fr(16,fre))}},dependencies:[Br,Hv,Xi,Wo,Vv,KD,hf,ff,lt,_n]})}return t})();var nA=(()=>{class t{store=S(it);router=S(Ze);authService=S(ns);firebase=S(Yn);toastService=S(cn);canActivateChild(n,r){return this.checkAuth()}canActivate(n,r){return this.checkAuth()}checkAuth(){return this.authService.isLoggedIn()?!0:(this.router.navigate(["login"]),!1)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _re(t,e){if(t&1){let n=ft();y(0,"a",33),Y("click",function(){He(n);let i=ie(2);return ze(i.openMobileMenu=!1)}),N(1,"Log in "),y(2,"span",34),N(3,"\u2192"),w()()}t&2&&O("routerLinkActive","text-primary text-lg  font-bold")}function wre(t,e){if(t&1){let n=ft();y(0,"a",35),Y("click",function(){He(n);let i=ie(2);return ze(i.openMobileMenu=!1)}),N(1,"Register"),y(2,"span",34),N(3,"\u2192"),w()()}t&2&&O("routerLinkActive","text-primary text-lg  font-bold")}function Ere(t,e){if(t&1&&(y(0,"p",36),N(1),w()),t&2){let n=ie(2);R(),Ce("Welcome ",n.loggedInuser," ")}}function Ire(t,e){if(t&1){let n=ft();y(0,"div",14),V(1,"div",15),y(2,"div",16)(3,"div",17)(4,"div",3)(5,"a",18),he(),y(6,"svg",19),V(7,"path",20),w(),_e(),y(8,"p",21),N(9,"RentHub"),w()()(),y(10,"button",22),Y("click",function(){He(n);let i=ie();return ze(i.openMobileMenu=!1)}),y(11,"span",7),N(12,"Close menu"),w(),he(),y(13,"svg",8),V(14,"path",23),w()()(),_e(),y(15,"div",24)(16,"div",25)(17,"div",26)(18,"a",27),Y("click",function(){He(n);let i=ie();return ze(i.openMobileMenu=!1)}),N(19,"Rent Home"),w(),y(20,"a",27),Y("click",function(){He(n);let i=ie();return ze(i.openMobileMenu=!1)}),N(21,"My Listings"),w(),y(22,"a",27),Y("click",function(){He(n);let i=ie();return ze(i.openMobileMenu=!1)}),N(23,"My favorites"),w(),y(24,"a",28),Y("click",function(){He(n);let i=ie();return ze(i.openMobileMenu=!1)}),N(25,"My Ratings"),w()(),y(26,"div",29),Q(27,_re,4,1,"a",30)(28,wre,4,1,"a",31)(29,Ere,2,1,"p",32),w()()()()()}if(t&2){let n=ie();R(18),O("routerLink","create-post")("routerLinkActive","text-primary text-lg  font-bold"),R(2),O("routerLink","my-listings")("routerLinkActive","text-primary text-lg border-b-2 border-primary font-bold"),R(2),O("routerLink","my-favorites")("routerLinkActive","text-primary text-lg  font-bold"),R(2),O("routerLink","my-ratings")("routerLinkActive","text-primary text-lg font-bold"),R(3),O("ngIf",!n.loggedInuser),R(),O("ngIf",!n.loggedInuser),R(),O("ngIf",n.loggedInuser)}}var xj=(()=>{class t{openMobileMenu=!1;loggedInuser="Sumanth";static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-navbar"]],standalone:!0,features:[se],decls:18,vars:1,consts:[[1,"bg-white"],[1,"border-b","border-gray-200/75"],["aria-label","Global",1,"flex","items-center","justify-between","px-6","py-4"],[1,"flex","lg:flex-1"],[1,"text-xl","font-semibold","text-primary"],[1,"flex","lg:hidden"],["type","button",1,"-m-2.5","inline-flex","items-center","justify-center","rounded-md","p-2.5","text-gray-700",3,"click"],[1,"sr-only"],["fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","aria-hidden","true",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"],[1,"hidden","lg:flex","lg:flex-1","gap-4","lg:justify-end"],[1,"relative","inline-flex","items-center","justify-center","w-10","h-10","overflow-hidden","bg-gray-200","rounded-full","dark:bg-gray-600"],[1,"font-semibold","text-gray-600","dark:text-gray-300"],["class","lg:hidden","role","dialog","aria-modal","true",4,"ngIf"],["role","dialog","aria-modal","true",1,"lg:hidden"],[1,"fixed","inset-0","z-50"],[1,"fixed","inset-y-0","right-0","z-50","w-full","overflow-y-auto","bg-white","px-6","py-6","sm:max-w-sm","sm:ring-1","sm:ring-gray-900/10"],[1,"flex","items-center","justify-between"],["routerLink","/",1,"-m-1.5","p-1.5","flex","items-center","gap-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","#4f46e5",1,"size-6","-mt-0.5"],["stroke-linecap","round","stroke-linejoin","round","d","m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"],[1,"text-2xl","font-bold","text-primary"],["type","button",1,"-m-2.5","rounded-md","p-2.5","text-gray-700",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"mt-6","flow-root"],[1,"-my-6","divide-y","divide-gray-500/10"],[1,"space-y-2","py-6","grid"],[1,"text-sm","font-semibold","leading-6","text-gray-900",3,"click","routerLink","routerLinkActive"],["href","#",1,"text-sm","font-semibold","leading-6","text-gray-900",3,"click","routerLink","routerLinkActive"],[1,"py-6","grid","space-y-1"],["routerLink","/login","class","text-sm font-semibold leading-6 text-gray-900",3,"routerLinkActive","click",4,"ngIf"],["routerLink","/register","class","text-sm font-semibold leading-6 text-gray-900 w-fit",3,"routerLinkActive","click",4,"ngIf"],["class","text-sm text-primary font-medium",4,"ngIf"],["routerLink","/login",1,"text-sm","font-semibold","leading-6","text-gray-900",3,"click","routerLinkActive"],["aria-hidden","true"],["routerLink","/register",1,"text-sm","font-semibold","leading-6","text-gray-900","w-fit",3,"click","routerLinkActive"],[1,"text-sm","text-primary","font-medium"]],template:function(r,i){r&1&&(y(0,"div",0)(1,"header",1)(2,"nav",2)(3,"div",3)(4,"p",4),N(5,"Online Publishing Platform"),w()(),y(6,"div",5)(7,"button",6),Y("click",function(){return i.openMobileMenu=!0}),y(8,"span",7),N(9,"Open main menu"),w(),he(),y(10,"svg",8),V(11,"path",9),w()()(),_e(),V(12,"app-search"),y(13,"div",10)(14,"div",11)(15,"span",12),N(16,"JL"),w()()()(),Q(17,Ire,30,11,"div",13),w()()),r&2&&(R(17),O("ngIf",i.openMobileMenu))},dependencies:[To,Br,Ag,Ss,lt,zv]})}return t})();var bre=()=>["/"],Cre=()=>({exact:!0}),Tre=()=>["me","blogs","published"],Sre=()=>["me","blogs","drafts"],Dre=()=>["me","blogs","scheduled"],Are=()=>["me","saved"],xre=()=>["me","account"];function Rre(t,e){if(t&1&&(y(0,"span",21),N(1),w()),t&2){let n=ie();R(),Ce("",n.current_userData==null||n.current_userData.email==null?null:n.current_userData.email.slice(0,23),".. ")}}var Rj=(()=>{class t{router=S(Ze);authService=S(ns);store=S(it);current_userData;ngOnInit(){this.store.select("loggedUser").subscribe(n=>{this.current_userData=n?.user})}navigate(n){this.router.navigate(["me","data",n])}logout(){confirm("Are you sure you want to logout?")&&this.authService.logout().subscribe(r=>console.log(r))}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-sidebar"]],standalone:!0,features:[se],decls:56,vars:24,consts:[[1,"flex","h-screen","flex-col","lg:w-[18vw]","justify-between","border-e","bg-white"],[1,"px-4","py-6"],["routerLink","create-post",1,"block","rounded-lg","cursor-pointer","bg-gray-300","active::bg-emerald-200","text-gray-700","text-center","px-4","py-2","text-sm","font-medium","hover:text-emerald-700"],[1,"mt-6","space-y-1"],[1,"block","rounded-lg","px-4","py-2","text-sm","font-medium","text-gray-600",3,"routerLink","routerLinkActive","routerLinkActiveOptions"],[1,"group","[&_summary::-webkit-details-marker]:hidden"],[1,"flex","cursor-pointer","items-center","justify-between","rounded-lg","px-4","py-2","text-gray-500","hover:bg-gray-100","hover:text-gray-700"],[1,"text-sm","font-medium"],[1,"shrink-0","transition","duration-300","group-open:-rotate-180"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"mt-2","space-y-1","px-4"],[1,"block","rounded-lg","px-4","py-2","text-sm","font-medium","text-gray-500","hover:bg-gray-100","hover:text-gray-700",3,"routerLink","routerLinkActive"],["routerLink","discover",1,"block","rounded-lg","px-4","py-2","text-sm","font-medium","active:font-bold","text-gray-500",3,"routerLinkActive"],["type","submit",1,"w-full","rounded-lg","px-4","py-2","text-sm","font-medium","text-gray-500","[text-align:_inherit]","hover:bg-gray-100","hover:text-gray-700",3,"click"],[1,"sticky","inset-x-0","bottom-0","border-t","border-gray-100"],["href","#",1,"flex","items-center","gap-2","bg-white","p-4","hover:bg-gray-50"],["alt","",1,"size-10","rounded-full","object-cover",3,"src"],[1,"text-xs"],[1,"block","font-medium"],["class","text-ellipsis overflow-hidden",4,"ngIf"],[1,"text-ellipsis","overflow-hidden"]],template:function(r,i){r&1&&(y(0,"div",0)(1,"div",1)(2,"a",2),N(3," Publish Blog "),w(),y(4,"ul",3)(5,"li")(6,"a",4),N(7," Home "),w()(),y(8,"li")(9,"details",5)(10,"summary",6)(11,"span",7),N(12," My Blogs "),w(),y(13,"span",8),he(),y(14,"svg",9),V(15,"path",10),w()()(),_e(),y(16,"ul",11)(17,"li")(18,"a",12),N(19," Published "),w()(),y(20,"li")(21,"a",12),N(22," Drafts "),w()(),y(23,"li")(24,"a",12),N(25," Scheduled "),w()()()()(),y(26,"li")(27,"a",13),N(28," Discover "),w()(),y(29,"li")(30,"a",12),N(31," Saved "),w()(),y(32,"li")(33,"details",5)(34,"summary",6)(35,"span",7),N(36," Account "),w(),y(37,"span",8),he(),y(38,"svg",9),V(39,"path",10),w()()(),_e(),y(40,"ul",11)(41,"li")(42,"a",12),N(43," Details "),w()(),y(44,"li")(45,"div")(46,"button",14),Y("click",function(){return i.logout()}),N(47," Logout "),w()()()()()()()(),y(48,"div",15)(49,"a",16),V(50,"img",17),y(51,"div")(52,"p",18)(53,"strong",19),N(54),w(),Q(55,Rre,2,1,"span",20),w()()()()()),r&2&&(R(6),O("routerLink",Fr(17,bre))("routerLinkActive","font-bold text-emerald-700 bg-emerald-200")("routerLinkActiveOptions",Fr(18,Cre)),R(12),O("routerLink",Fr(19,Tre))("routerLinkActive","font-bold text-emerald-700 bg-emerald-200"),R(3),O("routerLink",Fr(20,Sre))("routerLinkActive","font-bold text-emerald-700 bg-emerald-200"),R(3),O("routerLink",Fr(21,Dre))("routerLinkActive","font-bold text-emerald-700 bg-emerald-200"),R(3),O("routerLinkActive","font-bold text-emerald-700 bg-emerald-200"),R(3),O("routerLink",Fr(22,Are))("routerLinkActive","font-bold text-emerald-700 bg-emerald-200"),R(12),O("routerLink",Fr(23,xre))("routerLinkActive","font-bold text-emerald-700 bg-emerald-200"),R(8),O("src",i.current_userData==null?null:i.current_userData.photoUrl,ai),R(4),Ft(i.current_userData==null?null:i.current_userData.displayName),R(),O("ngIf",i.current_userData==null?null:i.current_userData.email))},dependencies:[To,Br,Ag,lt],styles:[".sidebar[_ngcontent-%COMP%]{height:100vh - 2rem}"]})}return t})();var Nj=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-loader"]],standalone:!0,features:[se],decls:6,vars:0,consts:[["role","status",1,"bg-gray-50/50","w-full","grid","place-items-center","h-screen","absolute","top-0","z-[9999]"],["aria-hidden","true","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-10","h-10","text-gray-200","animate-spin","dark:text-gray-600","fill-emerald-600"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","currentColor"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentFill"],[1,"sr-only"]],template:function(r,i){r&1&&(y(0,"div",0),he(),y(1,"svg",1),V(2,"path",2)(3,"path",3),w(),_e(),y(4,"span",4),N(5,"Loading..."),w()())}})}return t})();function Nre(t,e){t&1&&(y(0,"div",6),he(),y(1,"svg",7),V(2,"path",8),w(),_e(),y(3,"span",9),N(4,"Check icon"),w()())}function Mre(t,e){t&1&&(y(0,"div",10),he(),y(1,"svg",7),V(2,"path",11),w(),_e(),y(3,"span",9),N(4,"Error icon"),w()())}function Pre(t,e){if(t&1&&(y(0,"div",2),Q(1,Nre,5,0,"div",3)(2,Mre,5,0,"div",4),y(3,"div",5),N(4),w()()),t&2){let n=ie();O("ngClass",n.toast.type=="success"?"bg-emerald-300 text-emerald-500":"bg-red-200 text-red-600"),R(),O("ngIf",n.toast.type=="success"),R(),O("ngIf",n.toast.type=="error"),R(2),Ce("",n.toast==null?null:n.toast.message,".")}}var Mj=(()=>{class t{toastService=S(cn);toast;ngOnInit(){this.toastService.toastSubject$.subscribe(n=>{this.toast=n})}ngOnDestroy(){}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-toast"]],standalone:!0,features:[se],decls:2,vars:1,consts:[[1,"fixed","z-[9999]","shadow-sm","top-5","right-5"],["id","toast-success","class","flex items-center card w-[300px] max-w-xs p-4 mb-4  rounded-lg shadow dark:text-gray-400 dark:bg-gray-800","role","alert",3,"ngClass",4,"ngIf"],["id","toast-success","role","alert",1,"flex","items-center","card","w-[300px]","max-w-xs","p-4","mb-4","rounded-lg","shadow","dark:text-gray-400","dark:bg-gray-800",3,"ngClass"],["class","inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-green-500 bg-green-100 rounded-lg dark:bg-green-800 dark:text-green-200",4,"ngIf"],["class","inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-red-500 bg-red-100 rounded-lg dark:bg-red-800 dark:text-red-200",4,"ngIf"],[1,"ms-3","text-sm","font-normal"],[1,"inline-flex","items-center","justify-center","flex-shrink-0","w-8","h-8","text-green-500","bg-green-100","rounded-lg","dark:bg-green-800","dark:text-green-200"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"],[1,"sr-only"],[1,"inline-flex","items-center","justify-center","flex-shrink-0","w-8","h-8","text-red-500","bg-red-100","rounded-lg","dark:bg-red-800","dark:text-red-200"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 11.793a1 1 0 1 1-1.414 1.414L10 11.414l-2.293 2.293a1 1 0 0 1-1.414-1.414L8.586 10 6.293 7.707a1 1 0 0 1 1.414-1.414L10 8.586l2.293-2.293a1 1 0 0 1 1.414 1.414L11.414 10l2.293 2.293Z"]],template:function(r,i){r&1&&(y(0,"div",0),Q(1,Pre,5,4,"div",1),w()),r&2&&(R(),O("ngIf",i.toast))},dependencies:[lt,_n]})}return t})();function kre(t,e){t&1&&(y(0,"div"),V(1,"app-loader"),w())}var Pj=(()=>{class t{loaderService=S(cn);articles;accesToken;ngOnInit(){this.accesToken=sessionStorage.getItem("token")}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-layout"]],standalone:!0,features:[se],decls:8,vars:3,consts:[[1,"relative"],[1,"flex"],[1,"px-12","py-6","flex-1"],[4,"ngIf"]],template:function(r,i){r&1&&(y(0,"div",0),V(1,"app-navbar"),y(2,"div",1),V(3,"app-sidebar"),y(4,"div",2),V(5,"router-outlet"),w()(),Q(6,kre,2,0,"div",3),Lr(7,"async"),w()),r&2&&(R(6),O("ngIf",hc(7,1,i.loaderService.showLoader)))},dependencies:[Rs,xj,Rj,Nj,lt,Mk]})}return t})();var kj=[{path:"",component:Pj,canActivate:[nA],children:[{path:"",component:sj},{path:"create-post",component:Ij},{path:"discover",component:aj,canActivateChild:[nA],children:[{path:"",component:cj},{path:"author-details/:id",component:lj},{path:"article-details/:articleName/:views",component:_j}]},{path:"me",component:bj,children:[{path:"blogs/:category",component:Cj},{path:"saved",component:Tj},{path:"account",component:Sj}]}]},{path:"login",component:Dj},{path:"register",component:Aj}];var Ko={};function n_(t){return Object.isFrozen(t)&&Object.isFrozen(t.raw)}function r_(t){return t.toString().indexOf("`")===-1}var hSe=r_(t=>t``)||r_(t=>t`\0`)||r_(t=>t`\n`)||r_(t=>t`\u0000`),fSe=n_``&&n_`\0`&&n_`\n`&&n_`\u0000`;var Oj="google#safe";function Ore(){if(typeof window<"u")return window.trustedTypes}function bu(){var t;return Oj!==""&&(t=Ore())!==null&&t!==void 0?t:null}var i_;function s_(){var t,e;if(i_===void 0)try{i_=(e=(t=bu())===null||t===void 0?void 0:t.createPolicy(Oj,{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n}))!==null&&e!==void 0?e:null}catch{i_=null}return i_}var ASe=typeof window<"u"?window.TrustedHTML:void 0;var l_=class{constructor(e,n){this.privateDoNotAccessOrElseWrappedResourceUrl=e}toString(){return this.privateDoNotAccessOrElseWrappedResourceUrl.toString()}},VSe=typeof window<"u"?window.TrustedScriptURL:void 0;function rA(t){var e;let n=t,r=(e=s_())===null||e===void 0?void 0:e.createScriptURL(n);return r??new l_(n,Ko)}function Dr(t){var e;if(!((e=bu())===null||e===void 0)&&e.isScriptURL(t))return t;if(t instanceof l_)return t.privateDoNotAccessOrElseWrappedResourceUrl;{let n="";throw new Error(n)}}var iA=class{constructor(e,n){this.privateDoNotAccessOrElseWrappedScript=e}toString(){return this.privateDoNotAccessOrElseWrappedScript.toString()}};var HSe=typeof window<"u"?window.TrustedScript:void 0;function ll(t){var e;if(!((e=bu())===null||e===void 0)&&e.isScript(t))return t;if(t instanceof iA)return t.privateDoNotAccessOrElseWrappedScript;{let n="";throw new Error(n)}}function zs(t){return{valueOf:t}.valueOf()}var Cu=class{constructor(e,n,r,i,s){this.allowedElements=e,this.elementPolicies=n,this.allowedGlobalAttributes=r,this.globalAttributePolicies=i,this.globallyAllowedAttributePrefixes=s}isAllowedElement(e){return e!=="FORM"&&(this.allowedElements.has(e)||this.elementPolicies.has(e))}getAttributePolicy(e,n){let r=this.elementPolicies.get(n);if(r?.has(e))return r.get(e);if(this.allowedGlobalAttributes.has(e))return{policyAction:Rt.KEEP};let i=this.globalAttributePolicies.get(e);return i||(this.globallyAllowedAttributePrefixes&&[...this.globallyAllowedAttributePrefixes].some(s=>e.indexOf(s)===0)?{policyAction:Rt.KEEP}:{policyAction:Rt.DROP})}},Rt=function(t){return t[t.DROP=0]="DROP",t[t.KEEP=1]="KEEP",t[t.KEEP_AND_SANITIZE_URL=2]="KEEP_AND_SANITIZE_URL",t[t.KEEP_AND_NORMALIZE=3]="KEEP_AND_NORMALIZE",t[t.KEEP_AND_SANITIZE_STYLE=4]="KEEP_AND_SANITIZE_STYLE",t[t.KEEP_AND_USE_RESOURCE_URL_POLICY=5]="KEEP_AND_USE_RESOURCE_URL_POLICY",t[t.KEEP_AND_USE_RESOURCE_URL_POLICY_FOR_SRCSET=6]="KEEP_AND_USE_RESOURCE_URL_POLICY_FOR_SRCSET",t}(Rt||{});var Fj=["ARTICLE","SECTION","NAV","ASIDE","H1","H2","H3","H4","H5","H6","HEADER","FOOTER","ADDRESS","P","HR","PRE","BLOCKQUOTE","OL","UL","LH","LI","DL","DT","DD","FIGURE","FIGCAPTION","MAIN","DIV","EM","STRONG","SMALL","S","CITE","Q","DFN","ABBR","RUBY","RB","RT","RTC","RP","DATA","TIME","CODE","VAR","SAMP","KBD","SUB","SUP","I","B","U","MARK","BDI","BDO","SPAN","BR","WBR","INS","DEL","PICTURE","PARAM","TRACK","MAP","TABLE","CAPTION","COLGROUP","COL","TBODY","THEAD","TFOOT","TR","TD","TH","SELECT","DATALIST","OPTGROUP","OPTION","OUTPUT","PROGRESS","METER","FIELDSET","LEGEND","DETAILS","SUMMARY","MENU","DIALOG","SLOT","CANVAS","FONT","CENTER","ACRONYM","BASEFONT","BIG","DIR","HGROUP","STRIKE","TT"],Lj=[["A",new Map([["href",{policyAction:Rt.KEEP_AND_SANITIZE_URL}]])],["AREA",new Map([["href",{policyAction:Rt.KEEP_AND_SANITIZE_URL}]])],["LINK",new Map([["href",{policyAction:Rt.KEEP_AND_USE_RESOURCE_URL_POLICY,conditions:new Map([["rel",new Set(["alternate","author","bookmark","canonical","cite","help","icon","license","next","prefetch","dns-prefetch","prerender","preconnect","preload","prev","search","subresource"])]])}]])],["SOURCE",new Map([["src",{policyAction:Rt.KEEP_AND_USE_RESOURCE_URL_POLICY}],["srcset",{policyAction:Rt.KEEP_AND_USE_RESOURCE_URL_POLICY_FOR_SRCSET}]])],["IMG",new Map([["src",{policyAction:Rt.KEEP_AND_USE_RESOURCE_URL_POLICY}],["srcset",{policyAction:Rt.KEEP_AND_USE_RESOURCE_URL_POLICY_FOR_SRCSET}]])],["VIDEO",new Map([["src",{policyAction:Rt.KEEP_AND_USE_RESOURCE_URL_POLICY}]])],["AUDIO",new Map([["src",{policyAction:Rt.KEEP_AND_USE_RESOURCE_URL_POLICY}]])]],Vj=["title","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-current","aria-disabled","aria-dropeffect","aria-expanded","aria-haspopup","aria-hidden","aria-invalid","aria-label","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","alt","align","autocapitalize","autocomplete","autocorrect","autofocus","autoplay","bgcolor","border","cellpadding","cellspacing","checked","color","cols","colspan","controls","datetime","disabled","download","draggable","enctype","face","formenctype","frameborder","height","hreflang","hidden","ismap","label","lang","loop","max","maxlength","media","minlength","min","multiple","muted","nonce","open","placeholder","preload","rel","required","reversed","role","rows","rowspan","selected","shape","size","sizes","slot","span","spellcheck","start","step","summary","translate","type","valign","value","width","wrap","itemscope","itemtype","itemid","itemprop","itemref"],Uj=[["dir",{policyAction:Rt.KEEP_AND_NORMALIZE,conditions:zs(()=>new Map([["dir",new Set(["auto","ltr","rtl"])]]))}],["async",{policyAction:Rt.KEEP_AND_NORMALIZE,conditions:zs(()=>new Map([["async",new Set(["async"])]]))}],["cite",{policyAction:Rt.KEEP_AND_SANITIZE_URL}],["loading",{policyAction:Rt.KEEP_AND_NORMALIZE,conditions:zs(()=>new Map([["loading",new Set(["eager","lazy"])]]))}],["poster",{policyAction:Rt.KEEP_AND_SANITIZE_URL}],["target",{policyAction:Rt.KEEP_AND_NORMALIZE,conditions:zs(()=>new Map([["target",new Set(["_self","_blank"])]]))}]],jj=new Cu(new Set(Fj),new Map(Lj),new Set(Vj),new Map(Uj)),cDe=new Cu(new Set(zs(()=>Fj.concat(["STYLE"]))),new Map(Lj),new Set(zs(()=>Vj.concat(["id","name","class"]))),new Map(zs(()=>Uj.concat([["style",{policyAction:Rt.KEEP_AND_SANITIZE_STYLE}]]))));function sA(t,...e){if(e.length===0)return rA(t[0]);let n=t[0].toLowerCase(),r=t[0];for(let i=0;i<e.length;i++)r+=encodeURIComponent(e[i])+t[i+1];return rA(r)}var c_={};t$(c_,{setSrc:()=>nie,setTextContent:()=>tie});function $j(t){return Xre("script",t)}function Xre(t,e){var n;let r=e.document,i=(n=r.querySelector)===null||n===void 0?void 0:n.call(r,`${t}[nonce]`);return i&&(i.nonce||i.getAttribute("nonce"))||""}function Hj(t){let e=t.ownerDocument&&t.ownerDocument.defaultView,n=$j(e||window);n&&t.setAttribute("nonce",n)}function tie(t,e,n){t.textContent=ll(e),!n?.omitNonce&&Hj(t)}function nie(t,e,n){t.src=Dr(e),!n?.omitNonce&&Hj(t)}var Gj="@firebase/installations",cA="0.6.8";var Wj=1e4,Kj=`w:${cA}`,Qj="FIS_v2",fie="https://firebaseinstallations.googleapis.com/v1",pie=60*60*1e3,mie="installations",gie="Installations";var yie={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},dl=new Er(mie,gie,yie);function Yj(t){return t instanceof wn&&t.code.includes("request-failed")}function Zj({projectId:t}){return`${fie}/projects/${t}/installations`}function Jj(t){return{token:t.token,requestStatus:2,expiresIn:_ie(t.expiresIn),creationTime:Date.now()}}function Xj(t,e){return I(this,null,function*(){let r=(yield e.json()).error;return dl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function e3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function vie(t,{refreshToken:e}){let n=e3(t);return n.append("Authorization",wie(e)),n}function t3(t){return I(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function _ie(t){return Number(t.replace("s","000"))}function wie(t){return`${Qj} ${t}`}function Eie(r,i){return I(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let s=Zj(t),o=e3(t),a=e.getImmediate({optional:!0});if(a){let h=yield a.getHeartbeatsHeader();h&&o.append("x-firebase-client",h)}let l={fid:n,authVersion:Qj,appId:t.appId,sdkVersion:Kj},c={method:"POST",headers:o,body:JSON.stringify(l)},d=yield t3(()=>fetch(s,c));if(d.ok){let h=yield d.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:Jj(h.authToken)}}else throw yield Xj("Create Installation",d)})}function n3(t){return new Promise(e=>{setTimeout(e,t)})}function Iie(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var bie=/^[cdef][\w-]{21}$/,lA="";function Cie(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=Tie(t);return bie.test(n)?n:lA}catch{return lA}}function Tie(t){return Iie(t).substr(0,22)}function d_(t){return`${t.appName}!${t.appId}`}var r3=new Map;function i3(t,e){let n=d_(t);s3(n,e),Sie(n,e)}function s3(t,e){let n=r3.get(t);if(n)for(let r of n)r(e)}function Sie(t,e){let n=Die();n&&n.postMessage({key:t,fid:e}),Aie()}var ul=null;function Die(){return!ul&&"BroadcastChannel"in self&&(ul=new BroadcastChannel("[Firebase] FID Change"),ul.onmessage=t=>{s3(t.data.key,t.data.fid)}),ul}function Aie(){r3.size===0&&ul&&(ul.close(),ul=null)}var xie="firebase-installations-database",Rie=1,hl="firebase-installations-store",oA=null;function uA(){return oA||(oA=iy(xie,Rie,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(hl)}}})),oA}function u_(t,e){return I(this,null,function*(){let n=d_(t),i=(yield uA()).transaction(hl,"readwrite"),s=i.objectStore(hl),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&i3(t,e.fid),e})}function o3(t){return I(this,null,function*(){let e=d_(t),r=(yield uA()).transaction(hl,"readwrite");yield r.objectStore(hl).delete(e),yield r.done})}function h_(t,e){return I(this,null,function*(){let n=d_(t),i=(yield uA()).transaction(hl,"readwrite"),s=i.objectStore(hl),o=yield s.get(n),a=e(o);return a===void 0?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&i3(t,a.fid),a})}function dA(t){return I(this,null,function*(){let e,n=yield h_(t.appConfig,r=>{let i=Nie(r),s=Mie(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===lA?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function Nie(t){let e=t||{fid:Cie(),registrationStatus:0};return a3(e)}function Mie(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(dl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Pie(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:kie(t)}:{installationEntry:e}}function Pie(t,e){return I(this,null,function*(){try{let n=yield Eie(t,e);return u_(t.appConfig,n)}catch(n){throw Yj(n)&&n.customData.serverCode===409?yield o3(t.appConfig):yield u_(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function kie(t){return I(this,null,function*(){let e=yield zj(t.appConfig);for(;e.registrationStatus===1;)yield n3(100),e=yield zj(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield dA(t);return r||n}return e})}function zj(t){return h_(t,e=>{if(!e)throw dl.create("installation-not-found");return a3(e)})}function a3(t){return Oie(t)?{fid:t.fid,registrationStatus:0}:t}function Oie(t){return t.registrationStatus===1&&t.registrationTime+Wj<Date.now()}function Fie(r,i){return I(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let s=Lie(t,n),o=vie(t,n),a=e.getImmediate({optional:!0});if(a){let h=yield a.getHeartbeatsHeader();h&&o.append("x-firebase-client",h)}let l={installation:{sdkVersion:Kj,appId:t.appId}},c={method:"POST",headers:o,body:JSON.stringify(l)},d=yield t3(()=>fetch(s,c));if(d.ok){let h=yield d.json();return Jj(h)}else throw yield Xj("Generate Auth Token",d)})}function Lie(t,{fid:e}){return`${Zj(t)}/${e}/authTokens:generate`}function hA(t,e=!1){return I(this,null,function*(){let n,r=yield h_(t.appConfig,s=>{if(!l3(s))throw dl.create("not-registered");let o=s.authToken;if(!e&&jie(o))return s;if(o.requestStatus===1)return n=Vie(t,e),s;{if(!navigator.onLine)throw dl.create("app-offline");let a=$ie(s);return n=Uie(t,a),a}});return n?yield n:r.authToken})}function Vie(t,e){return I(this,null,function*(){let n=yield qj(t.appConfig);for(;n.authToken.requestStatus===1;)yield n3(100),n=yield qj(t.appConfig);let r=n.authToken;return r.requestStatus===0?hA(t,e):r})}function qj(t){return h_(t,e=>{if(!l3(e))throw dl.create("not-registered");let n=e.authToken;return Hie(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Uie(t,e){return I(this,null,function*(){try{let n=yield Fie(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield u_(t.appConfig,r),n}catch(n){if(Yj(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield o3(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield u_(t.appConfig,r)}throw n}})}function l3(t){return t!==void 0&&t.registrationStatus===2}function jie(t){return t.requestStatus===2&&!Bie(t)}function Bie(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+pie}function $ie(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Hie(t){return t.requestStatus===1&&t.requestTime+Wj<Date.now()}function zie(t){return I(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield dA(e);return r?r.catch(console.error):hA(e).catch(console.error),n.fid})}function qie(t,e=!1){return I(this,null,function*(){let n=t;return yield Gie(n),(yield hA(n,e)).token})}function Gie(t){return I(this,null,function*(){let{registrationPromise:e}=yield dA(t);e&&(yield e)})}function Wie(t){if(!t||!t.options)throw aA("App Configuration");if(!t.name)throw aA("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw aA(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function aA(t){return dl.create("missing-app-config-values",{valueName:t})}var c3="installations",Kie="installations-internal",Qie=t=>{let e=t.getProvider("app").getImmediate(),n=Wie(e),r=Ir(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Yie=t=>{let e=t.getProvider("app").getImmediate(),n=Ir(e,c3).getImmediate();return{getId:()=>zie(n),getToken:i=>qie(n,i)}};function Zie(){Pn(new Wt(c3,Qie,"PUBLIC")),Pn(new Wt(Kie,Yie,"PRIVATE"))}Zie();qe(Gj,cA);qe(Gj,cA,"esm2017");var f_="analytics",Jie="firebase_id",Xie="origin",ese=60*1e3,tse="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nse="https://www.googletagmanager.com/gtag/js";var cr=new Hr("@firebase/analytics");function g3(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function rse(t,e){let n=document.createElement("script"),r=sA`https://www.googletagmanager.com/gtag/js?l=${t}&id=${e}`;c_.setSrc(n,r),n.async=!0,document.head.appendChild(n)}function ise(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function sse(t,e,n,r,i,s){return I(this,null,function*(){let o=r[i];try{if(o)yield e[o];else{let l=(yield g3(n)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){cr.error(a)}t("config",i,s)})}function ose(t,e,n,r,i){return I(this,null,function*(){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);let a=yield g3(n);for(let l of o){let c=a.find(h=>h.measurementId===l),d=c&&e[c.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){cr.error(s)}})}function ase(t,e,n,r){function i(s,...o){return I(this,null,function*(){try{if(s==="event"){let[a,l]=o;yield ose(t,e,n,a,l)}else if(s==="config"){let[a,l]=o;yield sse(t,e,n,r,a,l)}else if(s==="consent"){let[a,l]=o;t("consent",a,l)}else if(s==="get"){let[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){let[a]=o;t("set",a)}else t(s,...o)}catch(a){cr.error(a)}})}return i}function lse(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=ase(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function cse(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(nse)&&n.src.includes(t))return n;return null}var use={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Wr=new Er("analytics","Analytics",use);var dse=30,hse=1e3,pA=class{constructor(e={},n=hse){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},y3=new pA;function fse(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function pse(t){return I(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:fse(r)},s=tse.replace("{app-id}",n),o=yield fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{let l=yield o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Wr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})}function mse(r){return I(this,arguments,function*(t,e=y3,n){let{appId:i,apiKey:s,measurementId:o}=t.options;if(!i)throw Wr.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw Wr.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new mA;return setTimeout(()=>I(this,null,function*(){l.abort()}),n!==void 0?n:ese),v3({appId:i,apiKey:s,measurementId:o},a,l,e)})}function v3(s,o,a){return I(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=y3){var l;let{appId:c,measurementId:d}=t;try{yield gse(r,e)}catch(h){if(d)return cr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:c,measurementId:d};throw h}try{let h=yield pse(t);return i.deleteThrottleMetadata(c),h}catch(h){let p=h;if(!yse(p)){if(i.deleteThrottleMetadata(c),d)return cr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:c,measurementId:d};throw h}let g=Number((l=p?.customData)===null||l===void 0?void 0:l.httpStatus)===503?gC(n,i.intervalMillis,dse):gC(n,i.intervalMillis),_={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return i.setThrottleMetadata(c,_),cr.debug(`Calling attemptFetch again in ${g} millis`),v3(t,_,r,i)}})}function gse(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Wr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function yse(t){if(!(t instanceof wn)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var mA=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var gA;function vse(t,e,n,r,i){return I(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let s=yield e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}})}function _se(t,e,n,r){return I(this,null,function*(){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();{let i=yield e;t("config",i,{update:!0,user_id:n})}})}var yA;function wse(t){yA=t}function Ese(t){gA=t}function Ise(){return I(this,null,function*(){if(Uc())try{yield _h()}catch(t){return cr.warn(Wr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return cr.warn(Wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function bse(t,e,n,r,i,s,o){return I(this,null,function*(){var a;let l=mse(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&cr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>cr.error(g)),e.push(l);let c=Ise().then(g=>{if(g)return r.getId()}),[d,h]=yield Promise.all([l,c]);cse(s)||rse(s,d.measurementId),yA&&(i("consent","default",yA),wse(void 0)),i("js",new Date);let p=(a=o?.config)!==null&&a!==void 0?a:{};return p[Xie]="firebase",p.update=!0,h!=null&&(p[Jie]=h),i("config",d.measurementId,p),gA&&(i("set",gA),Ese(void 0)),d.measurementId})}var vA=class{constructor(e){this.app=e}_delete(){return delete Tu[this.app.options.appId],Promise.resolve()}},Tu={},u3=[],d3={},fA="dataLayer",Cse="gtag",h3,_A,f3=!1;function Tse(){let t=[];if(vh()&&t.push("This is a browser extension environment."),mC()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Wr.create("invalid-analytics-context",{errorInfo:e});cr.warn(n.message)}}function Sse(t,e,n){Tse();let r=t.options.appId;if(!r)throw Wr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)cr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Wr.create("no-api-key");if(Tu[r]!=null)throw Wr.create("already-exists",{id:r});if(!f3){ise(fA);let{wrappedGtag:s,gtagCore:o}=lse(Tu,u3,d3,fA,Cse);_A=s,h3=o,f3=!0}return Tu[r]=bse(t,u3,d3,e,h3,fA,n),new vA(t)}function _3(t=mi()){t=ct(t);let e=Ir(t,f_);return e.isInitialized()?e.getImmediate():w3(t)}function w3(t,e={}){let n=Ir(t,f_);if(n.isInitialized()){let i=n.getImmediate();if(pi(e,n.getOptions()))return i;throw Wr.create("already-initialized")}return n.initialize({options:e})}function E3(){return I(this,null,function*(){if(vh()||!mC()||!Uc())return!1;try{return yield _h()}catch{return!1}})}function I3(t,e,n){t=ct(t),_se(_A,Tu[t.app.options.appId],e,n).catch(r=>cr.error(r))}function wA(t,e,n,r){t=ct(t),vse(_A,Tu[t.app.options.appId],e,n,r).catch(i=>cr.error(i))}var p3="@firebase/analytics",m3="0.10.6";function Dse(){Pn(new Wt(f_,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Sse(r,i,n)},"PUBLIC")),Pn(new Wt("analytics-internal",t,"PRIVATE")),qe(p3,m3),qe(p3,m3,"esm2017");function t(e){try{let n=e.getProvider(f_).getImmediate();return{logEvent:(r,i,s)=>wA(n,r,i,s)}}catch(n){throw Wr.create("interop-component-reg-failed",{reason:n})}}}Dse();var fl=class{constructor(e){return e}},T3="analytics",IA=class{constructor(){return Ms(T3)}};var bA="__angularfire_symbol__analyticsIsSupportedValue",S3="__angularfire_symbol__analyticsIsSupported";globalThis[S3]||=E3().then(t=>globalThis[bA]=t).catch(()=>globalThis[bA]=!1);var p_={async:()=>globalThis[S3],sync:()=>{let t=globalThis[bA];if(t===void 0)throw new Error(vL("Analytics"));return t}},D3=p_.async,A3=st(_3,!0);var Ase=st(wA,!0);var xse=st(I3,!0);var TA=(()=>{class t{initialized;disposables=[];constructor(n,r,i){qe("angularfire",br.full,"user-tracking");let s;this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),D3().then(()=>{let o=i.get(fl);o?this.disposables=[g2(n).subscribe(a=>{xse(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}static \u0275fac=function(r){return new(r||t)(q(Yn),q(ye),q(at))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),Rse="firebase_event_origin",Nse="firebase_previous_class",Mse="firebase_previous_id",Pse="firebase_previous_screen",kse="firebase_screen_class",b3="firebase_screen_id",Ose="firebase_screen",CA="outlet",Fse="page_path",Lse="page_title",vf="screen_class",C3="screen_name",Vse="screen_view",Use="auto",jse="#",Bse=Math.floor(Math.random()*(2**32-1))-2**31,EA={},$se=t=>{let e=[t[vf],t[CA]].join(jse);if(EA.hasOwnProperty(e))return EA[e];{let n=Bse++;return EA[e]=n,n}},Hse=(t,e,n)=>t.events.pipe(fn(i=>i instanceof Kd)).pipe(Fe(i=>{let o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,p=>p.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(p=>p).find(p=>p.outlet===i.snapshot.outlet);if(!a)return ue(null);let l=a;for(;l.firstChild;)l=l.firstChild;let c=l.pathFromRoot.map(p=>p.routeConfig?.path).filter(p=>p).join("/")||"/",d={[C3]:c,[Fse]:`/${o}`,[Rse]:Use,[Ose]:c,[CA]:i.snapshot.outlet};e&&(d[Lse]=e.getTitle());let h=a.component;if(h){if(h===sb){let p=i.snapshot;for(;p.firstChild;)p=p.firstChild;h=p.component}}else h=i.snapshot.component;if(typeof h=="string")return ue(ve(U({},d),{[vf]:h}));if(h){let p=n.resolveComponentFactory(h);return ue(ve(U({},d),{[vf]:p.selector}))}return ue(null)}),fn(i=>!!i),Z(i=>U({[kse]:i[vf],[b3]:$se(i)},i)),w0(i=>i[CA]),yt(i=>i.pipe(dd((s,o)=>JSON.stringify(s)===JSON.stringify(o)),fd(void 0),I0(),Z(([s,o])=>s?U({[Nse]:s[vf],[Pse]:s[C3],[Mse]:s[b3]},o):o)))),x3=(()=>{class t{disposable;constructor(n,r,i,s,o,a){qe("angularfire",br.full,"screen-tracking"),D3().then(()=>{let l=a.get(fl);!n||!l||s.runOutsideAngular(()=>{this.disposable=Hse(n,r,i).pipe(Fe(c=>I(this,null,function*(){return o&&(yield o.initialized),Ase(l,Vse,c)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(r){return new(r||t)(q(Ze,8),q(ag,8),q(fo),q(ye),q(TA,8),q(at))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),SA=new $("angularfire2.analytics-instances");function zse(t,e){if(!p_.sync())return null;let n=No(T3,t,e);return n&&new fl(n)}function qse(t){return(e,n)=>{if(!p_.sync())return null;let r=e.runOutsideAngular(()=>t(n));return new fl(r)}}var Gse={provide:IA,deps:[[new bt,SA]]},Wse={provide:fl,useFactory:zse,deps:[[new bt,SA],Cr]};function R3(t,...e){return qe("angularfire",br.full,"analytics"),zt([Wse,Gse,{provide:mc,useValue:p_.async,multi:!0},{provide:SA,useFactory:qse(t),multi:!0,deps:[ye,at,zi,gi,...e]}])}var N3="@firebase/database",M3="1.0.6";var C1="";function Kse(t){C1=t}var kA=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),an(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Vc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var OA=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Bi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var uB=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new kA(e)}}catch{}return new OA},ml=uB("localStorage"),FA=uB("sessionStorage");var xu=new Hr("@firebase/database"),Qse=function(){let t=1;return function(){return t++}}(),dB=function(t){let e=iL(t),n=new Yg;n.update(e);let r=n.digest();return Zg.encodeByteArray(r)},Nf=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Nf.apply(null,r):typeof r=="object"?e+=an(r):e+=r,e+=" "}return e},gl=null,P3=!0,Yse=function(t,e){J(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(xu.logLevel=Le.VERBOSE,gl=xu.log.bind(xu),e&&FA.set("logging_enabled",!0)):typeof t=="function"?gl=t:(gl=null,FA.remove("logging_enabled"))},Ln=function(...t){if(P3===!0&&(P3=!1,gl===null&&FA.get("logging_enabled")===!0&&Yse(!0)),gl){let e=Nf.apply(null,t);gl(e)}},Mf=function(t){return function(...e){Ln(t,...e)}},LA=function(...t){let e="FIREBASE INTERNAL ERROR: "+Nf(...t);xu.error(e)},Gs=function(...t){let e=`FIREBASE FATAL ERROR: ${Nf(...t)}`;throw xu.error(e),new Error(e)},Ar=function(...t){let e="FIREBASE WARNING: "+Nf(...t);xu.warn(e)},Zse=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ar("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},hB=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Jse=function(t){if(ji()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Nu="[MIN_NAME]",yl="[MAX_NAME]",Vu=function(t,e){if(t===e)return 0;if(t===Nu||e===yl)return-1;if(e===Nu||t===yl)return 1;{let n=k3(t),r=k3(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Xse=function(t,e){return t===e?0:t<e?-1:1},_f=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+an(e))},T1=function(t){if(typeof t!="object"||t===null)return an(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=an(e[r]),n+=":",n+=T1(t[e[r]]);return n+="}",n},fB=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Yr(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var pB=function(t){J(!hB(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();let d=c.join(""),h="";for(l=0;l<64;l+=8){let p=parseInt(d.substr(l,8),2).toString(16);p.length===1&&(p="0"+p),h=h+p}return h.toLowerCase()},eoe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},toe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var noe=new RegExp("^-?(0*)\\d{1,10}$"),roe=-2147483648,ioe=2147483647,k3=function(t){if(noe.test(t)){let e=Number(t);if(e>=roe&&e<=ioe)return e}return null},Pf=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Ar("Exception was thrown by user callback.",n),e},Math.floor(0))}},soe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Cf=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var VA=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ar(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var UA=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ln("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ar(e)}},Tf=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),g_="5",mB="v",gB="s",yB="r",vB="f",_B=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wB="ls",EB="p",jA="ac",IB="websocket",bB="long_polling";var y_=class{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ml.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ml.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function ooe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function CB(t,e,n){J(typeof e=="string","typeof type must == string"),J(typeof n=="object","typeof params must == object");let r;if(e===IB)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===bB)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ooe(t)&&(n.ns=t.namespace);let i=[];return Yr(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var BA=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Bi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return QF(this.counters_)}};var DA={},AA={};function S1(t){let e=t.toString();return DA[e]||(DA[e]=new BA),DA[e]}function aoe(t,e){let n=t.toString();return AA[n]||(AA[n]=e()),AA[n]}var $A=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Pf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var O3="start",loe="close",coe="pLPCommand",uoe="pRTLPCB",TB="id",SB="pw",DB="ser",doe="cb",hoe="seg",foe="ts",poe="d",moe="dframe",AB=1870,xB=30,goe=AB-xB,yoe=25e3,voe=3e4,HA=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mf(e),this.stats_=S1(n),this.urlFn=l=>(this.appCheckToken&&(l[jA]=this.appCheckToken),CB(n,bB,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new $A(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(voe)),Jse(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zA((...s)=>{let[o,a,l,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===O3)this.id=a,this.password=l;else if(o===loe)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[O3]="t",r[DB]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[doe]=this.scriptTagHolder.uniqueCallbackIdentifier),r[mB]=g_,this.transportSessionId&&(r[gB]=this.transportSessionId),this.lastSessionId&&(r[wB]=this.lastSessionId),this.applicationId&&(r[EB]=this.applicationId),this.appCheckToken&&(r[jA]=this.appCheckToken),typeof location<"u"&&location.hostname&&_B.test(location.hostname)&&(r[yB]=vB);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return ji()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!eoe()&&!toe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=an(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=dC(n),i=fB(r,goe);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(ji())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[moe]="t",r[TB]=e,r[SB]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=an(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},zA=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,ji())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Qse(),window[coe+this.uniqueCallbackIdentifier]=e,window[uoe+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ln("frame writing exception"),a.stack&&Ln(a.stack),Ln(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ln("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[TB]=this.myID,e[SB]=this.myPW,e[DB]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+xB+r.length<=AB;){let o=this.pendingSegs.shift();r=r+"&"+hoe+i+"="+o.seg+"&"+foe+i+"="+o.ts+"&"+poe+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(yoe)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){ji()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ln("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var _oe=16384,woe=45e3,v_=null;typeof MozWebSocket<"u"?v_=MozWebSocket:typeof WebSocket<"u"&&(v_=WebSocket);var wf=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mf(this.connId),this.stats_=S1(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[mB]=g_,!ji()&&typeof location<"u"&&location.hostname&&_B.test(location.hostname)&&(a[yB]=vB),r&&(a[gB]=r),i&&(a[wB]=i),s&&(a[jA]=s),o&&(a[EB]=o),CB(n,IB,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ml.set("previous_websocket_failure",!0);try{let i;if(ji()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${g_}/${C1}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new v_(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&v_!==null&&!t.forceDisallow_}static previouslyFailed(){return ml.isInMemoryStorage||ml.get("previous_websocket_failure")===!0}markConnectionHealthy(){ml.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Vc(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(J(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=an(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=fB(r,_oe);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(woe))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),Eoe=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[HA,wf]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=wf&&wf.isAvailable(),i=r&&!wf.previouslyFailed();if(n.webSocketOnly&&(r||Ar("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[wf];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),Ioe=6e4,boe=5e3,Coe=10*1024,Toe=100*1024,xA="t",F3="d",Soe="s",L3="r",Doe="e",V3="o",U3="a",j3="n",B3="p",Aoe="h",qA=class{constructor(e,n,r,i,s,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mf("c:"+this.id+":"),this.transportManager_=new Eoe(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Cf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Toe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Coe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(xA in e){let n=e[xA];n===U3?this.upgradeIfSecondaryHealthy_():n===L3?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===V3&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=_f("t",e),r=_f("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:B3,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:U3,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:j3,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=_f("t",e),r=_f("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=_f(xA,e);if(F3 in e){let r=e[F3];if(n===Aoe){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===j3){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Soe?this.onConnectionShutdown_(r):n===L3?this.onReset_(r):n===Doe?LA("Server Error: "+r):n===V3?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):LA("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),g_!==r&&Ar("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Cf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ioe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(boe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:B3,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ml.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var __=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var w_=class{constructor(e){this.allowedEvents_=e,this.listeners_={},J(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){J(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var E_=class t extends w_{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!yh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return J(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var $3=32,H3=768,gt=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function ut(){return new gt("")}function We(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Yo(t){return t.pieces_.length-t.pieceNum_}function Ct(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new gt(t.pieces_,e)}function RB(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function xoe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function NB(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function MB(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new gt(e,0)}function un(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof gt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new gt(n,0)}function $e(t){return t.pieceNum_>=t.pieces_.length}function Kr(t,e){let n=We(t),r=We(e);if(n===null)return e;if(n===r)return Kr(Ct(t),Ct(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function PB(t,e){if(Yo(t)!==Yo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function bi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Yo(t)>Yo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var GA=class{constructor(e,n){this.errorPrefix_=n,this.parts_=NB(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ih(this.parts_[r]);kB(this)}};function Roe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ih(e),kB(t)}function Noe(t){let e=t.parts_.pop();t.byteLength_-=Ih(e),t.parts_.length>0&&(t.byteLength_-=1)}function kB(t){if(t.byteLength_>H3)throw new Error(t.errorPrefix_+"has a key path longer than "+H3+" bytes ("+t.byteLength_+").");if(t.parts_.length>$3)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$3+") or object contains a cycle "+pl(t))}function pl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var WA=class t extends w_{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return J(e==="visible","Unknown event type: "+e),[this.visible_]}};var Ef=1e3,Moe=60*5*1e3,z3=30*1e3,Poe=1.3,koe=3e4,Ooe="server_kill",q3=3,D1=(()=>{class t extends __{constructor(n,r,i,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Mf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ef,this.maxReconnectDelay_=Moe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!ji())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");WA.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&E_.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(an(o)),J(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Oa,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),J(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),J(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,l=>{let c=l.d,d=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),d!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(d,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Bi(n,"w")){let i=La(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Ar(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||tL(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=z3)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=eL(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),J(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+an(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):LA("Unrecognized action received from server: "+an(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){J(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ef,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ef,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>koe&&(this.reconnectDelay_=Ef),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Poe)}this.onConnectStatus_(!1)}establishConnection_(){return I(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},d=function(p){J(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(p)};this.realtime_={close:c,sendRequest:d};let h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[p,g]=yield Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?Ln("getToken() completed but was canceled"):(Ln("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,l=new qA(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,_=>{Ar(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ooe)},o))}catch(p){this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&Ar(p),c())}}})}interrupt(n){Ln("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ln("Resuming connection for reason: "+n),delete this.interruptReasons_[n],wh(this.interruptReasons_)&&(this.reconnectDelay_=Ef,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>T1(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new gt(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Ln("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=q3&&(this.reconnectDelay_=z3,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ln("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=q3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";ji()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+C1.replace(/\./g,"-")]=1,yh()?n["framework.cordova"]=1:ty()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=E_.getInstance().currentlyOnline();return wh(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Ke=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Mu=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new Ke(Nu,e),i=new Ke(Nu,n);return this.compare(r,i)!==0}minPost(){return Ke.MIN}};var m_,I_=class extends Mu{static get __EMPTY_NODE(){return m_}static set __EMPTY_NODE(e){m_=e}compare(e,n){return Vu(e.name,n.name)}isDefinedOn(e){throw Fa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ke.MIN}maxPost(){return new Ke(yl,m_)}makePost(e,n){return J(typeof e=="string","KeyIndex indexValue must always be a string."),new Ke(e,m_)}toString(){return".key"}},Ru=new I_;var Du=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Ii=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Qr.EMPTY_NODE,this.right=o??Qr.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qr.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Qr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),KA=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ii(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Qr=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ii.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ii.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Du(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Du(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Du(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Du(this.root_,null,this.comparator_,!0,e)}};Qr.EMPTY_NODE=new KA;function Foe(t,e){return Vu(t.name,e.name)}function A1(t,e){return Vu(t,e)}var QA;function Loe(t){QA=t}var OB=function(t){return typeof t=="number"?"number:"+pB(t):"string:"+t},FB=function(t){if(t.isLeafNode()){let e=t.val();J(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Bi(e,".sv"),"Priority must be a string or number.")}else J(t===QA||t.isEmpty(),"priority of unexpected type.");J(t===QA||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var G3,Pu=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,J(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),FB(this.priorityNode_)}static set __childrenNodeConstructor(n){G3=n}static get __childrenNodeConstructor(){return G3}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return $e(n)?this:We(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=We(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(J(i!==".priority"||Yo(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ct(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+OB(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=pB(this.value_):n+=this.value_,this.lazyHash_=dB(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(J(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return J(s>=0,"Unknown leaf type: "+r),J(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),LB,VB;function Voe(t){LB=t}function Uoe(t){VB=t}var YA=class extends Mu{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Vu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ke.MIN}maxPost(){return new Ke(yl,new Pu("[PRIORITY-POST]",VB))}makePost(e,n){let r=LB(e);return new Ke(n,new Pu("[PRIORITY-POST]",r))}toString(){return".priority"}},Un=new YA;var joe=Math.log(2),ZA=class{constructor(e){let n=s=>parseInt(Math.log(s)/joe,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},b_=function(t,e,n,r){t.sort(e);let i=function(l,c){let d=c-l,h,p;if(d===0)return null;if(d===1)return h=t[l],p=n?n(h):h,new Ii(p,h.node,Ii.BLACK,null,null);{let g=parseInt(d/2,10)+l,_=i(l,g),T=i(g+1,c);return h=t[g],p=n?n(h):h,new Ii(p,h.node,Ii.BLACK,_,T)}},s=function(l){let c=null,d=null,h=t.length,p=function(_,T){let A=h-_,L=h;h-=_;let H=i(A+1,L),W=t[A],ee=n?n(W):W;g(new Ii(ee,W.node,T,null,H))},g=function(_){c?(c.left=_,c=_):(d=_,c=_)};for(let _=0;_<l.count;++_){let T=l.nextBitIsOne(),A=Math.pow(2,l.count-(_+1));T?p(A,Ii.BLACK):(p(A,Ii.BLACK),p(A,Ii.RED))}return d},o=new ZA(t.length),a=s(o);return new Qr(r||e,a)};var RA,Su={},ku=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return J(Su&&Un,"ChildrenNode.ts has not been loaded"),RA=RA||new t({".priority":Su},{".priority":Un}),RA}get(e){let n=La(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Qr?n:null}hasIndex(e){return Bi(this.indexSet_,e.toString())}addIndex(e,n){J(e!==Ru,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(Ke.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=b_(r,e.getCompare()):a=Su;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let d=Object.assign({},this.indexes_);return d[l]=a,new t(d,c)}addToIndexes(e,n){let r=Eh(this.indexes_,(i,s)=>{let o=La(this.indexSet_,s);if(J(o,"Missing index implementation for "+s),i===Su)if(o.isDefinedOn(e.node)){let a=[],l=n.getIterator(Ke.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),b_(a,o.getCompare())}else return Su;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new Ke(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Eh(this.indexes_,i=>{if(i===Su)return i;{let s=n.get(e.name);return s?i.remove(new Ke(e.name,s)):i}});return new t(r,this.indexSet_)}};var If,Nt=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&FB(this.priorityNode_),this.children_.isEmpty()&&J(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return If||(If=new t(new Qr(A1),null,ku.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||If}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?If:r}}getChild(n){let r=We(n);return r===null?this:this.getImmediateChild(r).getChild(Ct(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(J(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Ke(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?If:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=We(n);if(i===null)return r;{J(We(n)!==".priority"||Yo(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(Ct(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(Un,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+OB(this.getPriority().val())+":"),this.forEachChild(Un,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":dB(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new Ke(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Ke(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Ke(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,Ke.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,Ke.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===kf?-1:0}withIndex(n){if(n===Ru||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Ru||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Un),s=r.getIterator(Un),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Ru?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),JA=class extends Nt{constructor(){super(new Qr(A1),Nt.EMPTY_NODE,ku.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Nt.EMPTY_NODE}isEmpty(){return!1}},kf=new JA;Object.defineProperties(Ke,{MIN:{value:new Ke(Nu,Nt.EMPTY_NODE)},MAX:{value:new Ke(yl,kf)}});I_.__EMPTY_NODE=Nt.EMPTY_NODE;Pu.__childrenNodeConstructor=Nt;Loe(kf);Uoe(kf);var Boe=!0;function Vn(t,e=null){if(t===null)return Nt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),J(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Pu(n,Vn(e))}if(!(t instanceof Array)&&Boe){let n=[],r=!1;if(Yr(t,(o,a)=>{if(o.substring(0,1)!=="."){let l=Vn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ke(o,l)))}}),n.length===0)return Nt.EMPTY_NODE;let s=b_(n,Foe,o=>o.name,A1);if(r){let o=b_(n,Un.getCompare());return new Nt(s,Vn(e),new ku({".priority":o},{".priority":Un}))}else return new Nt(s,Vn(e),ku.Default)}else{let n=Nt.EMPTY_NODE;return Yr(t,(r,i)=>{if(Bi(t,r)&&r.substring(0,1)!=="."){let s=Vn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Vn(e))}}Voe(Vn);var XA=class extends Mu{constructor(e){super(),this.indexPath_=e,J(!$e(e)&&We(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Vu(e.name,n.name):s}makePost(e,n){let r=Vn(e),i=Nt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ke(n,i)}maxPost(){let e=Nt.EMPTY_NODE.updateChild(this.indexPath_,kf);return new Ke(yl,e)}toString(){return NB(this.indexPath_,0).join("/")}};var e1=class extends Mu{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Vu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ke.MIN}maxPost(){return Ke.MAX}makePost(e,n){let r=Vn(e);return new Ke(n,r)}toString(){return".value"}},$oe=new e1;function Hoe(t){return{type:"value",snapshotNode:t}}function zoe(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function qoe(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function W3(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Goe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var t1=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Un}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return J(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return J(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Nu}hasEnd(){return this.endSet_}getIndexEndValue(){return J(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return J(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return J(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Un}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function K3(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Un?n="$priority":t.index_===$oe?n="$value":t.index_===Ru?n="$key":(J(t.index_ instanceof XA,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=an(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=an(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+an(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=an(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+an(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Q3(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Un&&(e.i=t.index_.toString()),e}var n1=class t extends __{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Mf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(J(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let l=K3(e._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),La(this.listens_,o)===a){let p;c?c===401?p="permission_denied":p="rest_error:"+c:p="ok",i(p,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=K3(e._queryParams),r=e._path.toString(),i=new Oa;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ao(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Vc(a.responseText)}catch{Ar("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ar("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var r1=class{constructor(){this.rootNode_=Nt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function C_(){return{value:null,children:new Map}}function UB(t,e,n){if($e(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=We(e);t.children.has(r)||t.children.set(r,C_());let i=t.children.get(r);e=Ct(e),UB(i,e,n)}}function i1(t,e,n){t.value!==null?n(e,t.value):Woe(t,(r,i)=>{let s=new gt(e.toString()+"/"+r);i1(i,s,n)})}function Woe(t,e){t.children.forEach((n,r)=>{e(r,n)})}var s1=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Yr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var Y3=10*1e3,Koe=30*1e3,Qoe=5*60*1e3,o1=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new s1(e);let r=Y3+(Koe-Y3)*Math.random();Cf(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Yr(e,(i,s)=>{s>0&&Bi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Cf(this.reportStats_.bind(this),Math.floor(Math.random()*2*Qoe))}};var qs=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(qs||{});function jB(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function BB(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $B(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var a1=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=qs.ACK_USER_WRITE,this.source=jB()}operationForChild(e){if($e(this.path)){if(this.affectedTree.value!=null)return J(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new gt(e));return new t(ut(),n,this.revert)}}else return J(We(this.path)===e,"operationForChild called for unrelated child."),new t(Ct(this.path),this.affectedTree,this.revert)}};var Ou=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=qs.OVERWRITE}operationForChild(e){return $e(this.path)?new t(this.source,ut(),this.snap.getImmediateChild(e)):new t(this.source,Ct(this.path),this.snap)}};var T_=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=qs.MERGE}operationForChild(e){if($e(this.path)){let n=this.children.subtree(new gt(e));return n.isEmpty()?null:n.value?new Ou(this.source,ut(),n.value):new t(this.source,ut(),n)}else return J(We(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Ct(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Af=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($e(e))return this.isFullyInitialized()&&!this.filtered_;let n=We(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function Yoe(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Goe(o.childName,o.snapshotNode))}),bf(t,i,"child_removed",e,r,n),bf(t,i,"child_added",e,r,n),bf(t,i,"child_moved",s,r,n),bf(t,i,"child_changed",e,r,n),bf(t,i,"value",e,r,n),i}function bf(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,l)=>Joe(t,a,l)),o.forEach(a=>{let l=Zoe(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Zoe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Joe(t,e,n){if(e.childName==null||n.childName==null)throw Fa("Should only compare child_ events.");let r=new Ke(e.childName,e.snapshotNode),i=new Ke(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function HB(t,e){return{eventCache:t,serverCache:e}}function Sf(t,e,n,r){return HB(new Af(e,n,r),t.serverCache)}function zB(t,e,n,r){return HB(t.eventCache,new Af(e,n,r))}function l1(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function vl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var NA,Xoe=()=>(NA||(NA=new Qr(Xse)),NA),ur=class t{constructor(e,n=Xoe()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Yr(e,(r,i)=>{n=n.set(new gt(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ut(),value:this.value};if($e(e))return null;{let r=We(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(Ct(e),n);return s!=null?{path:un(new gt(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($e(e))return this;{let n=We(e),r=this.children.get(n);return r!==null?r.subtree(Ct(e)):new t(null)}}set(e,n){if($e(e))return new t(n,this.children);{let r=We(e),s=(this.children.get(r)||new t(null)).set(Ct(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if($e(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=We(e),r=this.children.get(n);if(r){let i=r.remove(Ct(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if($e(e))return this.value;{let n=We(e),r=this.children.get(n);return r?r.get(Ct(e)):null}}setTree(e,n){if($e(e))return n;{let r=We(e),s=(this.children.get(r)||new t(null)).setTree(Ct(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(ut(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(un(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ut(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if($e(e))return null;{let s=We(e),o=this.children.get(s);return o?o.findOnPath_(Ct(e),un(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ut(),n)}foreachOnPath_(e,n,r){if($e(e))return this;{this.value&&r(n,this.value);let i=We(e),s=this.children.get(i);return s?s.foreachOnPath_(Ct(e),un(n,i),r):new t(null)}}foreach(e){this.foreach_(ut(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(un(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Ci=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new ur(null))}};function Df(t,e,n){if($e(e))return new Ci(new ur(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Kr(i,e);return s=s.updateChild(o,n),new Ci(t.writeTree_.set(i,s))}else{let i=new ur(n),s=t.writeTree_.setTree(e,i);return new Ci(s)}}}function Z3(t,e,n){let r=t;return Yr(n,(i,s)=>{r=Df(r,un(e,i),s)}),r}function J3(t,e){if($e(e))return Ci.empty();{let n=t.writeTree_.setTree(e,new ur(null));return new Ci(n)}}function c1(t,e){return _l(t,e)!=null}function _l(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Kr(n.path,e)):null}function X3(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Un,(r,i)=>{e.push(new Ke(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ke(r,i.value))}),e}function Qo(t,e){if($e(e))return t;{let n=_l(t,e);return n!=null?new Ci(new ur(n)):new Ci(t.writeTree_.subtree(e))}}function u1(t){return t.writeTree_.isEmpty()}function Fu(t,e){return qB(ut(),t.writeTree_,e)}function qB(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(J(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=qB(un(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(un(t,".priority"),r)),n}}function GB(t,e){return ZB(e,t)}function eae(t,e,n,r,i){J(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Df(t.visibleWrites,e,n)),t.lastWriteId=r}function tae(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function nae(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);J(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&rae(a,r.path)?i=!1:bi(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return iae(t),!0;if(r.snap)t.visibleWrites=J3(t.visibleWrites,r.path);else{let a=r.children;Yr(a,l=>{t.visibleWrites=J3(t.visibleWrites,un(r.path,l))})}return!0}else return!1}function rae(t,e){if(t.snap)return bi(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&bi(un(t.path,n),e))return!0;return!1}function iae(t){t.visibleWrites=WB(t.allWrites,sae,ut()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function sae(t){return t.visible}function WB(t,e,n){let r=Ci.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)bi(n,o)?(a=Kr(n,o),r=Df(r,a,s.snap)):bi(o,n)&&(a=Kr(o,n),r=Df(r,ut(),s.snap.getChild(a)));else if(s.children){if(bi(n,o))a=Kr(n,o),r=Z3(r,a,s.children);else if(bi(o,n))if(a=Kr(o,n),$e(a))r=Z3(r,ut(),s.children);else{let l=La(s.children,We(a));if(l){let c=l.getChild(Ct(a));r=Df(r,ut(),c)}}}else throw Fa("WriteRecord should have .snap or .children")}}return r}function KB(t,e,n,r,i){if(!r&&!i){let s=_l(t.visibleWrites,e);if(s!=null)return s;{let o=Qo(t.visibleWrites,e);if(u1(o))return n;if(n==null&&!c1(o,ut()))return null;{let a=n||Nt.EMPTY_NODE;return Fu(o,a)}}}else{let s=Qo(t.visibleWrites,e);if(!i&&u1(s))return n;if(!i&&n==null&&!c1(s,ut()))return null;{let o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(bi(c.path,e)||bi(e,c.path))},a=WB(t.allWrites,o,e),l=n||Nt.EMPTY_NODE;return Fu(a,l)}}}function oae(t,e,n){let r=Nt.EMPTY_NODE,i=_l(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Un,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=Qo(t.visibleWrites,e);return n.forEachChild(Un,(o,a)=>{let l=Fu(Qo(s,new gt(o)),a);r=r.updateImmediateChild(o,l)}),X3(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=Qo(t.visibleWrites,e);return X3(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function aae(t,e,n,r,i){J(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=un(e,n);if(c1(t.visibleWrites,s))return null;{let o=Qo(t.visibleWrites,s);return u1(o)?i.getChild(n):Fu(o,i.getChild(n))}}function lae(t,e,n,r){let i=un(e,n),s=_l(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=Qo(t.visibleWrites,i);return Fu(o,r.getNode().getImmediateChild(n))}else return null}function cae(t,e){return _l(t.visibleWrites,e)}function uae(t,e,n,r,i,s,o){let a,l=Qo(t.visibleWrites,e),c=_l(l,ut());if(c!=null)a=c;else if(n!=null)a=Fu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let d=[],h=o.getCompare(),p=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),g=p.getNext();for(;g&&d.length<i;)h(g,r)!==0&&d.push(g),g=p.getNext();return d}else return[]}function dae(){return{visibleWrites:Ci.empty(),allWrites:[],lastWriteId:-1}}function d1(t,e,n,r){return KB(t.writeTree,t.treePath,e,n,r)}function QB(t,e){return oae(t.writeTree,t.treePath,e)}function eB(t,e,n,r){return aae(t.writeTree,t.treePath,e,n,r)}function S_(t,e){return cae(t.writeTree,un(t.treePath,e))}function hae(t,e,n,r,i,s){return uae(t.writeTree,t.treePath,e,n,r,i,s)}function x1(t,e,n){return lae(t.writeTree,t.treePath,e,n)}function YB(t,e){return ZB(un(t.treePath,e),t.writeTree)}function ZB(t,e){return{treePath:t,writeTree:e}}var h1=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;J(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),J(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,W3(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,qoe(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,zoe(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,W3(r,e.snapshotNode,i.oldSnap));else throw Fa("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var f1=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},JB=new f1,xf=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Af(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return x1(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:vl(this.viewCache_),s=hae(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function fae(t,e){J(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),J(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function pae(t,e,n,r,i){let s=new h1,o,a;if(n.type===qs.OVERWRITE){let c=n;c.source.fromUser?o=p1(t,e,c.path,c.snap,r,i,s):(J(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!$e(c.path),o=D_(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===qs.MERGE){let c=n;c.source.fromUser?o=gae(t,e,c.path,c.children,r,i,s):(J(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=m1(t,e,c.path,c.children,r,i,a,s))}else if(n.type===qs.ACK_USER_WRITE){let c=n;c.revert?o=_ae(t,e,c.path,r,i,s):o=yae(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===qs.LISTEN_COMPLETE)o=vae(t,e,n.path,r,s);else throw Fa("Unknown operation type: "+n.type);let l=s.getChanges();return mae(e,o,l),{viewCache:o,changes:l}}function mae(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=l1(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Hoe(l1(e)))}}function XB(t,e,n,r,i,s){let o=e.eventCache;if(S_(r,n)!=null)return e;{let a,l;if($e(n))if(J(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=vl(e),d=c instanceof Nt?c:Nt.EMPTY_NODE,h=QB(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{let c=d1(r,vl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{let c=We(n);if(c===".priority"){J(Yo(n)===1,"Can't have a priority with additional path components");let d=o.getNode();l=e.serverCache.getNode();let h=eB(r,n,d,l);h!=null?a=t.filter.updatePriority(d,h):a=o.getNode()}else{let d=Ct(n),h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();let p=eB(r,n,o.getNode(),l);p!=null?h=o.getNode().getImmediateChild(c).updateChild(d,p):h=o.getNode().getImmediateChild(c)}else h=x1(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,d,i,s):a=o.getNode()}}return Sf(e,a,o.isFullyInitialized()||$e(n),t.filter.filtersNodes())}}function D_(t,e,n,r,i,s,o,a){let l=e.serverCache,c,d=o?t.filter:t.filter.getIndexedFilter();if($e(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){let g=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),g,null)}else{let g=We(n);if(!l.isCompleteForPath(n)&&Yo(n)>1)return e;let _=Ct(n),A=l.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?c=d.updatePriority(l.getNode(),A):c=d.updateChild(l.getNode(),g,A,_,JB,null)}let h=zB(e,c,l.isFullyInitialized()||$e(n),d.filtersNodes()),p=new xf(i,h,s);return XB(t,h,n,i,p,a)}function p1(t,e,n,r,i,s,o){let a=e.eventCache,l,c,d=new xf(i,e,s);if($e(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Sf(e,c,!0,t.filter.filtersNodes());else{let h=We(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Sf(e,c,a.isFullyInitialized(),a.isFiltered());else{let p=Ct(n),g=a.getNode().getImmediateChild(h),_;if($e(p))_=r;else{let T=d.getCompleteChild(h);T!=null?RB(p)===".priority"&&T.getChild(MB(p)).isEmpty()?_=T:_=T.updateChild(p,r):_=Nt.EMPTY_NODE}if(g.equals(_))l=e;else{let T=t.filter.updateChild(a.getNode(),h,_,p,d,o);l=Sf(e,T,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function tB(t,e){return t.eventCache.isCompleteForChild(e)}function gae(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{let d=un(n,l);tB(e,We(d))&&(a=p1(t,a,d,c,i,s,o))}),r.foreach((l,c)=>{let d=un(n,l);tB(e,We(d))||(a=p1(t,a,d,c,i,s,o))}),a}function nB(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function m1(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;$e(n)?c=r:c=new ur(null).setTree(n,r);let d=e.serverCache.getNode();return c.children.inorderTraversal((h,p)=>{if(d.hasChild(h)){let g=e.serverCache.getNode().getImmediateChild(h),_=nB(t,g,p);l=D_(t,l,new gt(h),_,i,s,o,a)}}),c.children.inorderTraversal((h,p)=>{let g=!e.serverCache.isCompleteForChild(h)&&p.value===null;if(!d.hasChild(h)&&!g){let _=e.serverCache.getNode().getImmediateChild(h),T=nB(t,_,p);l=D_(t,l,new gt(h),T,i,s,o,a)}}),l}function yae(t,e,n,r,i,s,o){if(S_(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if($e(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return D_(t,e,n,l.getNode().getChild(n),i,s,a,o);if($e(n)){let c=new ur(null);return l.getNode().forEachChild(Ru,(d,h)=>{c=c.set(new gt(d),h)}),m1(t,e,n,c,i,s,a,o)}else return e}else{let c=new ur(null);return r.foreach((d,h)=>{let p=un(n,d);l.isCompleteForPath(p)&&(c=c.set(d,l.getNode().getChild(p)))}),m1(t,e,n,c,i,s,a,o)}}function vae(t,e,n,r,i){let s=e.serverCache,o=zB(e,s.getNode(),s.isFullyInitialized()||$e(n),s.isFiltered());return XB(t,o,n,r,JB,i)}function _ae(t,e,n,r,i,s){let o;if(S_(r,n)!=null)return e;{let a=new xf(r,e,i),l=e.eventCache.getNode(),c;if($e(n)||We(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=d1(r,vl(e));else{let h=e.serverCache.getNode();J(h instanceof Nt,"serverChildren would be complete if leaf node"),d=QB(r,h)}d=d,c=t.filter.updateFullNode(l,d,s)}else{let d=We(n),h=x1(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=t.filter.updateChild(l,d,h,Ct(n),a,s):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,Nt.EMPTY_NODE,Ct(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=d1(r,vl(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||S_(r,ut())!=null,Sf(e,c,o,t.filter.filtersNodes())}}function wae(t,e){let n=vl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!$e(e)&&!n.getImmediateChild(We(e)).isEmpty())?n.getChild(e):null}function rB(t,e,n,r){e.type===qs.MERGE&&e.source.queryId!==null&&(J(vl(t.viewCache_),"We should always have a full cache before handling merges"),J(l1(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=pae(t.processor_,i,e,n,r);return fae(t.processor_,s.viewCache),J(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Eae(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Eae(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return Yoe(t.eventGenerator_,e,n,i)}var iB;function Iae(t){J(!iB,"__referenceConstructor has already been defined"),iB=t}function R1(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return J(s!=null,"SyncTree gave us an op for an invalid query."),rB(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(rB(o,e,n,r));return s}}function N1(t,e){let n=null;for(let r of t.views.values())n=n||wae(r,e);return n}var sB;function bae(t){J(!sB,"__referenceConstructor has already been defined"),sB=t}var A_=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ur(null),this.pendingWriteTree_=dae(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Cae(t,e,n,r,i){return eae(t.pendingWriteTree_,e,n,r,i),i?R_(t,new Ou(jB(),e,n)):[]}function Au(t,e,n=!1){let r=tae(t.pendingWriteTree_,e);if(nae(t.pendingWriteTree_,e)){let s=new ur(null);return r.snap!=null?s=s.set(ut(),!0):Yr(r.children,o=>{s=s.set(new gt(o),!0)}),R_(t,new a1(r.path,s,n))}else return[]}function x_(t,e,n){return R_(t,new Ou(BB(),e,n))}function Tae(t,e,n){let r=ur.fromObject(n);return R_(t,new T_(BB(),e,r))}function Sae(t,e,n,r){let i=r4(t,r);if(i!=null){let s=i4(i),o=s.path,a=s.queryId,l=Kr(o,e),c=new Ou($B(a),l,n);return s4(t,o,c)}else return[]}function Dae(t,e,n,r){let i=r4(t,r);if(i){let s=i4(i),o=s.path,a=s.queryId,l=Kr(o,e),c=ur.fromObject(n),d=new T_($B(a),l,c);return s4(t,o,d)}else return[]}function e4(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let l=Kr(o,e),c=N1(a,l);if(c)return c});return KB(i,e,s,n,!0)}function R_(t,e){return t4(e,t.syncPointTree_,null,GB(t.pendingWriteTree_,ut()))}function t4(t,e,n,r){if($e(t.path))return n4(t,e,n,r);{let i=e.get(ut());n==null&&i!=null&&(n=N1(i,ut()));let s=[],o=We(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){let c=n?n.getImmediateChild(o):null,d=YB(r,o);s=s.concat(t4(a,l,c,d))}return i&&(s=s.concat(R1(i,t,r,n))),s}}function n4(t,e,n,r){let i=e.get(ut());n==null&&i!=null&&(n=N1(i,ut()));let s=[];return e.children.inorderTraversal((o,a)=>{let l=n?n.getImmediateChild(o):null,c=YB(r,o),d=t.operationForChild(o);d&&(s=s.concat(n4(d,a,l,c)))}),i&&(s=s.concat(R1(i,t,r,n))),s}function r4(t,e){return t.tagToQueryMap.get(e)}function i4(t){let e=t.indexOf("$");return J(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new gt(t.substr(0,e))}}function s4(t,e,n){let r=t.syncPointTree_.get(e);J(r,"Missing sync point for query tag that we're tracking");let i=GB(t.pendingWriteTree_,e);return R1(r,n,i,null)}var g1=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},y1=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=un(this.path_,e);return new t(this.syncTree_,n)}node(){return e4(this.syncTree_,this.path_)}},Aae=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},oB=function(t,e,n){if(!t||typeof t!="object")return t;if(J(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return xae(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Rae(t[".sv"],e);J(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},xae=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:J(!1,"Unexpected server value: "+t)}},Rae=function(t,e,n){t.hasOwnProperty("increment")||J(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&J(!1,"Unexpected increment value: "+r);let i=e.node();if(J(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},Nae=function(t,e,n,r){return M1(e,new y1(n,t),r)},Mae=function(t,e,n){return M1(t,new g1(e),n)};function M1(t,e,n){let r=t.getPriority().val(),i=oB(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=oB(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Pu(a,Vn(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Pu(i))),o.forEachChild(Un,(a,l)=>{let c=M1(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}var Rf=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function P1(t,e){let n=e instanceof gt?e:new gt(e),r=t,i=We(n);for(;i!==null;){let s=La(r.node.children,i)||{children:{},childCount:0};r=new Rf(i,r,s),n=Ct(n),i=We(n)}return r}function Uu(t){return t.node.value}function o4(t,e){t.node.value=e,v1(t)}function a4(t){return t.node.childCount>0}function Pae(t){return Uu(t)===void 0&&!a4(t)}function N_(t,e){Yr(t.node.children,(n,r)=>{e(new Rf(n,t,r))})}function l4(t,e,n,r){n&&!r&&e(t),N_(t,i=>{l4(i,e,!0,r)}),n&&r&&e(t)}function kae(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Of(t){return new gt(t.parent===null?t.name:Of(t.parent)+"/"+t.name)}function v1(t){t.parent!==null&&Oae(t.parent,t.name,t)}function Oae(t,e,n){let r=Pae(n),i=Bi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,v1(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,v1(t))}var Fae=/[\[\].#$\/\u0000-\u001F\u007F]/,Lae=/[\[\].#$\u0000-\u001F\u007F]/,MA=10*1024*1024,c4=function(t){return typeof t=="string"&&t.length!==0&&!Fae.test(t)},Vae=function(t){return typeof t=="string"&&t.length!==0&&!Lae.test(t)},Uae=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Vae(t)};var u4=function(t,e,n){let r=n instanceof gt?new GA(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+pl(r));if(typeof e=="function")throw new Error(t+"contains a function "+pl(r)+" with contents = "+e.toString());if(hB(e))throw new Error(t+"contains "+e.toString()+" "+pl(r));if(typeof e=="string"&&e.length>MA/3&&Ih(e)>MA)throw new Error(t+"contains a string greater than "+MA+" utf8 bytes "+pl(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Yr(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!c4(o)))throw new Error(t+" contains an invalid key ("+o+") "+pl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Roe(r,o),u4(t,a,r),Noe(r)}),i&&s)throw new Error(t+' contains ".value" child '+pl(r)+" in addition to actual children.")}};var jae=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!c4(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Uae(n))throw new Error(rL(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var _1=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Bae(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!PB(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function wl(t,e,n){Bae(t,n),$ae(t,r=>bi(r,e)||bi(e,r))}function $ae(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(Hae(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Hae(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();gl&&Ln("event: "+n.toString()),Pf(r)}}}var zae="repo_interrupt",qae=25,w1=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=C_(),this.transactionQueueTree_=new Rf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function Gae(t,e,n){if(t.stats_=S1(t.repoInfo_),t.forceRestClient_||soe())t.server_=new n1(t.repoInfo_,(r,i,s,o)=>{aB(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>lB(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{an(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new D1(t.repoInfo_,e,(r,i,s,o)=>{aB(t,r,i,s,o)},r=>{lB(t,r)},r=>{Kae(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=aoe(t.repoInfo_,()=>new o1(t.stats_,t.server_)),t.infoData_=new r1,t.infoSyncTree_=new A_({startListening:(r,i,s,o)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=x_(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),k1(t,"connected",!1),t.serverSyncTree_=new A_({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{let c=o(a,l);wl(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Wae(t){let n=t.infoData_.getNode(new gt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function d4(t){return Aae({timestamp:Wae(t)})}function aB(t,e,n,r,i){t.dataUpdateCount++;let s=new gt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let l=Eh(n,c=>Vn(c));o=Dae(t.serverSyncTree_,s,l,i)}else{let l=Vn(n);o=Sae(t.serverSyncTree_,s,l,i)}else if(r){let l=Eh(n,c=>Vn(c));o=Tae(t.serverSyncTree_,s,l)}else{let l=Vn(n);o=x_(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=F1(t,s)),wl(t.eventQueue_,a,o)}function lB(t,e){k1(t,"connected",e),e===!1&&Yae(t)}function Kae(t,e){Yr(e,(n,r)=>{k1(t,n,r)})}function k1(t,e,n){let r=new gt("/.info/"+e),i=Vn(n);t.infoData_.updateSnapshot(r,i);let s=x_(t.infoSyncTree_,r,i);wl(t.eventQueue_,r,s)}function Qae(t){return t.nextWriteId_++}function Yae(t){h4(t,"onDisconnectEvents");let e=d4(t),n=C_();i1(t.onDisconnect_,ut(),(i,s)=>{let o=Nae(i,s,t.serverSyncTree_,e);UB(n,i,o)});let r=[];i1(n,ut(),(i,s)=>{r=r.concat(x_(t.serverSyncTree_,i,s));let o=ele(t,i);F1(t,o)}),t.onDisconnect_=C_(),wl(t.eventQueue_,ut(),r)}function Zae(t){t.persistentConnection_&&t.persistentConnection_.interrupt(zae)}function h4(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ln(n,...e)}function f4(t,e,n){return e4(t.serverSyncTree_,e,n)||Nt.EMPTY_NODE}function O1(t,e=t.transactionQueueTree_){if(e||M_(t,e),Uu(e)){let n=m4(t,e);J(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Jae(t,Of(e),n)}else a4(e)&&N_(e,n=>{O1(t,n)})}function Jae(t,e,n){let r=n.map(c=>c.currentWriteId),i=f4(t,e,r),s=i,o=i.hash();for(let c=0;c<n.length;c++){let d=n[c];J(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;let h=Kr(e,d.path);s=s.updateChild(h,d.currentOutputSnapshotRaw)}let a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{h4(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){let h=[];for(let p=0;p<n.length;p++)n[p].status=2,d=d.concat(Au(t.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&h.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();M_(t,P1(t.transactionQueueTree_,e)),O1(t,t.transactionQueueTree_),wl(t.eventQueue_,e,d);for(let p=0;p<h.length;p++)Pf(h[p])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Ar("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}F1(t,e)}},o)}function F1(t,e){let n=p4(t,e),r=Of(n),i=m4(t,n);return Xae(t,i,r),r}function Xae(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=Kr(n,l.path),d=!1,h;if(J(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,i=i.concat(Au(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=qae)d=!0,h="maxretry",i=i.concat(Au(t.serverSyncTree_,l.currentWriteId,!0));else{let p=f4(t,l.path,o);l.currentInputSnapshot=p;let g=e[a].update(p.val());if(g!==void 0){u4("transaction failed: Data returned ",g,l.path);let _=Vn(g);typeof g=="object"&&g!=null&&Bi(g,".priority")||(_=_.updatePriority(p.getPriority()));let A=l.currentWriteId,L=d4(t),H=Mae(_,p,L);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=H,l.currentWriteId=Qae(t),o.splice(o.indexOf(A),1),i=i.concat(Cae(t.serverSyncTree_,l.path,H,l.currentWriteId,l.applyLocally)),i=i.concat(Au(t.serverSyncTree_,A,!0))}else d=!0,h="nodata",i=i.concat(Au(t.serverSyncTree_,l.currentWriteId,!0))}wl(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,function(p){setTimeout(p,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}M_(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Pf(r[a]);O1(t,t.transactionQueueTree_)}function p4(t,e){let n,r=t.transactionQueueTree_;for(n=We(e);n!==null&&Uu(r)===void 0;)r=P1(r,n),e=Ct(e),n=We(e);return r}function m4(t,e){let n=[];return g4(t,e,n),n.sort((r,i)=>r.order-i.order),n}function g4(t,e,n){let r=Uu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);N_(e,i=>{g4(t,i,n)})}function M_(t,e){let n=Uu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,o4(e,n.length>0?n:void 0)}N_(e,r=>{M_(t,r)})}function ele(t,e){let n=Of(p4(t,e)),r=P1(t.transactionQueueTree_,e);return kae(r,i=>{PA(t,i)}),PA(t,r),l4(r,i=>{PA(t,i)}),n}function PA(t,e){let n=Uu(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(J(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(J(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Au(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?o4(e,void 0):n.length=s+1,wl(t.eventQueue_,Of(e),i);for(let o=0;o<r.length;o++)Pf(r[o])}}function tle(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function nle(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ar(`Invalid query segment '${n}' in query '${t}'`)}return e}var cB=function(t,e){let n=rle(t),r=n.namespace;n.domain==="firebase.com"&&Gs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Gs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Zse();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new y_(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new gt(n.pathString)}},rle=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(i=tle(t.substring(d,h)));let p=nle(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let g=e.slice(0,c);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{let _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in p&&(s=p.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var E1=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return $e(this._path)?null:RB(this._path)}get ref(){return new Lu(this._repo,this._path)}get _queryIdentifier(){let e=Q3(this._queryParams),n=T1(e);return n==="{}"?"default":n}get _queryObject(){return Q3(this._queryParams)}isEqual(e){if(e=ct(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=PB(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+xoe(this._path)}};var Lu=class t extends E1{constructor(e,n){super(e,n,new t1,!1)}get parent(){let e=MB(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};Iae(Lu);bae(Lu);var ile="FIREBASE_DATABASE_EMULATOR_HOST",I1={},sle=!1;function ole(t,e,n,r){t.repoInfo_=new y_(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function ale(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Gs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ln("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=cB(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[ile]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=cB(s,i),a=o.repoInfo):l=!o.repoInfo.secure;let d=i&&l?new Tf(Tf.OWNER):new UA(t.name,t.options,e);jae("Invalid Firebase Database URL",o),$e(o.path)||Gs("Database URL must point to the root of a Firebase Database (not including a child path).");let h=cle(a,t,d,new VA(t.name,n));return new b1(h,t)}function lle(t,e){let n=I1[e];(!n||n[t.key]!==t)&&Gs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Zae(t),delete n[t.key]}function cle(t,e,n,r){let i=I1[e.name];i||(i={},I1[e.name]=i);let s=i[t.toURLString()];return s&&Gs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new w1(t,sle,n,r),i[t.toURLString()]=s,s}var b1=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Gae(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Lu(this._repo,ut())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lle(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Gs("Cannot call "+e+" on a deleted database.")}};function y4(t=mi(),e){let n=Ir(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=Xg("database");r&&v4(n,...r)}return n}function v4(t,e,n,r={}){t=ct(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Gs("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Gs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Tf(Tf.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:ey(r.mockUserToken,t.app.options.projectId);s=new Tf(o)}ole(i,e,n,s)}function ule(t){Kse(Hi),Pn(new Wt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return ale(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),qe(N3,M3,t),qe(N3,M3,"esm2017")}D1.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};D1.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};ule();var Ff=class{constructor(e){return e}},_4="database",L1=class{constructor(){return Ms(_4)}};var V1=new $("angularfire2.database-instances");function dle(t,e){let n=No(_4,t,e);return n&&new Ff(n)}function hle(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ff(r)}}var fle={provide:L1,deps:[[new bt,V1]]},ple={provide:Ff,useFactory:dle,deps:[[new bt,V1],Cr]};function w4(t,...e){return qe("angularfire",br.full,"rtdb"),zt([ple,fle,{provide:V1,useFactory:hle(t),multi:!0,deps:[ye,at,zi,gi,[new bt,Ha],[new bt,Ro],...e]}])}var E4=st(y4,!0);var I4=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]];var b4=(t,e)=>{let n=S(cn);return n.show(),e(t).pipe(Z(r=>(console.log(r),r)),Xt(r=>$n(r)),Dn(()=>{setTimeout(()=>{n.hide()},0)}))};var mle={},C4=GF(mle,oC(es,(t,e)=>e),oC(Qv,(t,e)=>e));var T4={providers:[ck({eventCoalescing:!0}),BO(kj,db(),HO({scrollPositionRestoration:"top"})),_L(()=>wL({projectId:"sumanth-article-publishing",appId:"1:706459179395:web:49b792b0df61bbab90feb6",databaseURL:"https://sumanth-article-publishing-default-rtdb.asia-southeast1.firebasedatabase.app",storageBucket:"sumanth-article-publishing.appspot.com",apiKey:"AIzaSyBOx93nJBARMmyrnSK6LOGIY7lUhIEfvVw",authDomain:"sumanth-article-publishing.firebaseapp.com",messagingSenderId:"706459179395",measurementId:"G-W53E4QHKT3"})),_T(()=>wT()),R3(()=>A3()),x3,TA,yU(()=>vU()),_T(()=>wT()),w4(()=>E4()),bF(),Hk(qk(),zk([b4])),wj({modules:{syntax:!1,toolbar:I4}}),qF({loggedUser:C4})]};var S4=(()=>{class t{title="article-publishing-platform";authService=S(ns);firebase=S(Yn);loaderService=S(cn);changeDetector=S(Nn);articleService=S(Dt);articles;accesToken;http=S(_I);store=S(it);ngOnInit(){this.accesToken=sessionStorage.getItem("token"),this.firebase.onIdTokenChanged(n=>{if(n){let r={displayName:n?.displayName,email:n?.email,userUid:n?.uid,joinedOn:n?.metadata.creationTime,photoUrl:n?.photoURL};this.store.dispatch(es(r))}})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["app-root"]],standalone:!0,features:[se],decls:2,vars:0,template:function(r,i){r&1&&V(0,"router-outlet")(1,"app-toast")},dependencies:[Rs,Mj]})}return t})();Jk(S4,T4).catch(t=>console.error(t));
